(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=o(r);fetch(r.href,f)}})();function Jh(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var du={exports:{}},to={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function rv(){if(jp)return to;jp=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:l,type:a,key:p,ref:r!==void 0?r:null,props:f}}return to.Fragment=t,to.jsx=o,to.jsxs=o,to}var em;function uv(){return em||(em=1,du.exports=rv()),du.exports}var S=uv(),pu={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function cv(){if(tm)return fe;tm=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),C=Symbol.iterator;function A(x){return x===null||typeof x!="object"?null:(x=C&&x[C]||x["@@iterator"],typeof x=="function"?x:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,V={};function w(x,B,Q){this.props=x,this.context=B,this.refs=V,this.updater=Q||U}w.prototype.isReactComponent={},w.prototype.setState=function(x,B){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,B,"setState")},w.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function k(){}k.prototype=w.prototype;function b(x,B,Q){this.props=x,this.context=B,this.refs=V,this.updater=Q||U}var X=b.prototype=new k;X.constructor=b,P(X,w.prototype),X.isPureReactComponent=!0;var j=Array.isArray;function le(){}var Z={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function ne(x,B,Q){var te=Q.ref;return{$$typeof:l,type:x,key:B,ref:te!==void 0?te:null,props:Q}}function se(x,B){return ne(x.type,B,x.props)}function ge(x){return typeof x=="object"&&x!==null&&x.$$typeof===l}function ue(x){var B={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(Q){return B[Q]})}var He=/\/+/g;function $(x,B){return typeof x=="object"&&x!==null&&x.key!=null?ue(""+x.key):B.toString(36)}function ye(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(le,le):(x.status="pending",x.then(function(B){x.status==="pending"&&(x.status="fulfilled",x.value=B)},function(B){x.status==="pending"&&(x.status="rejected",x.reason=B)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function M(x,B,Q,te,pe){var ve=typeof x;(ve==="undefined"||ve==="boolean")&&(x=null);var Me=!1;if(x===null)Me=!0;else switch(ve){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(x.$$typeof){case l:case t:Me=!0;break;case v:return Me=x._init,M(Me(x._payload),B,Q,te,pe)}}if(Me)return pe=pe(x),Me=te===""?"."+$(x,0):te,j(pe)?(Q="",Me!=null&&(Q=Me.replace(He,"$&/")+"/"),M(pe,B,Q,"",function(ri){return ri})):pe!=null&&(ge(pe)&&(pe=se(pe,Q+(pe.key==null||x&&x.key===pe.key?"":(""+pe.key).replace(He,"$&/")+"/")+Me)),B.push(pe)),1;Me=0;var st=te===""?".":te+":";if(j(x))for(var Oe=0;Oe<x.length;Oe++)te=x[Oe],ve=st+$(te,Oe),Me+=M(te,B,Q,ve,pe);else if(Oe=A(x),typeof Oe=="function")for(x=Oe.call(x),Oe=0;!(te=x.next()).done;)te=te.value,ve=st+$(te,Oe++),Me+=M(te,B,Q,ve,pe);else if(ve==="object"){if(typeof x.then=="function")return M(ye(x),B,Q,te,pe);throw B=String(x),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Me}function F(x,B,Q){if(x==null)return x;var te=[],pe=0;return M(x,te,"","",function(ve){return B.call(Q,ve,pe++)}),te}function K(x){if(x._status===-1){var B=x._result;B=B(),B.then(function(Q){(x._status===0||x._status===-1)&&(x._status=1,x._result=Q)},function(Q){(x._status===0||x._status===-1)&&(x._status=2,x._result=Q)}),x._status===-1&&(x._status=0,x._result=B)}if(x._status===1)return x._result.default;throw x._result}var z=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},W={map:F,forEach:function(x,B,Q){F(x,function(){B.apply(this,arguments)},Q)},count:function(x){var B=0;return F(x,function(){B++}),B},toArray:function(x){return F(x,function(B){return B})||[]},only:function(x){if(!ge(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return fe.Activity=E,fe.Children=W,fe.Component=w,fe.Fragment=o,fe.Profiler=r,fe.PureComponent=b,fe.StrictMode=a,fe.Suspense=y,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,fe.__COMPILER_RUNTIME={__proto__:null,c:function(x){return Z.H.useMemoCache(x)}},fe.cache=function(x){return function(){return x.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(x,B,Q){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var te=P({},x.props),pe=x.key;if(B!=null)for(ve in B.key!==void 0&&(pe=""+B.key),B)!ce.call(B,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&B.ref===void 0||(te[ve]=B[ve]);var ve=arguments.length-2;if(ve===1)te.children=Q;else if(1<ve){for(var Me=Array(ve),st=0;st<ve;st++)Me[st]=arguments[st+2];te.children=Me}return ne(x.type,pe,te)},fe.createContext=function(x){return x={$$typeof:p,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:f,_context:x},x},fe.createElement=function(x,B,Q){var te,pe={},ve=null;if(B!=null)for(te in B.key!==void 0&&(ve=""+B.key),B)ce.call(B,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(pe[te]=B[te]);var Me=arguments.length-2;if(Me===1)pe.children=Q;else if(1<Me){for(var st=Array(Me),Oe=0;Oe<Me;Oe++)st[Oe]=arguments[Oe+2];pe.children=st}if(x&&x.defaultProps)for(te in Me=x.defaultProps,Me)pe[te]===void 0&&(pe[te]=Me[te]);return ne(x,ve,pe)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(x){return{$$typeof:g,render:x}},fe.isValidElement=ge,fe.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:K}},fe.memo=function(x,B){return{$$typeof:h,type:x,compare:B===void 0?null:B}},fe.startTransition=function(x){var B=Z.T,Q={};Z.T=Q;try{var te=x(),pe=Z.S;pe!==null&&pe(Q,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(le,z)}catch(ve){z(ve)}finally{B!==null&&Q.types!==null&&(B.types=Q.types),Z.T=B}},fe.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},fe.use=function(x){return Z.H.use(x)},fe.useActionState=function(x,B,Q){return Z.H.useActionState(x,B,Q)},fe.useCallback=function(x,B){return Z.H.useCallback(x,B)},fe.useContext=function(x){return Z.H.useContext(x)},fe.useDebugValue=function(){},fe.useDeferredValue=function(x,B){return Z.H.useDeferredValue(x,B)},fe.useEffect=function(x,B){return Z.H.useEffect(x,B)},fe.useEffectEvent=function(x){return Z.H.useEffectEvent(x)},fe.useId=function(){return Z.H.useId()},fe.useImperativeHandle=function(x,B,Q){return Z.H.useImperativeHandle(x,B,Q)},fe.useInsertionEffect=function(x,B){return Z.H.useInsertionEffect(x,B)},fe.useLayoutEffect=function(x,B){return Z.H.useLayoutEffect(x,B)},fe.useMemo=function(x,B){return Z.H.useMemo(x,B)},fe.useOptimistic=function(x,B){return Z.H.useOptimistic(x,B)},fe.useReducer=function(x,B,Q){return Z.H.useReducer(x,B,Q)},fe.useRef=function(x){return Z.H.useRef(x)},fe.useState=function(x){return Z.H.useState(x)},fe.useSyncExternalStore=function(x,B,Q){return Z.H.useSyncExternalStore(x,B,Q)},fe.useTransition=function(){return Z.H.useTransition()},fe.version="19.2.1",fe}var nm;function Uu(){return nm||(nm=1,pu.exports=cv()),pu.exports}var D=Uu();const fv=Jh(D);var mu={exports:{}},no={},hu={exports:{}},gu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function dv(){return lm||(lm=1,(function(l){function t(M,F){var K=M.length;M.push(F);e:for(;0<K;){var z=K-1>>>1,W=M[z];if(0<r(W,F))M[z]=F,M[K]=W,K=z;else break e}}function o(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var F=M[0],K=M.pop();if(K!==F){M[0]=K;e:for(var z=0,W=M.length,x=W>>>1;z<x;){var B=2*(z+1)-1,Q=M[B],te=B+1,pe=M[te];if(0>r(Q,K))te<W&&0>r(pe,Q)?(M[z]=pe,M[te]=K,z=te):(M[z]=Q,M[B]=K,z=B);else if(te<W&&0>r(pe,K))M[z]=pe,M[te]=K,z=te;else break e}}return F}function r(M,F){var K=M.sortIndex-F.sortIndex;return K!==0?K:M.id-F.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();l.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,E=null,C=3,A=!1,U=!1,P=!1,V=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function X(M){for(var F=o(h);F!==null;){if(F.callback===null)a(h);else if(F.startTime<=M)a(h),F.sortIndex=F.expirationTime,t(y,F);else break;F=o(h)}}function j(M){if(P=!1,X(M),!U)if(o(y)!==null)U=!0,le||(le=!0,ue());else{var F=o(h);F!==null&&ye(j,F.startTime-M)}}var le=!1,Z=-1,ce=5,ne=-1;function se(){return V?!0:!(l.unstable_now()-ne<ce)}function ge(){if(V=!1,le){var M=l.unstable_now();ne=M;var F=!0;try{e:{U=!1,P&&(P=!1,k(Z),Z=-1),A=!0;var K=C;try{t:{for(X(M),E=o(y);E!==null&&!(E.expirationTime>M&&se());){var z=E.callback;if(typeof z=="function"){E.callback=null,C=E.priorityLevel;var W=z(E.expirationTime<=M);if(M=l.unstable_now(),typeof W=="function"){E.callback=W,X(M),F=!0;break t}E===o(y)&&a(y),X(M)}else a(y);E=o(y)}if(E!==null)F=!0;else{var x=o(h);x!==null&&ye(j,x.startTime-M),F=!1}}break e}finally{E=null,C=K,A=!1}F=void 0}}finally{F?ue():le=!1}}}var ue;if(typeof b=="function")ue=function(){b(ge)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,$=He.port2;He.port1.onmessage=ge,ue=function(){$.postMessage(null)}}else ue=function(){w(ge,0)};function ye(M,F){Z=w(function(){M(l.unstable_now())},F)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(M){M.callback=null},l.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<M?Math.floor(1e3/M):5},l.unstable_getCurrentPriorityLevel=function(){return C},l.unstable_next=function(M){switch(C){case 1:case 2:case 3:var F=3;break;default:F=C}var K=C;C=F;try{return M()}finally{C=K}},l.unstable_requestPaint=function(){V=!0},l.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var K=C;C=M;try{return F()}finally{C=K}},l.unstable_scheduleCallback=function(M,F,K){var z=l.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?z+K:z):K=z,M){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=K+W,M={id:v++,callback:F,priorityLevel:M,startTime:K,expirationTime:W,sortIndex:-1},K>z?(M.sortIndex=K,t(h,M),o(y)===null&&M===o(h)&&(P?(k(Z),Z=-1):P=!0,ye(j,K-z))):(M.sortIndex=W,t(y,M),U||A||(U=!0,le||(le=!0,ue()))),M},l.unstable_shouldYield=se,l.unstable_wrapCallback=function(M){var F=C;return function(){var K=C;C=F;try{return M.apply(this,arguments)}finally{C=K}}}})(gu)),gu}var im;function pv(){return im||(im=1,hu.exports=dv()),hu.exports}var yu={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function mv(){if(om)return ot;om=1;var l=Uu();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,h,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:y,containerInfo:h,implementation:v}}var p=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ot.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return f(y,h,null,v)},ot.flushSync=function(y){var h=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=v,a.d.f()}},ot.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},ot.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},ot.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,E=g(v,h.crossOrigin),C=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:E,integrity:C,fetchPriority:A}):v==="script"&&a.d.X(y,{crossOrigin:E,integrity:C,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ot.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},ot.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,E=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:E,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ot.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},ot.requestFormReset=function(y){a.d.r(y)},ot.unstable_batchedUpdates=function(y,h){return y(h)},ot.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},ot.useFormStatus=function(){return p.H.useHostTransitionStatus()},ot.version="19.2.1",ot}var am;function hv(){if(am)return yu.exports;am=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),yu.exports=mv(),yu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function gv(){if(sm)return no;sm=1;var l=pv(),t=Uu(),o=hv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var i=e,s=n;;){var d=i.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){i=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===i)return y(d),e;if(m===s)return y(d),n;m=m.sibling}throw Error(a(188))}if(i.return!==s.return)i=d,s=m;else{for(var T=!1,_=d.child;_;){if(_===i){T=!0,i=d,s=m;break}if(_===s){T=!0,s=d,i=m;break}_=_.sibling}if(!T){for(_=m.child;_;){if(_===i){T=!0,i=m,s=d;break}if(_===s){T=!0,s=m,i=d;break}_=_.sibling}if(!T)throw Error(a(189))}}if(i.alternate!==s)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,C=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),b=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var He=Symbol.for("react.client.reference");function $(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===He?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case w:return"Profiler";case V:return"StrictMode";case j:return"Suspense";case le:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case b:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case X:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return n=e.displayName||null,n!==null?n:$(e.type)||"Memo";case ce:n=e._payload,e=e._init;try{return $(e(n))}catch{}}return null}var ye=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},z=[],W=-1;function x(e){return{current:e}}function B(e){0>W||(e.current=z[W],z[W]=null,W--)}function Q(e,n){W++,z[W]=e.current,e.current=n}var te=x(null),pe=x(null),ve=x(null),Me=x(null);function st(e,n){switch(Q(ve,n),Q(pe,e),Q(te,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Cp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Cp(n),e=_p(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(te),Q(te,e)}function Oe(){B(te),B(pe),B(ve)}function ri(e){e.memoizedState!==null&&Q(Me,e);var n=te.current,i=_p(n,e.type);n!==i&&(Q(pe,e),Q(te,i))}function uo(e){pe.current===e&&(B(te),B(pe)),Me.current===e&&(B(Me),$i._currentValue=K)}var Qa,$u;function Yn(e){if(Qa===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Qa=n&&n[1]||"",$u=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qa+e+$u}var Xa=!1;function Za(e,n){if(!e||Xa)return"";Xa=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var G=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){G=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){G=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&G&&typeof H.stack=="string")return[H.stack,G.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),T=m[0],_=m[1];if(T&&_){var N=T.split(`
`),q=_.split(`
`);for(d=s=0;s<N.length&&!N[s].includes("DetermineComponentFrameRoot");)s++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(s===N.length||d===q.length)for(s=N.length-1,d=q.length-1;1<=s&&0<=d&&N[s]!==q[d];)d--;for(;1<=s&&0<=d;s--,d--)if(N[s]!==q[d]){if(s!==1||d!==1)do if(s--,d--,0>d||N[s]!==q[d]){var O=`
`+N[s].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=s&&0<=d);break}}}finally{Xa=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Yn(i):""}function zg(e,n){switch(e.tag){case 26:case 27:case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return e.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Za(e.type,!1);case 11:return Za(e.type.render,!1);case 1:return Za(e.type,!0);case 31:return Yn("Activity");default:return""}}function Wu(e){try{var n="",i=null;do n+=zg(e,i),i=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var $a=Object.prototype.hasOwnProperty,Wa=l.unstable_scheduleCallback,ja=l.unstable_cancelCallback,Vg=l.unstable_shouldYield,kg=l.unstable_requestPaint,yt=l.unstable_now,Bg=l.unstable_getCurrentPriorityLevel,ju=l.unstable_ImmediatePriority,ec=l.unstable_UserBlockingPriority,co=l.unstable_NormalPriority,Fg=l.unstable_LowPriority,tc=l.unstable_IdlePriority,Og=l.log,Jg=l.unstable_setDisableYieldValue,ui=null,vt=null;function Tn(e){if(typeof Og=="function"&&Jg(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(ui,e)}catch{}}var Tt=Math.clz32?Math.clz32:Qg,Yg=Math.log,Kg=Math.LN2;function Qg(e){return e>>>=0,e===0?32:31-(Yg(e)/Kg|0)|0}var fo=256,po=262144,mo=4194304;function Kn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ho(e,n,i){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~m,s!==0?d=Kn(s):(T&=_,T!==0?d=Kn(T):i||(i=_&~e,i!==0&&(d=Kn(i))))):(_=s&~m,_!==0?d=Kn(_):T!==0?d=Kn(T):i||(i=s&~e,i!==0&&(d=Kn(i)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,i=n&-n,m>=i||m===32&&(i&4194048)!==0)?n:d}function ci(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Xg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nc(){var e=mo;return mo<<=1,(mo&62914560)===0&&(mo=4194304),e}function es(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function fi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zg(e,n,i,s,d,m){var T=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var _=e.entanglements,N=e.expirationTimes,q=e.hiddenUpdates;for(i=T&~i;0<i;){var O=31-Tt(i),Y=1<<O;_[O]=0,N[O]=-1;var G=q[O];if(G!==null)for(q[O]=null,O=0;O<G.length;O++){var H=G[O];H!==null&&(H.lane&=-536870913)}i&=~Y}s!==0&&lc(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~n))}function lc(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Tt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function ic(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var s=31-Tt(i),d=1<<s;d&n|e[s]&n&&(e[s]|=n),i&=~d}}function oc(e,n){var i=n&-n;return i=(i&42)!==0?1:ts(i),(i&(e.suspendedLanes|n))!==0?0:i}function ts(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ns(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ac(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:Yp(e.type))}function sc(e,n){var i=F.p;try{return F.p=e,n()}finally{F.p=i}}var En=Math.random().toString(36).slice(2),et="__reactFiber$"+En,ct="__reactProps$"+En,hl="__reactContainer$"+En,ls="__reactEvents$"+En,$g="__reactListeners$"+En,Wg="__reactHandles$"+En,rc="__reactResources$"+En,di="__reactMarker$"+En;function is(e){delete e[et],delete e[ct],delete e[ls],delete e[$g],delete e[Wg]}function gl(e){var n=e[et];if(n)return n;for(var i=e.parentNode;i;){if(n=i[hl]||i[et]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Ip(e);e!==null;){if(i=e[et])return i;e=Ip(e)}return n}e=i,i=e.parentNode}return null}function yl(e){if(e=e[et]||e[hl]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function pi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function vl(e){var n=e[rc];return n||(n=e[rc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function We(e){e[di]=!0}var uc=new Set,cc={};function Qn(e,n){Tl(e,n),Tl(e+"Capture",n)}function Tl(e,n){for(cc[e]=n,e=0;e<n.length;e++)uc.add(n[e])}var jg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fc={},dc={};function ey(e){return $a.call(dc,e)?!0:$a.call(fc,e)?!1:jg.test(e)?dc[e]=!0:(fc[e]=!0,!1)}function go(e,n,i){if(ey(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function yo(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Xt(e,n,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+s)}}function Mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ty(e,n,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(T){i=""+T,m.call(this,T)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(T){i=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function os(e){if(!e._valueTracker){var n=pc(e)?"checked":"value";e._valueTracker=ty(e,n,""+e[n])}}function mc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),s="";return e&&(s=pc(e)?e.checked?"true":"false":e.value),e=s,e!==i?(n.setValue(e),!0):!1}function vo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ny=/[\n"\\]/g;function bt(e){return e.replace(ny,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function as(e,n,i,s,d,m,T,_){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Mt(n)):e.value!==""+Mt(n)&&(e.value=""+Mt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?ss(e,T,Mt(n)):i!=null?ss(e,T,Mt(i)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Mt(_):e.removeAttribute("name")}function hc(e,n,i,s,d,m,T,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){os(e);return}i=i!=null?""+Mt(i):"",n=n!=null?""+Mt(n):i,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),os(e)}function ss(e,n,i){n==="number"&&vo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function El(e,n,i,s){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Mt(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function gc(e,n,i){if(n!=null&&(n=""+Mt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Mt(i):""}function yc(e,n,i,s){if(n==null){if(s!=null){if(i!=null)throw Error(a(92));if(ye(s)){if(1<s.length)throw Error(a(93));s=s[0]}i=s}i==null&&(i=""),n=i}i=Mt(n),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),os(e)}function Sl(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var ly=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vc(e,n,i){var s=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,i):typeof i!="number"||i===0||ly.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Tc(e,n,i){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&i[d]!==s&&vc(e,d,s)}else for(var m in n)n.hasOwnProperty(m)&&vc(e,m,n[m])}function rs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(e){return oy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zt(){}var us=null;function cs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cl=null,_l=null;function Ec(e){var n=yl(e);if(n&&(e=n.stateNode)){var i=e[ct]||null;e:switch(e=n.stateNode,n.type){case"input":if(as(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+bt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==e&&s.form===e.form){var d=s[ct]||null;if(!d)throw Error(a(90));as(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<i.length;n++)s=i[n],s.form===e.form&&mc(s)}break e;case"textarea":gc(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&El(e,!!i.multiple,n,!1)}}}var fs=!1;function Sc(e,n,i){if(fs)return e(n,i);fs=!0;try{var s=e(n);return s}finally{if(fs=!1,(Cl!==null||_l!==null)&&(aa(),Cl&&(n=Cl,e=_l,_l=Cl=null,Ec(n),e)))for(n=0;n<e.length;n++)Ec(e[n])}}function mi(e,n){var i=e.stateNode;if(i===null)return null;var s=i[ct]||null;if(s===null)return null;i=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ds=!1;if($t)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){ds=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{ds=!1}var Sn=null,ps=null,Eo=null;function Cc(){if(Eo)return Eo;var e,n=ps,i=n.length,s,d="value"in Sn?Sn.value:Sn.textContent,m=d.length;for(e=0;e<i&&n[e]===d[e];e++);var T=i-e;for(s=1;s<=T&&n[i-s]===d[m-s];s++);return Eo=d.slice(e,1<s?1-s:void 0)}function So(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Co(){return!0}function _c(){return!1}function ft(e){function n(i,s,d,m,T){this._reactName=i,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Co:_c,this.isPropagationStopped=_c,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),n}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=ft(Xn),gi=E({},Xn,{view:0,detail:0}),ay=ft(gi),ms,hs,yi,Ao=E({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(ms=e.screenX-yi.screenX,hs=e.screenY-yi.screenY):hs=ms=0,yi=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:hs}}),Ac=ft(Ao),sy=E({},Ao,{dataTransfer:0}),ry=ft(sy),uy=E({},gi,{relatedTarget:0}),gs=ft(uy),cy=E({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),fy=ft(cy),dy=E({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),py=ft(dy),my=E({},Xn,{data:0}),xc=ft(my),hy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yy[e])?!!n[e]:!1}function ys(){return vy}var Ty=E({},gi,{key:function(e){if(e.key){var n=hy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=So(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?So(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?So(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ey=ft(Ty),Sy=E({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nc=ft(Sy),Cy=E({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),_y=ft(Cy),Ay=E({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),xy=ft(Ay),Ny=E({},Ao,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ry=ft(Ny),My=E({},Xn,{newState:0,oldState:0}),by=ft(My),Iy=[9,13,27,32],vs=$t&&"CompositionEvent"in window,vi=null;$t&&"documentMode"in document&&(vi=document.documentMode);var wy=$t&&"TextEvent"in window&&!vi,Rc=$t&&(!vs||vi&&8<vi&&11>=vi),Mc=" ",bc=!1;function Ic(e,n){switch(e){case"keyup":return Iy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Al=!1;function Dy(e,n){switch(e){case"compositionend":return wc(n);case"keypress":return n.which!==32?null:(bc=!0,Mc);case"textInput":return e=n.data,e===Mc&&bc?null:e;default:return null}}function Uy(e,n){if(Al)return e==="compositionend"||!vs&&Ic(e,n)?(e=Cc(),Eo=ps=Sn=null,Al=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Rc&&n.locale!=="ko"?null:n.data;default:return null}}var Ly={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ly[e.type]:n==="textarea"}function Uc(e,n,i,s){Cl?_l?_l.push(s):_l=[s]:Cl=s,n=pa(n,"onChange"),0<n.length&&(i=new _o("onChange","change",null,i,s),e.push({event:i,listeners:n}))}var Ti=null,Ei=null;function qy(e){gp(e,0)}function xo(e){var n=pi(e);if(mc(n))return e}function Lc(e,n){if(e==="change")return n}var qc=!1;if($t){var Ts;if($t){var Es="oninput"in document;if(!Es){var Gc=document.createElement("div");Gc.setAttribute("oninput","return;"),Es=typeof Gc.oninput=="function"}Ts=Es}else Ts=!1;qc=Ts&&(!document.documentMode||9<document.documentMode)}function Pc(){Ti&&(Ti.detachEvent("onpropertychange",Hc),Ei=Ti=null)}function Hc(e){if(e.propertyName==="value"&&xo(Ei)){var n=[];Uc(n,Ei,e,cs(e)),Sc(qy,n)}}function Gy(e,n,i){e==="focusin"?(Pc(),Ti=n,Ei=i,Ti.attachEvent("onpropertychange",Hc)):e==="focusout"&&Pc()}function Py(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xo(Ei)}function Hy(e,n){if(e==="click")return xo(n)}function zy(e,n){if(e==="input"||e==="change")return xo(n)}function Vy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Et=typeof Object.is=="function"?Object.is:Vy;function Si(e,n){if(Et(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),s=Object.keys(n);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var d=i[s];if(!$a.call(n,d)||!Et(e[d],n[d]))return!1}return!0}function zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vc(e,n){var i=zc(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=n&&s>=n)return{node:i,offset:n-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=zc(i)}}function kc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?kc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vo(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=vo(e.document)}return n}function Ss(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ky=$t&&"documentMode"in document&&11>=document.documentMode,xl=null,Cs=null,Ci=null,_s=!1;function Fc(e,n,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;_s||xl==null||xl!==vo(s)||(s=xl,"selectionStart"in s&&Ss(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ci&&Si(Ci,s)||(Ci=s,s=pa(Cs,"onSelect"),0<s.length&&(n=new _o("onSelect","select",null,n,i),e.push({event:n,listeners:s}),n.target=xl)))}function Zn(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Nl={animationend:Zn("Animation","AnimationEnd"),animationiteration:Zn("Animation","AnimationIteration"),animationstart:Zn("Animation","AnimationStart"),transitionrun:Zn("Transition","TransitionRun"),transitionstart:Zn("Transition","TransitionStart"),transitioncancel:Zn("Transition","TransitionCancel"),transitionend:Zn("Transition","TransitionEnd")},As={},Oc={};$t&&(Oc=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function $n(e){if(As[e])return As[e];if(!Nl[e])return e;var n=Nl[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Oc)return As[e]=n[i];return e}var Jc=$n("animationend"),Yc=$n("animationiteration"),Kc=$n("animationstart"),By=$n("transitionrun"),Fy=$n("transitionstart"),Oy=$n("transitioncancel"),Qc=$n("transitionend"),Xc=new Map,xs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xs.push("scrollEnd");function Vt(e,n){Xc.set(e,n),Qn(n,[e])}var No=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],Rl=0,Ns=0;function Ro(){for(var e=Rl,n=Ns=Rl=0;n<e;){var i=It[n];It[n++]=null;var s=It[n];It[n++]=null;var d=It[n];It[n++]=null;var m=It[n];if(It[n++]=null,s!==null&&d!==null){var T=s.pending;T===null?d.next=d:(d.next=T.next,T.next=d),s.pending=d}m!==0&&Zc(i,d,m)}}function Mo(e,n,i,s){It[Rl++]=e,It[Rl++]=n,It[Rl++]=i,It[Rl++]=s,Ns|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Rs(e,n,i,s){return Mo(e,n,i,s),bo(e)}function Wn(e,n){return Mo(e,null,null,n),bo(e)}function Zc(e,n,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var d=!1,m=e.return;m!==null;)m.childLanes|=i,s=m.alternate,s!==null&&(s.childLanes|=i),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-Tt(i),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=i|536870912),m):null}function bo(e){if(50<Oi)throw Oi=0,Gr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ml={};function Jy(e,n,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,n,i,s){return new Jy(e,n,i,s)}function Ms(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wt(e,n){var i=e.alternate;return i===null?(i=St(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function $c(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Io(e,n,i,s,d,m){var T=0;if(s=e,typeof e=="function")Ms(e)&&(T=1);else if(typeof e=="string")T=Z0(e,i,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=St(31,i,n,d),e.elementType=ne,e.lanes=m,e;case P:return jn(i.children,d,m,n);case V:T=8,d|=24;break;case w:return e=St(12,i,n,d|2),e.elementType=w,e.lanes=m,e;case j:return e=St(13,i,n,d),e.elementType=j,e.lanes=m,e;case le:return e=St(19,i,n,d),e.elementType=le,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b:T=10;break e;case k:T=9;break e;case X:T=11;break e;case Z:T=14;break e;case ce:T=16,s=null;break e}T=29,i=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=St(T,i,n,d),n.elementType=e,n.type=s,n.lanes=m,n}function jn(e,n,i,s){return e=St(7,e,s,n),e.lanes=i,e}function bs(e,n,i){return e=St(6,e,null,n),e.lanes=i,e}function Wc(e){var n=St(18,null,null,0);return n.stateNode=e,n}function Is(e,n,i){return n=St(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var jc=new WeakMap;function wt(e,n){if(typeof e=="object"&&e!==null){var i=jc.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Wu(n)},jc.set(e,n),n)}return{value:e,source:n,stack:Wu(n)}}var bl=[],Il=0,wo=null,_i=0,Dt=[],Ut=0,Cn=null,Ot=1,Jt="";function jt(e,n){bl[Il++]=_i,bl[Il++]=wo,wo=e,_i=n}function ef(e,n,i){Dt[Ut++]=Ot,Dt[Ut++]=Jt,Dt[Ut++]=Cn,Cn=e;var s=Ot;e=Jt;var d=32-Tt(s)-1;s&=~(1<<d),i+=1;var m=32-Tt(n)+d;if(30<m){var T=d-d%5;m=(s&(1<<T)-1).toString(32),s>>=T,d-=T,Ot=1<<32-Tt(n)+d|i<<d|s,Jt=m+e}else Ot=1<<m|i<<d|s,Jt=e}function ws(e){e.return!==null&&(jt(e,1),ef(e,1,0))}function Ds(e){for(;e===wo;)wo=bl[--Il],bl[Il]=null,_i=bl[--Il],bl[Il]=null;for(;e===Cn;)Cn=Dt[--Ut],Dt[Ut]=null,Jt=Dt[--Ut],Dt[Ut]=null,Ot=Dt[--Ut],Dt[Ut]=null}function tf(e,n){Dt[Ut++]=Ot,Dt[Ut++]=Jt,Dt[Ut++]=Cn,Ot=n.id,Jt=n.overflow,Cn=e}var tt=null,qe=null,_e=!1,_n=null,Lt=!1,Us=Error(a(519));function An(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ai(wt(n,e)),Us}function nf(e){var n=e.stateNode,i=e.type,s=e.memoizedProps;switch(n[et]=e,n[ct]=s,i){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(i=0;i<Yi.length;i++)Ee(Yi[i],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":Ee("invalid",n),hc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ee("invalid",n);break;case"textarea":Ee("invalid",n),yc(n,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||s.suppressHydrationWarning===!0||Ep(n.textContent,i)?(s.popover!=null&&(Ee("beforetoggle",n),Ee("toggle",n)),s.onScroll!=null&&Ee("scroll",n),s.onScrollEnd!=null&&Ee("scrollend",n),s.onClick!=null&&(n.onclick=Zt),n=!0):n=!1,n||An(e,!0)}function lf(e){for(tt=e.return;tt;)switch(tt.tag){case 5:case 31:case 13:Lt=!1;return;case 27:case 3:Lt=!0;return;default:tt=tt.return}}function wl(e){if(e!==tt)return!1;if(!_e)return lf(e),_e=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||$r(e.type,e.memoizedProps)),i=!i),i&&qe&&An(e),lf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));qe=bp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));qe=bp(e)}else n===27?(n=qe,Hn(e.type)?(e=nu,nu=null,qe=e):qe=n):qe=tt?Gt(e.stateNode.nextSibling):null;return!0}function el(){qe=tt=null,_e=!1}function Ls(){var e=_n;return e!==null&&(ht===null?ht=e:ht.push.apply(ht,e),_n=null),e}function Ai(e){_n===null?_n=[e]:_n.push(e)}var qs=x(null),tl=null,en=null;function xn(e,n,i){Q(qs,n._currentValue),n._currentValue=i}function tn(e){e._currentValue=qs.current,B(qs)}function Gs(e,n,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===i)break;e=e.return}}function Ps(e,n,i,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var T=d.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=d;for(var N=0;N<n.length;N++)if(_.context===n[N]){m.lanes|=i,_=m.alternate,_!==null&&(_.lanes|=i),Gs(m.return,i,e),s||(T=null);break e}m=_.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(a(341));T.lanes|=i,m=T.alternate,m!==null&&(m.lanes|=i),Gs(T,i,e),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===e){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Dl(e,n,i,s){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var _=d.type;Et(d.pendingProps.value,T.value)||(e!==null?e.push(_):e=[_])}}else if(d===Me.current){if(T=d.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push($i):e=[$i])}d=d.return}e!==null&&Ps(n,e,i,s),n.flags|=262144}function Do(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function nl(e){tl=e,en=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nt(e){return of(tl,e)}function Uo(e,n){return tl===null&&nl(e),of(e,n)}function of(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},en===null){if(e===null)throw Error(a(308));en=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else en=en.next=n;return i}var Yy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},Ky=l.unstable_scheduleCallback,Qy=l.unstable_NormalPriority,Ke={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hs(){return{controller:new Yy,data:new Map,refCount:0}}function xi(e){e.refCount--,e.refCount===0&&Ky(Qy,function(){e.controller.abort()})}var Ni=null,zs=0,Ul=0,Ll=null;function Xy(e,n){if(Ni===null){var i=Ni=[];zs=0,Ul=Br(),Ll={status:"pending",value:void 0,then:function(s){i.push(s)}}}return zs++,n.then(af,af),n}function af(){if(--zs===0&&Ni!==null){Ll!==null&&(Ll.status="fulfilled");var e=Ni;Ni=null,Ul=0,Ll=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Zy(e,n){var i=[],s={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<i.length;d++)(0,i[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),s}var sf=M.S;M.S=function(e,n){Od=yt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Xy(e,n),sf!==null&&sf(e,n)};var ll=x(null);function Vs(){var e=ll.current;return e!==null?e:Le.pooledCache}function Lo(e,n){n===null?Q(ll,ll.current):Q(ll,n.pool)}function rf(){var e=Vs();return e===null?null:{parent:Ke._currentValue,pool:e}}var ql=Error(a(460)),ks=Error(a(474)),qo=Error(a(542)),Go={then:function(){}};function uf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cf(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Zt,Zt),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,df(e),e;default:if(typeof n.status=="string")n.then(Zt,Zt);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,df(e),e}throw ol=n,ql}}function il(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ol=i,ql):i}}var ol=null;function ff(){if(ol===null)throw Error(a(459));var e=ol;return ol=null,e}function df(e){if(e===ql||e===qo)throw Error(a(483))}var Gl=null,Ri=0;function Po(e){var n=Ri;return Ri+=1,Gl===null&&(Gl=[]),cf(Gl,e,n)}function Mi(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ho(e,n){throw n.$$typeof===C?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function pf(e){function n(I,R){if(e){var L=I.deletions;L===null?(I.deletions=[R],I.flags|=16):L.push(R)}}function i(I,R){if(!e)return null;for(;R!==null;)n(I,R),R=R.sibling;return null}function s(I){for(var R=new Map;I!==null;)I.key!==null?R.set(I.key,I):R.set(I.index,I),I=I.sibling;return R}function d(I,R){return I=Wt(I,R),I.index=0,I.sibling=null,I}function m(I,R,L){return I.index=L,e?(L=I.alternate,L!==null?(L=L.index,L<R?(I.flags|=67108866,R):L):(I.flags|=67108866,R)):(I.flags|=1048576,R)}function T(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function _(I,R,L,J){return R===null||R.tag!==6?(R=bs(L,I.mode,J),R.return=I,R):(R=d(R,L),R.return=I,R)}function N(I,R,L,J){var ae=L.type;return ae===P?O(I,R,L.props.children,J,L.key):R!==null&&(R.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ce&&il(ae)===R.type)?(R=d(R,L.props),Mi(R,L),R.return=I,R):(R=Io(L.type,L.key,L.props,null,I.mode,J),Mi(R,L),R.return=I,R)}function q(I,R,L,J){return R===null||R.tag!==4||R.stateNode.containerInfo!==L.containerInfo||R.stateNode.implementation!==L.implementation?(R=Is(L,I.mode,J),R.return=I,R):(R=d(R,L.children||[]),R.return=I,R)}function O(I,R,L,J,ae){return R===null||R.tag!==7?(R=jn(L,I.mode,J,ae),R.return=I,R):(R=d(R,L),R.return=I,R)}function Y(I,R,L){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=bs(""+R,I.mode,L),R.return=I,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case A:return L=Io(R.type,R.key,R.props,null,I.mode,L),Mi(L,R),L.return=I,L;case U:return R=Is(R,I.mode,L),R.return=I,R;case ce:return R=il(R),Y(I,R,L)}if(ye(R)||ue(R))return R=jn(R,I.mode,L,null),R.return=I,R;if(typeof R.then=="function")return Y(I,Po(R),L);if(R.$$typeof===b)return Y(I,Uo(I,R),L);Ho(I,R)}return null}function G(I,R,L,J){var ae=R!==null?R.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ae!==null?null:_(I,R,""+L,J);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return L.key===ae?N(I,R,L,J):null;case U:return L.key===ae?q(I,R,L,J):null;case ce:return L=il(L),G(I,R,L,J)}if(ye(L)||ue(L))return ae!==null?null:O(I,R,L,J,null);if(typeof L.then=="function")return G(I,R,Po(L),J);if(L.$$typeof===b)return G(I,R,Uo(I,L),J);Ho(I,L)}return null}function H(I,R,L,J,ae){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return I=I.get(L)||null,_(R,I,""+J,ae);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return I=I.get(J.key===null?L:J.key)||null,N(R,I,J,ae);case U:return I=I.get(J.key===null?L:J.key)||null,q(R,I,J,ae);case ce:return J=il(J),H(I,R,L,J,ae)}if(ye(J)||ue(J))return I=I.get(L)||null,O(R,I,J,ae,null);if(typeof J.then=="function")return H(I,R,L,Po(J),ae);if(J.$$typeof===b)return H(I,R,L,Uo(R,J),ae);Ho(R,J)}return null}function ie(I,R,L,J){for(var ae=null,Ae=null,oe=R,he=R=0,Ce=null;oe!==null&&he<L.length;he++){oe.index>he?(Ce=oe,oe=null):Ce=oe.sibling;var xe=G(I,oe,L[he],J);if(xe===null){oe===null&&(oe=Ce);break}e&&oe&&xe.alternate===null&&n(I,oe),R=m(xe,R,he),Ae===null?ae=xe:Ae.sibling=xe,Ae=xe,oe=Ce}if(he===L.length)return i(I,oe),_e&&jt(I,he),ae;if(oe===null){for(;he<L.length;he++)oe=Y(I,L[he],J),oe!==null&&(R=m(oe,R,he),Ae===null?ae=oe:Ae.sibling=oe,Ae=oe);return _e&&jt(I,he),ae}for(oe=s(oe);he<L.length;he++)Ce=H(oe,I,he,L[he],J),Ce!==null&&(e&&Ce.alternate!==null&&oe.delete(Ce.key===null?he:Ce.key),R=m(Ce,R,he),Ae===null?ae=Ce:Ae.sibling=Ce,Ae=Ce);return e&&oe.forEach(function(Fn){return n(I,Fn)}),_e&&jt(I,he),ae}function re(I,R,L,J){if(L==null)throw Error(a(151));for(var ae=null,Ae=null,oe=R,he=R=0,Ce=null,xe=L.next();oe!==null&&!xe.done;he++,xe=L.next()){oe.index>he?(Ce=oe,oe=null):Ce=oe.sibling;var Fn=G(I,oe,xe.value,J);if(Fn===null){oe===null&&(oe=Ce);break}e&&oe&&Fn.alternate===null&&n(I,oe),R=m(Fn,R,he),Ae===null?ae=Fn:Ae.sibling=Fn,Ae=Fn,oe=Ce}if(xe.done)return i(I,oe),_e&&jt(I,he),ae;if(oe===null){for(;!xe.done;he++,xe=L.next())xe=Y(I,xe.value,J),xe!==null&&(R=m(xe,R,he),Ae===null?ae=xe:Ae.sibling=xe,Ae=xe);return _e&&jt(I,he),ae}for(oe=s(oe);!xe.done;he++,xe=L.next())xe=H(oe,I,he,xe.value,J),xe!==null&&(e&&xe.alternate!==null&&oe.delete(xe.key===null?he:xe.key),R=m(xe,R,he),Ae===null?ae=xe:Ae.sibling=xe,Ae=xe);return e&&oe.forEach(function(sv){return n(I,sv)}),_e&&jt(I,he),ae}function Ue(I,R,L,J){if(typeof L=="object"&&L!==null&&L.type===P&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case A:e:{for(var ae=L.key;R!==null;){if(R.key===ae){if(ae=L.type,ae===P){if(R.tag===7){i(I,R.sibling),J=d(R,L.props.children),J.return=I,I=J;break e}}else if(R.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ce&&il(ae)===R.type){i(I,R.sibling),J=d(R,L.props),Mi(J,L),J.return=I,I=J;break e}i(I,R);break}else n(I,R);R=R.sibling}L.type===P?(J=jn(L.props.children,I.mode,J,L.key),J.return=I,I=J):(J=Io(L.type,L.key,L.props,null,I.mode,J),Mi(J,L),J.return=I,I=J)}return T(I);case U:e:{for(ae=L.key;R!==null;){if(R.key===ae)if(R.tag===4&&R.stateNode.containerInfo===L.containerInfo&&R.stateNode.implementation===L.implementation){i(I,R.sibling),J=d(R,L.children||[]),J.return=I,I=J;break e}else{i(I,R);break}else n(I,R);R=R.sibling}J=Is(L,I.mode,J),J.return=I,I=J}return T(I);case ce:return L=il(L),Ue(I,R,L,J)}if(ye(L))return ie(I,R,L,J);if(ue(L)){if(ae=ue(L),typeof ae!="function")throw Error(a(150));return L=ae.call(L),re(I,R,L,J)}if(typeof L.then=="function")return Ue(I,R,Po(L),J);if(L.$$typeof===b)return Ue(I,R,Uo(I,L),J);Ho(I,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,R!==null&&R.tag===6?(i(I,R.sibling),J=d(R,L),J.return=I,I=J):(i(I,R),J=bs(L,I.mode,J),J.return=I,I=J),T(I)):i(I,R)}return function(I,R,L,J){try{Ri=0;var ae=Ue(I,R,L,J);return Gl=null,ae}catch(oe){if(oe===ql||oe===qo)throw oe;var Ae=St(29,oe,null,I.mode);return Ae.lanes=J,Ae.return=I,Ae}finally{}}}var al=pf(!0),mf=pf(!1),Nn=!1;function Bs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(e,n,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Re&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=bo(e),Zc(e,null,i),n}return Mo(e,s,n,i),bo(e)}function bi(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,ic(e,i)}}function Os(e,n){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var d=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var T={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?d=m=T:m=m.next=T,i=i.next}while(i!==null);m===null?d=m=n:m=m.next=n}else d=m=n;i={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Js=!1;function Ii(){if(Js){var e=Ll;if(e!==null)throw e}}function wi(e,n,i,s){Js=!1;var d=e.updateQueue;Nn=!1;var m=d.firstBaseUpdate,T=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var N=_,q=N.next;N.next=null,T===null?m=q:T.next=q,T=N;var O=e.alternate;O!==null&&(O=O.updateQueue,_=O.lastBaseUpdate,_!==T&&(_===null?O.firstBaseUpdate=q:_.next=q,O.lastBaseUpdate=N))}if(m!==null){var Y=d.baseState;T=0,O=q=N=null,_=m;do{var G=_.lane&-536870913,H=G!==_.lane;if(H?(Se&G)===G:(s&G)===G){G!==0&&G===Ul&&(Js=!0),O!==null&&(O=O.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ie=e,re=_;G=n;var Ue=i;switch(re.tag){case 1:if(ie=re.payload,typeof ie=="function"){Y=ie.call(Ue,Y,G);break e}Y=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=re.payload,G=typeof ie=="function"?ie.call(Ue,Y,G):ie,G==null)break e;Y=E({},Y,G);break e;case 2:Nn=!0}}G=_.callback,G!==null&&(e.flags|=64,H&&(e.flags|=8192),H=d.callbacks,H===null?d.callbacks=[G]:H.push(G))}else H={lane:G,tag:_.tag,payload:_.payload,callback:_.callback,next:null},O===null?(q=O=H,N=Y):O=O.next=H,T|=G;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;H=_,_=H.next,H.next=null,d.lastBaseUpdate=H,d.shared.pending=null}}while(!0);O===null&&(N=Y),d.baseState=N,d.firstBaseUpdate=q,d.lastBaseUpdate=O,m===null&&(d.shared.lanes=0),Un|=T,e.lanes=T,e.memoizedState=Y}}function hf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function gf(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)hf(i[e],n)}var Pl=x(null),zo=x(0);function yf(e,n){e=fn,Q(zo,e),Q(Pl,n),fn=e|n.baseLanes}function Ys(){Q(zo,fn),Q(Pl,Pl.current)}function Ks(){fn=zo.current,B(Pl),B(zo)}var Ct=x(null),qt=null;function bn(e){var n=e.alternate;Q(Je,Je.current&1),Q(Ct,e),qt===null&&(n===null||Pl.current!==null||n.memoizedState!==null)&&(qt=e)}function Qs(e){Q(Je,Je.current),Q(Ct,e),qt===null&&(qt=e)}function vf(e){e.tag===22?(Q(Je,Je.current),Q(Ct,e),qt===null&&(qt=e)):In()}function In(){Q(Je,Je.current),Q(Ct,Ct.current)}function _t(e){B(Ct),qt===e&&(qt=null),B(Je)}var Je=x(0);function Vo(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||eu(i)||tu(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var nn=0,me=null,we=null,Qe=null,ko=!1,Hl=!1,sl=!1,Bo=0,Di=0,zl=null,$y=0;function Be(){throw Error(a(321))}function Xs(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Et(e[i],n[i]))return!1;return!0}function Zs(e,n,i,s,d,m){return nn=m,me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=e===null||e.memoizedState===null?td:fr,sl=!1,m=i(s,d),sl=!1,Hl&&(m=Ef(n,i,s,d)),Tf(e),m}function Tf(e){M.H=qi;var n=we!==null&&we.next!==null;if(nn=0,Qe=we=me=null,ko=!1,Di=0,zl=null,n)throw Error(a(300));e===null||Xe||(e=e.dependencies,e!==null&&Do(e)&&(Xe=!0))}function Ef(e,n,i,s){me=e;var d=0;do{if(Hl&&(zl=null),Di=0,Hl=!1,25<=d)throw Error(a(301));if(d+=1,Qe=we=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}M.H=nd,m=n(i,s)}while(Hl);return m}function Wy(){var e=M.H,n=e.useState()[0];return n=typeof n.then=="function"?Ui(n):n,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(me.flags|=1024),n}function $s(){var e=Bo!==0;return Bo=0,e}function Ws(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function js(e){if(ko){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ko=!1}nn=0,Qe=we=me=null,Hl=!1,Di=Bo=0,zl=null}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?me.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Ye(){if(we===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var n=Qe===null?me.memoizedState:Qe.next;if(n!==null)Qe=n,we=e;else{if(e===null)throw me.alternate===null?Error(a(467)):Error(a(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Qe===null?me.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Fo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ui(e){var n=Di;return Di+=1,zl===null&&(zl=[]),e=cf(zl,e,n),n=me,(Qe===null?n.memoizedState:Qe.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?td:fr),e}function Oo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ui(e);if(e.$$typeof===b)return nt(e)}throw Error(a(438,String(e)))}function er(e){var n=null,i=me.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var s=me.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Fo(),me.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),s=0;s<e;s++)i[s]=se;return n.index++,i}function ln(e,n){return typeof n=="function"?n(e):n}function Jo(e){var n=Ye();return tr(n,we,e)}function tr(e,n,i){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=i;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var T=d.next;d.next=m.next,m.next=T}n.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var _=T=null,N=null,q=n,O=!1;do{var Y=q.lane&-536870913;if(Y!==q.lane?(Se&Y)===Y:(nn&Y)===Y){var G=q.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Y===Ul&&(O=!0);else if((nn&G)===G){q=q.next,G===Ul&&(O=!0);continue}else Y={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(_=N=Y,T=m):N=N.next=Y,me.lanes|=G,Un|=G;Y=q.action,sl&&i(m,Y),m=q.hasEagerState?q.eagerState:i(m,Y)}else G={lane:Y,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(_=N=G,T=m):N=N.next=G,me.lanes|=Y,Un|=Y;q=q.next}while(q!==null&&q!==n);if(N===null?T=m:N.next=_,!Et(m,e.memoizedState)&&(Xe=!0,O&&(i=Ll,i!==null)))throw i;e.memoizedState=m,e.baseState=T,e.baseQueue=N,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function nr(e){var n=Ye(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var s=i.dispatch,d=i.pending,m=n.memoizedState;if(d!==null){i.pending=null;var T=d=d.next;do m=e(m,T.action),T=T.next;while(T!==d);Et(m,n.memoizedState)||(Xe=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),i.lastRenderedState=m}return[m,s]}function Sf(e,n,i){var s=me,d=Ye(),m=_e;if(m){if(i===void 0)throw Error(a(407));i=i()}else i=n();var T=!Et((we||d).memoizedState,i);if(T&&(d.memoizedState=i,Xe=!0),d=d.queue,or(Af.bind(null,s,d,e),[e]),d.getSnapshot!==n||T||Qe!==null&&Qe.memoizedState.tag&1){if(s.flags|=2048,Vl(9,{destroy:void 0},_f.bind(null,s,d,i,n),null),Le===null)throw Error(a(349));m||(nn&127)!==0||Cf(s,n,i)}return i}function Cf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=me.updateQueue,n===null?(n=Fo(),me.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function _f(e,n,i,s){n.value=i,n.getSnapshot=s,xf(n)&&Nf(e)}function Af(e,n,i){return i(function(){xf(n)&&Nf(e)})}function xf(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Et(e,i)}catch{return!0}}function Nf(e){var n=Wn(e,2);n!==null&&gt(n,e,2)}function lr(e){var n=rt();if(typeof e=="function"){var i=e;if(e=i(),sl){Tn(!0);try{i()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:e},n}function Rf(e,n,i,s){return e.baseState=i,tr(e,we,typeof s=="function"?s:ln)}function jy(e,n,i,s,d){if(Qo(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};M.T!==null?i(!0):m.isTransition=!1,s(m),i=n.pending,i===null?(m.next=n.pending=m,Mf(n,m)):(m.next=i.next,n.pending=i.next=m)}}function Mf(e,n){var i=n.action,s=n.payload,d=e.state;if(n.isTransition){var m=M.T,T={};M.T=T;try{var _=i(d,s),N=M.S;N!==null&&N(T,_),bf(e,n,_)}catch(q){ir(e,n,q)}finally{m!==null&&T.types!==null&&(m.types=T.types),M.T=m}}else try{m=i(d,s),bf(e,n,m)}catch(q){ir(e,n,q)}}function bf(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){If(e,n,s)},function(s){return ir(e,n,s)}):If(e,n,i)}function If(e,n,i){n.status="fulfilled",n.value=i,wf(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Mf(e,i)))}function ir(e,n,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=i,wf(n),n=n.next;while(n!==s)}e.action=null}function wf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Df(e,n){return n}function Uf(e,n){if(_e){var i=Le.formState;if(i!==null){e:{var s=me;if(_e){if(qe){t:{for(var d=qe,m=Lt;d.nodeType!==8;){if(!m){d=null;break t}if(d=Gt(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){qe=Gt(d.nextSibling),s=d.data==="F!";break e}}An(s)}s=!1}s&&(n=i[0])}}return i=rt(),i.memoizedState=i.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:n},i.queue=s,i=Wf.bind(null,me,s),s.dispatch=i,s=lr(!1),m=cr.bind(null,me,!1,s.queue),s=rt(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,i=jy.bind(null,me,d,m,i),d.dispatch=i,s.memoizedState=e,[n,i,!1]}function Lf(e){var n=Ye();return qf(n,we,e)}function qf(e,n,i){if(n=tr(e,n,Df)[0],e=Jo(ln)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Ui(n)}catch(T){throw T===ql?qo:T}else s=n;n=Ye();var d=n.queue,m=d.dispatch;return i!==n.memoizedState&&(me.flags|=2048,Vl(9,{destroy:void 0},e0.bind(null,d,i),null)),[s,m,e]}function e0(e,n){e.action=n}function Gf(e){var n=Ye(),i=we;if(i!==null)return qf(n,i,e);Ye(),n=n.memoizedState,i=Ye();var s=i.queue.dispatch;return i.memoizedState=e,[n,s,!1]}function Vl(e,n,i,s){return e={tag:e,create:i,deps:s,inst:n,next:null},n=me.updateQueue,n===null&&(n=Fo(),me.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,n.lastEffect=e),e}function Pf(){return Ye().memoizedState}function Yo(e,n,i,s){var d=rt();me.flags|=e,d.memoizedState=Vl(1|n,{destroy:void 0},i,s===void 0?null:s)}function Ko(e,n,i,s){var d=Ye();s=s===void 0?null:s;var m=d.memoizedState.inst;we!==null&&s!==null&&Xs(s,we.memoizedState.deps)?d.memoizedState=Vl(n,m,i,s):(me.flags|=e,d.memoizedState=Vl(1|n,m,i,s))}function Hf(e,n){Yo(8390656,8,e,n)}function or(e,n){Ko(2048,8,e,n)}function t0(e){me.flags|=4;var n=me.updateQueue;if(n===null)n=Fo(),me.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function zf(e){var n=Ye().memoizedState;return t0({ref:n,nextImpl:e}),function(){if((Re&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Vf(e,n){return Ko(4,2,e,n)}function kf(e,n){return Ko(4,4,e,n)}function Bf(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ff(e,n,i){i=i!=null?i.concat([e]):null,Ko(4,4,Bf.bind(null,n,e),i)}function ar(){}function Of(e,n){var i=Ye();n=n===void 0?null:n;var s=i.memoizedState;return n!==null&&Xs(n,s[1])?s[0]:(i.memoizedState=[e,n],e)}function Jf(e,n){var i=Ye();n=n===void 0?null:n;var s=i.memoizedState;if(n!==null&&Xs(n,s[1]))return s[0];if(s=e(),sl){Tn(!0);try{e()}finally{Tn(!1)}}return i.memoizedState=[s,n],s}function sr(e,n,i){return i===void 0||(nn&1073741824)!==0&&(Se&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=Yd(),me.lanes|=e,Un|=e,i)}function Yf(e,n,i,s){return Et(i,n)?i:Pl.current!==null?(e=sr(e,i,s),Et(e,n)||(Xe=!0),e):(nn&42)===0||(nn&1073741824)!==0&&(Se&261930)===0?(Xe=!0,e.memoizedState=i):(e=Yd(),me.lanes|=e,Un|=e,n)}function Kf(e,n,i,s,d){var m=F.p;F.p=m!==0&&8>m?m:8;var T=M.T,_={};M.T=_,cr(e,!1,n,i);try{var N=d(),q=M.S;if(q!==null&&q(_,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var O=Zy(N,s);Li(e,n,O,Nt(e))}else Li(e,n,s,Nt(e))}catch(Y){Li(e,n,{then:function(){},status:"rejected",reason:Y},Nt())}finally{F.p=m,T!==null&&_.types!==null&&(T.types=_.types),M.T=T}}function n0(){}function rr(e,n,i,s){if(e.tag!==5)throw Error(a(476));var d=Qf(e).queue;Kf(e,d,n,K,i===null?n0:function(){return Xf(e),i(s)})}function Qf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:K},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Xf(e){var n=Qf(e);n.next===null&&(n=e.alternate.memoizedState),Li(e,n.next.queue,{},Nt())}function ur(){return nt($i)}function Zf(){return Ye().memoizedState}function $f(){return Ye().memoizedState}function l0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Nt();e=Rn(i);var s=Mn(n,e,i);s!==null&&(gt(s,n,i),bi(s,n,i)),n={cache:Hs()},e.payload=n;return}n=n.return}}function i0(e,n,i){var s=Nt();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Qo(e)?jf(n,i):(i=Rs(e,n,i,s),i!==null&&(gt(i,e,s),ed(i,n,s)))}function Wf(e,n,i){var s=Nt();Li(e,n,i,s)}function Li(e,n,i,s){var d={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))jf(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,_=m(T,i);if(d.hasEagerState=!0,d.eagerState=_,Et(_,T))return Mo(e,n,d,0),Le===null&&Ro(),!1}catch{}finally{}if(i=Rs(e,n,d,s),i!==null)return gt(i,e,s),ed(i,n,s),!0}return!1}function cr(e,n,i,s){if(s={lane:2,revertLane:Br(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Qo(e)){if(n)throw Error(a(479))}else n=Rs(e,i,s,2),n!==null&&gt(n,e,2)}function Qo(e){var n=e.alternate;return e===me||n!==null&&n===me}function jf(e,n){Hl=ko=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function ed(e,n,i){if((i&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,ic(e,i)}}var qi={readContext:nt,use:Oo,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};qi.useEffectEvent=Be;var td={readContext:nt,use:Oo,useCallback:function(e,n){return rt().memoizedState=[e,n===void 0?null:n],e},useContext:nt,useEffect:Hf,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Yo(4194308,4,Bf.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Yo(4194308,4,e,n)},useInsertionEffect:function(e,n){Yo(4,2,e,n)},useMemo:function(e,n){var i=rt();n=n===void 0?null:n;var s=e();if(sl){Tn(!0);try{e()}finally{Tn(!1)}}return i.memoizedState=[s,n],s},useReducer:function(e,n,i){var s=rt();if(i!==void 0){var d=i(n);if(sl){Tn(!0);try{i(n)}finally{Tn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=i0.bind(null,me,e),[s.memoizedState,e]},useRef:function(e){var n=rt();return e={current:e},n.memoizedState=e},useState:function(e){e=lr(e);var n=e.queue,i=Wf.bind(null,me,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:ar,useDeferredValue:function(e,n){var i=rt();return sr(i,e,n)},useTransition:function(){var e=lr(!1);return e=Kf.bind(null,me,e.queue,!0,!1),rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var s=me,d=rt();if(_e){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),Le===null)throw Error(a(349));(Se&127)!==0||Cf(s,n,i)}d.memoizedState=i;var m={value:i,getSnapshot:n};return d.queue=m,Hf(Af.bind(null,s,m,e),[e]),s.flags|=2048,Vl(9,{destroy:void 0},_f.bind(null,s,m,i,n),null),i},useId:function(){var e=rt(),n=Le.identifierPrefix;if(_e){var i=Jt,s=Ot;i=(s&~(1<<32-Tt(s)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Bo++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=$y++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ur,useFormState:Uf,useActionState:Uf,useOptimistic:function(e){var n=rt();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=cr.bind(null,me,!0,i),i.dispatch=n,[e,n]},useMemoCache:er,useCacheRefresh:function(){return rt().memoizedState=l0.bind(null,me)},useEffectEvent:function(e){var n=rt(),i={impl:e};return n.memoizedState=i,function(){if((Re&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},fr={readContext:nt,use:Oo,useCallback:Of,useContext:nt,useEffect:or,useImperativeHandle:Ff,useInsertionEffect:Vf,useLayoutEffect:kf,useMemo:Jf,useReducer:Jo,useRef:Pf,useState:function(){return Jo(ln)},useDebugValue:ar,useDeferredValue:function(e,n){var i=Ye();return Yf(i,we.memoizedState,e,n)},useTransition:function(){var e=Jo(ln)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:Ui(e),n]},useSyncExternalStore:Sf,useId:Zf,useHostTransitionStatus:ur,useFormState:Lf,useActionState:Lf,useOptimistic:function(e,n){var i=Ye();return Rf(i,we,e,n)},useMemoCache:er,useCacheRefresh:$f};fr.useEffectEvent=zf;var nd={readContext:nt,use:Oo,useCallback:Of,useContext:nt,useEffect:or,useImperativeHandle:Ff,useInsertionEffect:Vf,useLayoutEffect:kf,useMemo:Jf,useReducer:nr,useRef:Pf,useState:function(){return nr(ln)},useDebugValue:ar,useDeferredValue:function(e,n){var i=Ye();return we===null?sr(i,e,n):Yf(i,we.memoizedState,e,n)},useTransition:function(){var e=nr(ln)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:Ui(e),n]},useSyncExternalStore:Sf,useId:Zf,useHostTransitionStatus:ur,useFormState:Gf,useActionState:Gf,useOptimistic:function(e,n){var i=Ye();return we!==null?Rf(i,we,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:er,useCacheRefresh:$f};nd.useEffectEvent=zf;function dr(e,n,i,s){n=e.memoizedState,i=i(s,n),i=i==null?n:E({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var pr={enqueueSetState:function(e,n,i){e=e._reactInternals;var s=Nt(),d=Rn(s);d.payload=n,i!=null&&(d.callback=i),n=Mn(e,d,s),n!==null&&(gt(n,e,s),bi(n,e,s))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var s=Nt(),d=Rn(s);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Mn(e,d,s),n!==null&&(gt(n,e,s),bi(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Nt(),s=Rn(i);s.tag=2,n!=null&&(s.callback=n),n=Mn(e,s,i),n!==null&&(gt(n,e,i),bi(n,e,i))}};function ld(e,n,i,s,d,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,T):n.prototype&&n.prototype.isPureReactComponent?!Si(i,s)||!Si(d,m):!0}function id(e,n,i,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,s),n.state!==e&&pr.enqueueReplaceState(n,n.state,null)}function rl(e,n){var i=n;if("ref"in n){i={};for(var s in n)s!=="ref"&&(i[s]=n[s])}if(e=e.defaultProps){i===n&&(i=E({},i));for(var d in e)i[d]===void 0&&(i[d]=e[d])}return i}function od(e){No(e)}function ad(e){console.error(e)}function sd(e){No(e)}function Xo(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function rd(e,n,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function mr(e,n,i){return i=Rn(i),i.tag=3,i.payload={element:null},i.callback=function(){Xo(e,n)},i}function ud(e){return e=Rn(e),e.tag=3,e}function cd(e,n,i,s){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){rd(n,i,s)}}var T=i.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){rd(n,i,s),typeof d!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function o0(e,n,i,s,d){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=i.alternate,n!==null&&Dl(n,i,d,!0),i=Ct.current,i!==null){switch(i.tag){case 31:case 13:return qt===null?sa():i.alternate===null&&Fe===0&&(Fe=3),i.flags&=-257,i.flags|=65536,i.lanes=d,s===Go?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([s]):n.add(s),zr(e,s,d)),!1;case 22:return i.flags|=65536,s===Go?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([s]):i.add(s)),zr(e,s,d)),!1}throw Error(a(435,i.tag))}return zr(e,s,d),sa(),!1}if(_e)return n=Ct.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Us&&(e=Error(a(422),{cause:s}),Ai(wt(e,i)))):(s!==Us&&(n=Error(a(423),{cause:s}),Ai(wt(n,i))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=wt(s,i),d=mr(e.stateNode,s,d),Os(e,d),Fe!==4&&(Fe=2)),!1;var m=Error(a(520),{cause:s});if(m=wt(m,i),Fi===null?Fi=[m]:Fi.push(m),Fe!==4&&(Fe=2),n===null)return!0;s=wt(s,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=d&-d,i.lanes|=e,e=mr(i.stateNode,s,e),Os(i,e),!1;case 1:if(n=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ln===null||!Ln.has(m))))return i.flags|=65536,d&=-d,i.lanes|=d,d=ud(d),cd(d,e,i,s),Os(i,d),!1}i=i.return}while(i!==null);return!1}var hr=Error(a(461)),Xe=!1;function lt(e,n,i,s){n.child=e===null?mf(n,null,i,s):al(n,e.child,i,s)}function fd(e,n,i,s,d){i=i.render;var m=n.ref;if("ref"in s){var T={};for(var _ in s)_!=="ref"&&(T[_]=s[_])}else T=s;return nl(n),s=Zs(e,n,i,T,m,d),_=$s(),e!==null&&!Xe?(Ws(e,n,d),on(e,n,d)):(_e&&_&&ws(n),n.flags|=1,lt(e,n,s,d),n.child)}function dd(e,n,i,s,d){if(e===null){var m=i.type;return typeof m=="function"&&!Ms(m)&&m.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=m,pd(e,n,m,s,d)):(e=Io(i.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!_r(e,d)){var T=m.memoizedProps;if(i=i.compare,i=i!==null?i:Si,i(T,s)&&e.ref===n.ref)return on(e,n,d)}return n.flags|=1,e=Wt(m,s),e.ref=n.ref,e.return=n,n.child=e}function pd(e,n,i,s,d){if(e!==null){var m=e.memoizedProps;if(Si(m,s)&&e.ref===n.ref)if(Xe=!1,n.pendingProps=s=m,_r(e,d))(e.flags&131072)!==0&&(Xe=!0);else return n.lanes=e.lanes,on(e,n,d)}return gr(e,n,i,s,d)}function md(e,n,i,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,n.child=null;return hd(e,n,m,i,s)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lo(n,m!==null?m.cachePool:null),m!==null?yf(n,m):Ys(),vf(n);else return s=n.lanes=536870912,hd(e,n,m!==null?m.baseLanes|i:i,i,s)}else m!==null?(Lo(n,m.cachePool),yf(n,m),In(),n.memoizedState=null):(e!==null&&Lo(n,null),Ys(),In());return lt(e,n,d,i),n.child}function Gi(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function hd(e,n,i,s,d){var m=Vs();return m=m===null?null:{parent:Ke._currentValue,pool:m},n.memoizedState={baseLanes:i,cachePool:m},e!==null&&Lo(n,null),Ys(),vf(n),e!==null&&Dl(e,n,s,!0),n.childLanes=d,null}function Zo(e,n){return n=Wo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function gd(e,n,i){return al(n,e.child,null,i),e=Zo(n,n.pendingProps),e.flags|=2,_t(n),n.memoizedState=null,e}function a0(e,n,i){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(_e){if(s.mode==="hidden")return e=Zo(n,s),n.lanes=536870912,Gi(null,e);if(Qs(n),(e=qe)?(e=Mp(e,Lt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Cn!==null?{id:Ot,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},i=Wc(e),i.return=n,n.child=i,tt=n,qe=null)):e=null,e===null)throw An(n);return n.lanes=536870912,null}return Zo(n,s)}var m=e.memoizedState;if(m!==null){var T=m.dehydrated;if(Qs(n),d)if(n.flags&256)n.flags&=-257,n=gd(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Xe||Dl(e,n,i,!1),d=(i&e.childLanes)!==0,Xe||d){if(s=Le,s!==null&&(T=oc(s,i),T!==0&&T!==m.retryLane))throw m.retryLane=T,Wn(e,T),gt(s,e,T),hr;sa(),n=gd(e,n,i)}else e=m.treeContext,qe=Gt(T.nextSibling),tt=n,_e=!0,_n=null,Lt=!1,e!==null&&tf(n,e),n=Zo(n,s),n.flags|=4096;return n}return e=Wt(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $o(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function gr(e,n,i,s,d){return nl(n),i=Zs(e,n,i,s,void 0,d),s=$s(),e!==null&&!Xe?(Ws(e,n,d),on(e,n,d)):(_e&&s&&ws(n),n.flags|=1,lt(e,n,i,d),n.child)}function yd(e,n,i,s,d,m){return nl(n),n.updateQueue=null,i=Ef(n,s,i,d),Tf(e),s=$s(),e!==null&&!Xe?(Ws(e,n,m),on(e,n,m)):(_e&&s&&ws(n),n.flags|=1,lt(e,n,i,m),n.child)}function vd(e,n,i,s,d){if(nl(n),n.stateNode===null){var m=Ml,T=i.contextType;typeof T=="object"&&T!==null&&(m=nt(T)),m=new i(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=pr,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},Bs(n),T=i.contextType,m.context=typeof T=="object"&&T!==null?nt(T):Ml,m.state=n.memoizedState,T=i.getDerivedStateFromProps,typeof T=="function"&&(dr(n,i,T,s),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&pr.enqueueReplaceState(m,m.state,null),wi(n,s,m,d),Ii(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var _=n.memoizedProps,N=rl(i,_);m.props=N;var q=m.context,O=i.contextType;T=Ml,typeof O=="object"&&O!==null&&(T=nt(O));var Y=i.getDerivedStateFromProps;O=typeof Y=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,O||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||q!==T)&&id(n,m,s,T),Nn=!1;var G=n.memoizedState;m.state=G,wi(n,s,m,d),Ii(),q=n.memoizedState,_||G!==q||Nn?(typeof Y=="function"&&(dr(n,i,Y,s),q=n.memoizedState),(N=Nn||ld(n,i,N,s,G,q,T))?(O||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=q),m.props=s,m.state=q,m.context=T,s=N):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,Fs(e,n),T=n.memoizedProps,O=rl(i,T),m.props=O,Y=n.pendingProps,G=m.context,q=i.contextType,N=Ml,typeof q=="object"&&q!==null&&(N=nt(q)),_=i.getDerivedStateFromProps,(q=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Y||G!==N)&&id(n,m,s,N),Nn=!1,G=n.memoizedState,m.state=G,wi(n,s,m,d),Ii();var H=n.memoizedState;T!==Y||G!==H||Nn||e!==null&&e.dependencies!==null&&Do(e.dependencies)?(typeof _=="function"&&(dr(n,i,_,s),H=n.memoizedState),(O=Nn||ld(n,i,O,s,G,H,N)||e!==null&&e.dependencies!==null&&Do(e.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,H,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,H,N)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=H),m.props=s,m.state=H,m.context=N,s=O):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,$o(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=al(n,e.child,null,d),n.child=al(n,null,i,d)):lt(e,n,i,d),n.memoizedState=m.state,e=n.child):e=on(e,n,d),e}function Td(e,n,i,s){return el(),n.flags|=256,lt(e,n,i,s),n.child}var yr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vr(e){return{baseLanes:e,cachePool:rf()}}function Tr(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=xt),e}function Ed(e,n,i){var s=n.pendingProps,d=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),T&&(d=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(_e){if(d?bn(n):In(),(e=qe)?(e=Mp(e,Lt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Cn!==null?{id:Ot,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},i=Wc(e),i.return=n,n.child=i,tt=n,qe=null)):e=null,e===null)throw An(n);return tu(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(In(),d=n.mode,_=Wo({mode:"hidden",children:_},d),s=jn(s,d,i,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=vr(i),s.childLanes=Tr(e,T,i),n.memoizedState=yr,Gi(null,s)):(bn(n),Er(n,_))}var N=e.memoizedState;if(N!==null&&(_=N.dehydrated,_!==null)){if(m)n.flags&256?(bn(n),n.flags&=-257,n=Sr(e,n,i)):n.memoizedState!==null?(In(),n.child=e.child,n.flags|=128,n=null):(In(),_=s.fallback,d=n.mode,s=Wo({mode:"visible",children:s.children},d),_=jn(_,d,i,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,al(n,e.child,null,i),s=n.child,s.memoizedState=vr(i),s.childLanes=Tr(e,T,i),n.memoizedState=yr,n=Gi(null,s));else if(bn(n),tu(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var q=T.dgst;T=q,s=Error(a(419)),s.stack="",s.digest=T,Ai({value:s,source:null,stack:null}),n=Sr(e,n,i)}else if(Xe||Dl(e,n,i,!1),T=(i&e.childLanes)!==0,Xe||T){if(T=Le,T!==null&&(s=oc(T,i),s!==0&&s!==N.retryLane))throw N.retryLane=s,Wn(e,s),gt(T,e,s),hr;eu(_)||sa(),n=Sr(e,n,i)}else eu(_)?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,qe=Gt(_.nextSibling),tt=n,_e=!0,_n=null,Lt=!1,e!==null&&tf(n,e),n=Er(n,s.children),n.flags|=4096);return n}return d?(In(),_=s.fallback,d=n.mode,N=e.child,q=N.sibling,s=Wt(N,{mode:"hidden",children:s.children}),s.subtreeFlags=N.subtreeFlags&65011712,q!==null?_=Wt(q,_):(_=jn(_,d,i,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,Gi(null,s),s=n.child,_=e.child.memoizedState,_===null?_=vr(i):(d=_.cachePool,d!==null?(N=Ke._currentValue,d=d.parent!==N?{parent:N,pool:N}:d):d=rf(),_={baseLanes:_.baseLanes|i,cachePool:d}),s.memoizedState=_,s.childLanes=Tr(e,T,i),n.memoizedState=yr,Gi(e.child,s)):(bn(n),i=e.child,e=i.sibling,i=Wt(i,{mode:"visible",children:s.children}),i.return=n,i.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=i,n.memoizedState=null,i)}function Er(e,n){return n=Wo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wo(e,n){return e=St(22,e,null,n),e.lanes=0,e}function Sr(e,n,i){return al(n,e.child,null,i),e=Er(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Sd(e,n,i){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Gs(e.return,n,i)}function Cr(e,n,i,s,d,m){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:d,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=i,T.tailMode=d,T.treeForkCount=m)}function Cd(e,n,i){var s=n.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var T=Je.current,_=(T&2)!==0;if(_?(T=T&1|2,n.flags|=128):T&=1,Q(Je,T),lt(e,n,s,i),s=_e?_i:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sd(e,i,n);else if(e.tag===19)Sd(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&Vo(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),Cr(n,!1,d,i,m,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Vo(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}Cr(n,!0,i,null,m,s);break;case"together":Cr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function on(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Un|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Dl(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,i=Wt(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Wt(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function _r(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Do(e)))}function s0(e,n,i){switch(n.tag){case 3:st(n,n.stateNode.containerInfo),xn(n,Ke,e.memoizedState.cache),el();break;case 27:case 5:ri(n);break;case 4:st(n,n.stateNode.containerInfo);break;case 10:xn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Qs(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(bn(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Ed(e,n,i):(bn(n),e=on(e,n,i),e!==null?e.sibling:null);bn(n);break;case 19:var d=(e.flags&128)!==0;if(s=(i&n.childLanes)!==0,s||(Dl(e,n,i,!1),s=(i&n.childLanes)!==0),d){if(s)return Cd(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Q(Je,Je.current),s)break;return null;case 22:return n.lanes=0,md(e,n,i,n.pendingProps);case 24:xn(n,Ke,e.memoizedState.cache)}return on(e,n,i)}function _d(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Xe=!0;else{if(!_r(e,i)&&(n.flags&128)===0)return Xe=!1,s0(e,n,i);Xe=(e.flags&131072)!==0}else Xe=!1,_e&&(n.flags&1048576)!==0&&ef(n,_i,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=il(n.elementType),n.type=e,typeof e=="function")Ms(e)?(s=rl(e,s),n.tag=1,n=vd(null,n,e,s,i)):(n.tag=0,n=gr(null,n,e,s,i));else{if(e!=null){var d=e.$$typeof;if(d===X){n.tag=11,n=fd(null,n,e,s,i);break e}else if(d===Z){n.tag=14,n=dd(null,n,e,s,i);break e}}throw n=$(e)||e,Error(a(306,n,""))}}return n;case 0:return gr(e,n,n.type,n.pendingProps,i);case 1:return s=n.type,d=rl(s,n.pendingProps),vd(e,n,s,d,i);case 3:e:{if(st(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;d=m.element,Fs(e,n),wi(n,s,null,i);var T=n.memoizedState;if(s=T.cache,xn(n,Ke,s),s!==m.cache&&Ps(n,[Ke],i,!0),Ii(),s=T.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Td(e,n,s,i);break e}else if(s!==d){d=wt(Error(a(424)),n),Ai(d),n=Td(e,n,s,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=Gt(e.firstChild),tt=n,_e=!0,_n=null,Lt=!0,i=mf(n,null,s,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(el(),s===d){n=on(e,n,i);break e}lt(e,n,s,i)}n=n.child}return n;case 26:return $o(e,n),e===null?(i=Lp(n.type,null,n.pendingProps,null))?n.memoizedState=i:_e||(i=n.type,e=n.pendingProps,s=ma(ve.current).createElement(i),s[et]=n,s[ct]=e,it(s,i,e),We(s),n.stateNode=s):n.memoizedState=Lp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ri(n),e===null&&_e&&(s=n.stateNode=wp(n.type,n.pendingProps,ve.current),tt=n,Lt=!0,d=qe,Hn(n.type)?(nu=d,qe=Gt(s.firstChild)):qe=d),lt(e,n,n.pendingProps.children,i),$o(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&_e&&((d=s=qe)&&(s=P0(s,n.type,n.pendingProps,Lt),s!==null?(n.stateNode=s,tt=n,qe=Gt(s.firstChild),Lt=!1,d=!0):d=!1),d||An(n)),ri(n),d=n.type,m=n.pendingProps,T=e!==null?e.memoizedProps:null,s=m.children,$r(d,m)?s=null:T!==null&&$r(d,T)&&(n.flags|=32),n.memoizedState!==null&&(d=Zs(e,n,Wy,null,null,i),$i._currentValue=d),$o(e,n),lt(e,n,s,i),n.child;case 6:return e===null&&_e&&((e=i=qe)&&(i=H0(i,n.pendingProps,Lt),i!==null?(n.stateNode=i,tt=n,qe=null,e=!0):e=!1),e||An(n)),null;case 13:return Ed(e,n,i);case 4:return st(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=al(n,null,s,i):lt(e,n,s,i),n.child;case 11:return fd(e,n,n.type,n.pendingProps,i);case 7:return lt(e,n,n.pendingProps,i),n.child;case 8:return lt(e,n,n.pendingProps.children,i),n.child;case 12:return lt(e,n,n.pendingProps.children,i),n.child;case 10:return s=n.pendingProps,xn(n,n.type,s.value),lt(e,n,s.children,i),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,nl(n),d=nt(d),s=s(d),n.flags|=1,lt(e,n,s,i),n.child;case 14:return dd(e,n,n.type,n.pendingProps,i);case 15:return pd(e,n,n.type,n.pendingProps,i);case 19:return Cd(e,n,i);case 31:return a0(e,n,i);case 22:return md(e,n,i,n.pendingProps);case 24:return nl(n),s=nt(Ke),e===null?(d=Vs(),d===null&&(d=Le,m=Hs(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=i),d=m),n.memoizedState={parent:s,cache:d},Bs(n),xn(n,Ke,d)):((e.lanes&i)!==0&&(Fs(e,n),wi(n,null,null,i),Ii()),d=e.memoizedState,m=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),xn(n,Ke,s)):(s=m.cache,xn(n,Ke,s),s!==d.cache&&Ps(n,[Ke],i,!0))),lt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function an(e){e.flags|=4}function Ar(e,n,i,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Zd())e.flags|=8192;else throw ol=Go,ks}else e.flags&=-16777217}function Ad(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zp(n))if(Zd())e.flags|=8192;else throw ol=Go,ks}function jo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nc():536870912,e.lanes|=n,Ol|=n)}function Pi(e,n){if(!_e)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=i,n}function r0(e,n,i){var s=n.pendingProps;switch(Ds(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return Ge(n),null;case 3:return i=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),tn(Ke),Oe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(wl(n)?an(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ls())),Ge(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(an(n),m!==null?(Ge(n),Ad(n,m)):(Ge(n),Ar(n,d,null,s,i))):m?m!==e.memoizedState?(an(n),Ge(n),Ad(n,m)):(Ge(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&an(n),Ge(n),Ar(n,d,e,s,i)),null;case 27:if(uo(n),i=ve.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&an(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}e=te.current,wl(n)?nf(n):(e=wp(d,s,i),n.stateNode=e,an(n))}return Ge(n),null;case 5:if(uo(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&an(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}if(m=te.current,wl(n))nf(n);else{var T=ma(ve.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?T.createElement(d,{is:s.is}):T.createElement(d)}}m[et]=n,m[ct]=s;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(it(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&an(n)}}return Ge(n),Ar(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&an(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=ve.current,wl(n)){if(e=n.stateNode,i=n.memoizedProps,s=null,d=tt,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[et]=n,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Ep(e.nodeValue,i)),e||An(n,!0)}else e=ma(e).createTextNode(s),e[et]=n,n.stateNode=e}return Ge(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(s=wl(n),i!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[et]=n}else el(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),e=!1}else i=Ls(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(_t(n),n):(_t(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Ge(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=wl(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[et]=n}else el(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),d=!1}else d=Ls(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(_t(n),n):(_t(n),null)}return _t(n),(n.flags&128)!==0?(n.lanes=i,n):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),jo(n,n.updateQueue),Ge(n),null);case 4:return Oe(),e===null&&Yr(n.stateNode.containerInfo),Ge(n),null;case 10:return tn(n.type),Ge(n),null;case 19:if(B(Je),s=n.memoizedState,s===null)return Ge(n),null;if(d=(n.flags&128)!==0,m=s.rendering,m===null)if(d)Pi(s,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Vo(e),m!==null){for(n.flags|=128,Pi(s,!1),e=m.updateQueue,n.updateQueue=e,jo(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)$c(i,e),i=i.sibling;return Q(Je,Je.current&1|2),_e&&jt(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&yt()>ia&&(n.flags|=128,d=!0,Pi(s,!1),n.lanes=4194304)}else{if(!d)if(e=Vo(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,jo(n,e),Pi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!_e)return Ge(n),null}else 2*yt()-s.renderingStartTime>ia&&i!==536870912&&(n.flags|=128,d=!0,Pi(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yt(),e.sibling=null,i=Je.current,Q(Je,d?i&1|2:i&1),_e&&jt(n,s.treeForkCount),e):(Ge(n),null);case 22:case 23:return _t(n),Ks(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(i&536870912)!==0&&(n.flags&128)===0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),i=n.updateQueue,i!==null&&jo(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(n.flags|=2048),e!==null&&B(ll),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),tn(Ke),Ge(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function u0(e,n){switch(Ds(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return tn(Ke),Oe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return uo(n),null;case 31:if(n.memoizedState!==null){if(_t(n),n.alternate===null)throw Error(a(340));el()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_t(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));el()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(Je),null;case 4:return Oe(),null;case 10:return tn(n.type),null;case 22:case 23:return _t(n),Ks(),e!==null&&B(ll),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return tn(Ke),null;case 25:return null;default:return null}}function xd(e,n){switch(Ds(n),n.tag){case 3:tn(Ke),Oe();break;case 26:case 27:case 5:uo(n);break;case 4:Oe();break;case 31:n.memoizedState!==null&&_t(n);break;case 13:_t(n);break;case 19:B(Je);break;case 10:tn(n.type);break;case 22:case 23:_t(n),Ks(),e!==null&&B(ll);break;case 24:tn(Ke)}}function Hi(e,n){try{var i=n.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var d=s.next;i=d;do{if((i.tag&e)===e){s=void 0;var m=i.create,T=i.inst;s=m(),T.destroy=s}i=i.next}while(i!==d)}}catch(_){Ie(n,n.return,_)}}function wn(e,n,i){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var T=s.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,d=n;var N=i,q=_;try{q()}catch(O){Ie(d,N,O)}}}s=s.next}while(s!==m)}}catch(O){Ie(n,n.return,O)}}function Nd(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{gf(n,i)}catch(s){Ie(e,e.return,s)}}}function Rd(e,n,i){i.props=rl(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Ie(e,n,s)}}function zi(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(d){Ie(e,n,d)}}function Yt(e,n){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(d){Ie(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){Ie(e,n,d)}else i.current=null}function Md(e){var n=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(d){Ie(e,e.return,d)}}function xr(e,n,i){try{var s=e.stateNode;w0(s,e.type,i,n),s[ct]=n}catch(d){Ie(e,e.return,d)}}function bd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hn(e.type)||e.tag===4}function Nr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rr(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Zt));else if(s!==4&&(s===27&&Hn(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Rr(e,n,i),e=e.sibling;e!==null;)Rr(e,n,i),e=e.sibling}function ea(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(s!==4&&(s===27&&Hn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ea(e,n,i),e=e.sibling;e!==null;)ea(e,n,i),e=e.sibling}function Id(e){var n=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);it(n,s,i),n[et]=e,n[ct]=i}catch(m){Ie(e,e.return,m)}}var sn=!1,Ze=!1,Mr=!1,wd=typeof WeakSet=="function"?WeakSet:Set,je=null;function c0(e,n){if(e=e.containerInfo,Xr=Sa,e=Bc(e),Ss(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var T=0,_=-1,N=-1,q=0,O=0,Y=e,G=null;t:for(;;){for(var H;Y!==i||d!==0&&Y.nodeType!==3||(_=T+d),Y!==m||s!==0&&Y.nodeType!==3||(N=T+s),Y.nodeType===3&&(T+=Y.nodeValue.length),(H=Y.firstChild)!==null;)G=Y,Y=H;for(;;){if(Y===e)break t;if(G===i&&++q===d&&(_=T),G===m&&++O===s&&(N=T),(H=Y.nextSibling)!==null)break;Y=G,G=Y.parentNode}Y=H}i=_===-1||N===-1?null:{start:_,end:N}}else i=null}i=i||{start:0,end:0}}else i=null;for(Zr={focusedElem:e,selectionRange:i},Sa=!1,je=n;je!==null;)if(n=je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,je=e;else for(;je!==null;){switch(n=je,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)d=e[i],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,i=n,d=m.memoizedProps,m=m.memoizedState,s=i.stateNode;try{var ie=rl(i.type,d);e=s.getSnapshotBeforeUpdate(ie,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(re){Ie(i,i.return,re)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)jr(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,je=e;break}je=n.return}}function Dd(e,n,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:un(e,i),s&4&&Hi(5,i);break;case 1:if(un(e,i),s&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(T){Ie(i,i.return,T)}else{var d=rl(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Ie(i,i.return,T)}}s&64&&Nd(i),s&512&&zi(i,i.return);break;case 3:if(un(e,i),s&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{gf(e,n)}catch(T){Ie(i,i.return,T)}}break;case 27:n===null&&s&4&&Id(i);case 26:case 5:un(e,i),n===null&&s&4&&Md(i),s&512&&zi(i,i.return);break;case 12:un(e,i);break;case 31:un(e,i),s&4&&qd(e,i);break;case 13:un(e,i),s&4&&Gd(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=T0.bind(null,i),z0(e,i))));break;case 22:if(s=i.memoizedState!==null||sn,!s){n=n!==null&&n.memoizedState!==null||Ze,d=sn;var m=Ze;sn=s,(Ze=n)&&!m?cn(e,i,(i.subtreeFlags&8772)!==0):un(e,i),sn=d,Ze=m}break;case 30:break;default:un(e,i)}}function Ud(e){var n=e.alternate;n!==null&&(e.alternate=null,Ud(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&is(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,dt=!1;function rn(e,n,i){for(i=i.child;i!==null;)Ld(e,n,i),i=i.sibling}function Ld(e,n,i){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(ui,i)}catch{}switch(i.tag){case 26:Ze||Yt(i,n),rn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ze||Yt(i,n);var s=ze,d=dt;Hn(i.type)&&(ze=i.stateNode,dt=!1),rn(e,n,i),Qi(i.stateNode),ze=s,dt=d;break;case 5:Ze||Yt(i,n);case 6:if(s=ze,d=dt,ze=null,rn(e,n,i),ze=s,dt=d,ze!==null)if(dt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(i.stateNode)}catch(m){Ie(i,n,m)}else try{ze.removeChild(i.stateNode)}catch(m){Ie(i,n,m)}break;case 18:ze!==null&&(dt?(e=ze,Np(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Wl(e)):Np(ze,i.stateNode));break;case 4:s=ze,d=dt,ze=i.stateNode.containerInfo,dt=!0,rn(e,n,i),ze=s,dt=d;break;case 0:case 11:case 14:case 15:wn(2,i,n),Ze||wn(4,i,n),rn(e,n,i);break;case 1:Ze||(Yt(i,n),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Rd(i,n,s)),rn(e,n,i);break;case 21:rn(e,n,i);break;case 22:Ze=(s=Ze)||i.memoizedState!==null,rn(e,n,i),Ze=s;break;default:rn(e,n,i)}}function qd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Wl(e)}catch(i){Ie(n,n.return,i)}}}function Gd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wl(e)}catch(i){Ie(n,n.return,i)}}function f0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new wd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new wd),n;default:throw Error(a(435,e.tag))}}function ta(e,n){var i=f0(e);n.forEach(function(s){if(!i.has(s)){i.add(s);var d=E0.bind(null,e,s);s.then(d,d)}})}function pt(e,n){var i=n.deletions;if(i!==null)for(var s=0;s<i.length;s++){var d=i[s],m=e,T=n,_=T;e:for(;_!==null;){switch(_.tag){case 27:if(Hn(_.type)){ze=_.stateNode,dt=!1;break e}break;case 5:ze=_.stateNode,dt=!1;break e;case 3:case 4:ze=_.stateNode.containerInfo,dt=!0;break e}_=_.return}if(ze===null)throw Error(a(160));Ld(m,T,d),ze=null,dt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Pd(n,e),n=n.sibling}var kt=null;function Pd(e,n){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(n,e),mt(e),s&4&&(wn(3,e,e.return),Hi(3,e),wn(5,e,e.return));break;case 1:pt(n,e),mt(e),s&512&&(Ze||i===null||Yt(i,i.return)),s&64&&sn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var d=kt;if(pt(n,e),mt(e),s&512&&(Ze||i===null||Yt(i,i.return)),s&4){var m=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[di]||m[et]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),it(m,s,i),m[et]=e,We(m),s=m;break e;case"link":var T=Pp("link","href",d).get(s+(i.href||""));if(T){for(var _=0;_<T.length;_++)if(m=T[_],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){T.splice(_,1);break t}}m=d.createElement(s),it(m,s,i),d.head.appendChild(m);break;case"meta":if(T=Pp("meta","content",d).get(s+(i.content||""))){for(_=0;_<T.length;_++)if(m=T[_],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){T.splice(_,1);break t}}m=d.createElement(s),it(m,s,i),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[et]=e,We(m),s=m}e.stateNode=s}else Hp(d,e.type,e.stateNode);else e.stateNode=Gp(d,s,e.memoizedProps);else m!==s?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,s===null?Hp(d,e.type,e.stateNode):Gp(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&xr(e,e.memoizedProps,i.memoizedProps)}break;case 27:pt(n,e),mt(e),s&512&&(Ze||i===null||Yt(i,i.return)),i!==null&&s&4&&xr(e,e.memoizedProps,i.memoizedProps);break;case 5:if(pt(n,e),mt(e),s&512&&(Ze||i===null||Yt(i,i.return)),e.flags&32){d=e.stateNode;try{Sl(d,"")}catch(ie){Ie(e,e.return,ie)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,xr(e,d,i!==null?i.memoizedProps:d)),s&1024&&(Mr=!0);break;case 6:if(pt(n,e),mt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(ie){Ie(e,e.return,ie)}}break;case 3:if(ya=null,d=kt,kt=ha(n.containerInfo),pt(n,e),kt=d,mt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Wl(n.containerInfo)}catch(ie){Ie(e,e.return,ie)}Mr&&(Mr=!1,Hd(e));break;case 4:s=kt,kt=ha(e.stateNode.containerInfo),pt(n,e),mt(e),kt=s;break;case 12:pt(n,e),mt(e);break;case 31:pt(n,e),mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ta(e,s)));break;case 13:pt(n,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(la=yt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ta(e,s)));break;case 22:d=e.memoizedState!==null;var N=i!==null&&i.memoizedState!==null,q=sn,O=Ze;if(sn=q||d,Ze=O||N,pt(n,e),Ze=O,sn=q,mt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(i===null||N||sn||Ze||ul(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){N=i=n;try{if(m=N.stateNode,d)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=N.stateNode;var Y=N.memoizedProps.style,G=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;_.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ie){Ie(N,N.return,ie)}}}else if(n.tag===6){if(i===null){N=n;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(ie){Ie(N,N.return,ie)}}}else if(n.tag===18){if(i===null){N=n;try{var H=N.stateNode;d?Rp(H,!0):Rp(N.stateNode,!1)}catch(ie){Ie(N,N.return,ie)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,ta(e,i))));break;case 19:pt(n,e),mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ta(e,s)));break;case 30:break;case 21:break;default:pt(n,e),mt(e)}}function mt(e){var n=e.flags;if(n&2){try{for(var i,s=e.return;s!==null;){if(bd(s)){i=s;break}s=s.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var d=i.stateNode,m=Nr(e);ea(e,m,d);break;case 5:var T=i.stateNode;i.flags&32&&(Sl(T,""),i.flags&=-33);var _=Nr(e);ea(e,_,T);break;case 3:case 4:var N=i.stateNode.containerInfo,q=Nr(e);Rr(e,q,N);break;default:throw Error(a(161))}}catch(O){Ie(e,e.return,O)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Hd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Hd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function un(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dd(e,n.alternate,n),n=n.sibling}function ul(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:wn(4,n,n.return),ul(n);break;case 1:Yt(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Rd(n,n.return,i),ul(n);break;case 27:Qi(n.stateNode);case 26:case 5:Yt(n,n.return),ul(n);break;case 22:n.memoizedState===null&&ul(n);break;case 30:ul(n);break;default:ul(n)}e=e.sibling}}function cn(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:cn(d,m,i),Hi(4,m);break;case 1:if(cn(d,m,i),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){Ie(s,s.return,q)}if(s=m,d=s.updateQueue,d!==null){var _=s.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)hf(N[d],_)}catch(q){Ie(s,s.return,q)}}i&&T&64&&Nd(m),zi(m,m.return);break;case 27:Id(m);case 26:case 5:cn(d,m,i),i&&s===null&&T&4&&Md(m),zi(m,m.return);break;case 12:cn(d,m,i);break;case 31:cn(d,m,i),i&&T&4&&qd(d,m);break;case 13:cn(d,m,i),i&&T&4&&Gd(d,m);break;case 22:m.memoizedState===null&&cn(d,m,i),zi(m,m.return);break;case 30:break;default:cn(d,m,i)}n=n.sibling}}function br(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&xi(i))}function Ir(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xi(e))}function Bt(e,n,i,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zd(e,n,i,s),n=n.sibling}function zd(e,n,i,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Bt(e,n,i,s),d&2048&&Hi(9,n);break;case 1:Bt(e,n,i,s);break;case 3:Bt(e,n,i,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xi(e)));break;case 12:if(d&2048){Bt(e,n,i,s),e=n.stateNode;try{var m=n.memoizedProps,T=m.id,_=m.onPostCommit;typeof _=="function"&&_(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Ie(n,n.return,N)}}else Bt(e,n,i,s);break;case 31:Bt(e,n,i,s);break;case 13:Bt(e,n,i,s);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?Bt(e,n,i,s):Vi(e,n):m._visibility&2?Bt(e,n,i,s):(m._visibility|=2,kl(e,n,i,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&br(T,n);break;case 24:Bt(e,n,i,s),d&2048&&Ir(n.alternate,n);break;default:Bt(e,n,i,s)}}function kl(e,n,i,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,T=n,_=i,N=s,q=T.flags;switch(T.tag){case 0:case 11:case 15:kl(m,T,_,N,d),Hi(8,T);break;case 23:break;case 22:var O=T.stateNode;T.memoizedState!==null?O._visibility&2?kl(m,T,_,N,d):Vi(m,T):(O._visibility|=2,kl(m,T,_,N,d)),d&&q&2048&&br(T.alternate,T);break;case 24:kl(m,T,_,N,d),d&&q&2048&&Ir(T.alternate,T);break;default:kl(m,T,_,N,d)}n=n.sibling}}function Vi(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,s=n,d=s.flags;switch(s.tag){case 22:Vi(i,s),d&2048&&br(s.alternate,s);break;case 24:Vi(i,s),d&2048&&Ir(s.alternate,s);break;default:Vi(i,s)}n=n.sibling}}var ki=8192;function Bl(e,n,i){if(e.subtreeFlags&ki)for(e=e.child;e!==null;)Vd(e,n,i),e=e.sibling}function Vd(e,n,i){switch(e.tag){case 26:Bl(e,n,i),e.flags&ki&&e.memoizedState!==null&&$0(i,kt,e.memoizedState,e.memoizedProps);break;case 5:Bl(e,n,i);break;case 3:case 4:var s=kt;kt=ha(e.stateNode.containerInfo),Bl(e,n,i),kt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ki,ki=16777216,Bl(e,n,i),ki=s):Bl(e,n,i));break;default:Bl(e,n,i)}}function kd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Bi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];je=s,Fd(s,e)}kd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bd(e),e=e.sibling}function Bd(e){switch(e.tag){case 0:case 11:case 15:Bi(e),e.flags&2048&&wn(9,e,e.return);break;case 3:Bi(e);break;case 12:Bi(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,na(e)):Bi(e);break;default:Bi(e)}}function na(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];je=s,Fd(s,e)}kd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:wn(8,n,n.return),na(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,na(n));break;default:na(n)}e=e.sibling}}function Fd(e,n){for(;je!==null;){var i=je;switch(i.tag){case 0:case 11:case 15:wn(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:xi(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,je=s;else e:for(i=e;je!==null;){s=je;var d=s.sibling,m=s.return;if(Ud(s),s===i){je=null;break e}if(d!==null){d.return=m,je=d;break e}je=m}}}var d0={getCacheForType:function(e){var n=nt(Ke),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return nt(Ke).controller.signal}},p0=typeof WeakMap=="function"?WeakMap:Map,Re=0,Le=null,Te=null,Se=0,be=0,At=null,Dn=!1,Fl=!1,wr=!1,fn=0,Fe=0,Un=0,cl=0,Dr=0,xt=0,Ol=0,Fi=null,ht=null,Ur=!1,la=0,Od=0,ia=1/0,oa=null,Ln=null,$e=0,qn=null,Jl=null,dn=0,Lr=0,qr=null,Jd=null,Oi=0,Gr=null;function Nt(){return(Re&2)!==0&&Se!==0?Se&-Se:M.T!==null?Br():ac()}function Yd(){if(xt===0)if((Se&536870912)===0||_e){var e=po;po<<=1,(po&3932160)===0&&(po=262144),xt=e}else xt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),xt}function gt(e,n,i){(e===Le&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(Yl(e,0),Gn(e,Se,xt,!1)),fi(e,i),((Re&2)===0||e!==Le)&&(e===Le&&((Re&2)===0&&(cl|=i),Fe===4&&Gn(e,Se,xt,!1)),Kt(e))}function Kd(e,n,i){if((Re&6)!==0)throw Error(a(327));var s=!i&&(n&127)===0&&(n&e.expiredLanes)===0||ci(e,n),d=s?g0(e,n):Hr(e,n,!0),m=s;do{if(d===0){Fl&&!s&&Gn(e,n,0,!1);break}else{if(i=e.current.alternate,m&&!m0(i)){d=Hr(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var _=e;d=Fi;var N=_.current.memoizedState.isDehydrated;if(N&&(Yl(_,T).flags|=256),T=Hr(_,T,!1),T!==2){if(wr&&!N){_.errorRecoveryDisabledLanes|=m,cl|=m,d=4;break e}m=ht,ht=d,m!==null&&(ht===null?ht=m:ht.push.apply(ht,m))}d=T}if(m=!1,d!==2)continue}}if(d===1){Yl(e,0),Gn(e,n,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Gn(s,n,xt,!Dn);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=la+300-yt(),10<d)){if(Gn(s,n,xt,!Dn),ho(s,0,!0)!==0)break e;dn=n,s.timeoutHandle=Ap(Qd.bind(null,s,i,ht,oa,Ur,n,xt,cl,Ol,Dn,m,"Throttled",-0,0),d);break e}Qd(s,i,ht,oa,Ur,n,xt,cl,Ol,Dn,m,null,-0,0)}}break}while(!0);Kt(e)}function Qd(e,n,i,s,d,m,T,_,N,q,O,Y,G,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zt},Vd(n,m,Y);var ie=(m&62914560)===m?la-yt():(m&4194048)===m?Od-yt():0;if(ie=W0(Y,ie),ie!==null){dn=m,e.cancelPendingCommit=ie(np.bind(null,e,n,m,i,s,d,T,_,N,O,Y,null,G,H)),Gn(e,m,T,!q);return}}np(e,n,m,i,s,d,T,_,N)}function m0(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var d=i[s],m=d.getSnapshot;d=d.value;try{if(!Et(m(),d))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gn(e,n,i,s){n&=~Dr,n&=~cl,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var m=31-Tt(d),T=1<<m;s[m]=-1,d&=~T}i!==0&&lc(e,i,n)}function aa(){return(Re&6)===0?(Ji(0),!1):!0}function Pr(){if(Te!==null){if(be===0)var e=Te.return;else e=Te,en=tl=null,js(e),Gl=null,Ri=0,e=Te;for(;e!==null;)xd(e.alternate,e),e=e.return;Te=null}}function Yl(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,L0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),dn=0,Pr(),Le=e,Te=i=Wt(e.current,null),Se=n,be=0,At=null,Dn=!1,Fl=ci(e,n),wr=!1,Ol=xt=Dr=cl=Un=Fe=0,ht=Fi=null,Ur=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-Tt(s),m=1<<d;n|=e[d],s&=~m}return fn=n,Ro(),i}function Xd(e,n){me=null,M.H=qi,n===ql||n===qo?(n=ff(),be=3):n===ks?(n=ff(),be=4):be=n===hr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,At=n,Te===null&&(Fe=1,Xo(e,wt(n,e.current)))}function Zd(){var e=Ct.current;return e===null?!0:(Se&4194048)===Se?qt===null:(Se&62914560)===Se||(Se&536870912)!==0?e===qt:!1}function $d(){var e=M.H;return M.H=qi,e===null?qi:e}function Wd(){var e=M.A;return M.A=d0,e}function sa(){Fe=4,Dn||(Se&4194048)!==Se&&Ct.current!==null||(Fl=!0),(Un&134217727)===0&&(cl&134217727)===0||Le===null||Gn(Le,Se,xt,!1)}function Hr(e,n,i){var s=Re;Re|=2;var d=$d(),m=Wd();(Le!==e||Se!==n)&&(oa=null,Yl(e,n)),n=!1;var T=Fe;e:do try{if(be!==0&&Te!==null){var _=Te,N=At;switch(be){case 8:Pr(),T=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(n=!0);var q=be;if(be=0,At=null,Kl(e,_,N,q),i&&Fl){T=0;break e}break;default:q=be,be=0,At=null,Kl(e,_,N,q)}}h0(),T=Fe;break}catch(O){Xd(e,O)}while(!0);return n&&e.shellSuspendCounter++,en=tl=null,Re=s,M.H=d,M.A=m,Te===null&&(Le=null,Se=0,Ro()),T}function h0(){for(;Te!==null;)jd(Te)}function g0(e,n){var i=Re;Re|=2;var s=$d(),d=Wd();Le!==e||Se!==n?(oa=null,ia=yt()+500,Yl(e,n)):Fl=ci(e,n);e:do try{if(be!==0&&Te!==null){n=Te;var m=At;t:switch(be){case 1:be=0,At=null,Kl(e,n,m,1);break;case 2:case 9:if(uf(m)){be=0,At=null,ep(n);break}n=function(){be!==2&&be!==9||Le!==e||(be=7),Kt(e)},m.then(n,n);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:uf(m)?(be=0,At=null,ep(n)):(be=0,At=null,Kl(e,n,m,7));break;case 5:var T=null;switch(Te.tag){case 26:T=Te.memoizedState;case 5:case 27:var _=Te;if(T?zp(T):_.stateNode.complete){be=0,At=null;var N=_.sibling;if(N!==null)Te=N;else{var q=_.return;q!==null?(Te=q,ra(q)):Te=null}break t}}be=0,At=null,Kl(e,n,m,5);break;case 6:be=0,At=null,Kl(e,n,m,6);break;case 8:Pr(),Fe=6;break e;default:throw Error(a(462))}}y0();break}catch(O){Xd(e,O)}while(!0);return en=tl=null,M.H=s,M.A=d,Re=i,Te!==null?0:(Le=null,Se=0,Ro(),Fe)}function y0(){for(;Te!==null&&!Vg();)jd(Te)}function jd(e){var n=_d(e.alternate,e,fn);e.memoizedProps=e.pendingProps,n===null?ra(e):Te=n}function ep(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=yd(i,n,n.pendingProps,n.type,void 0,Se);break;case 11:n=yd(i,n,n.pendingProps,n.type.render,n.ref,Se);break;case 5:js(n);default:xd(i,n),n=Te=$c(n,fn),n=_d(i,n,fn)}e.memoizedProps=e.pendingProps,n===null?ra(e):Te=n}function Kl(e,n,i,s){en=tl=null,js(n),Gl=null,Ri=0;var d=n.return;try{if(o0(e,d,n,i,Se)){Fe=1,Xo(e,wt(i,e.current)),Te=null;return}}catch(m){if(d!==null)throw Te=d,m;Fe=1,Xo(e,wt(i,e.current)),Te=null;return}n.flags&32768?(_e||s===1?e=!0:Fl||(Se&536870912)!==0?e=!1:(Dn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ct.current,s!==null&&s.tag===13&&(s.flags|=16384))),tp(n,e)):ra(n)}function ra(e){var n=e;do{if((n.flags&32768)!==0){tp(n,Dn);return}e=n.return;var i=r0(n.alternate,n,fn);if(i!==null){Te=i;return}if(n=n.sibling,n!==null){Te=n;return}Te=n=e}while(n!==null);Fe===0&&(Fe=5)}function tp(e,n){do{var i=u0(e.alternate,e);if(i!==null){i.flags&=32767,Te=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Te=e;return}Te=e=i}while(e!==null);Fe=6,Te=null}function np(e,n,i,s,d,m,T,_,N){e.cancelPendingCommit=null;do ua();while($e!==0);if((Re&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=Ns,Zg(e,i,m,T,_,N),e===Le&&(Te=Le=null,Se=0),Jl=n,qn=e,dn=i,Lr=m,qr=d,Jd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,S0(co,function(){return sp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=M.T,M.T=null,d=F.p,F.p=2,T=Re,Re|=4;try{c0(e,n,i)}finally{Re=T,F.p=d,M.T=s}}$e=1,lp(),ip(),op()}}function lp(){if($e===1){$e=0;var e=qn,n=Jl,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=M.T,M.T=null;var s=F.p;F.p=2;var d=Re;Re|=4;try{Pd(n,e);var m=Zr,T=Bc(e.containerInfo),_=m.focusedElem,N=m.selectionRange;if(T!==_&&_&&_.ownerDocument&&kc(_.ownerDocument.documentElement,_)){if(N!==null&&Ss(_)){var q=N.start,O=N.end;if(O===void 0&&(O=q),"selectionStart"in _)_.selectionStart=q,_.selectionEnd=Math.min(O,_.value.length);else{var Y=_.ownerDocument||document,G=Y&&Y.defaultView||window;if(G.getSelection){var H=G.getSelection(),ie=_.textContent.length,re=Math.min(N.start,ie),Ue=N.end===void 0?re:Math.min(N.end,ie);!H.extend&&re>Ue&&(T=Ue,Ue=re,re=T);var I=Vc(_,re),R=Vc(_,Ue);if(I&&R&&(H.rangeCount!==1||H.anchorNode!==I.node||H.anchorOffset!==I.offset||H.focusNode!==R.node||H.focusOffset!==R.offset)){var L=Y.createRange();L.setStart(I.node,I.offset),H.removeAllRanges(),re>Ue?(H.addRange(L),H.extend(R.node,R.offset)):(L.setEnd(R.node,R.offset),H.addRange(L))}}}}for(Y=[],H=_;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<Y.length;_++){var J=Y[_];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Sa=!!Xr,Zr=Xr=null}finally{Re=d,F.p=s,M.T=i}}e.current=n,$e=2}}function ip(){if($e===2){$e=0;var e=qn,n=Jl,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=M.T,M.T=null;var s=F.p;F.p=2;var d=Re;Re|=4;try{Dd(e,n.alternate,n)}finally{Re=d,F.p=s,M.T=i}}$e=3}}function op(){if($e===4||$e===3){$e=0,kg();var e=qn,n=Jl,i=dn,s=Jd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$e=5:($e=0,Jl=qn=null,ap(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Ln=null),ns(i),n=n.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(ui,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=M.T,d=F.p,F.p=2,M.T=null;try{for(var m=e.onRecoverableError,T=0;T<s.length;T++){var _=s[T];m(_.value,{componentStack:_.stack})}}finally{M.T=n,F.p=d}}(dn&3)!==0&&ua(),Kt(e),d=e.pendingLanes,(i&261930)!==0&&(d&42)!==0?e===Gr?Oi++:(Oi=0,Gr=e):Oi=0,Ji(0)}}function ap(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xi(n)))}function ua(){return lp(),ip(),op(),sp()}function sp(){if($e!==5)return!1;var e=qn,n=Lr;Lr=0;var i=ns(dn),s=M.T,d=F.p;try{F.p=32>i?32:i,M.T=null,i=qr,qr=null;var m=qn,T=dn;if($e=0,Jl=qn=null,dn=0,(Re&6)!==0)throw Error(a(331));var _=Re;if(Re|=4,Bd(m.current),zd(m,m.current,T,i),Re=_,Ji(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(ui,m)}catch{}return!0}finally{F.p=d,M.T=s,ap(e,n)}}function rp(e,n,i){n=wt(i,n),n=mr(e.stateNode,n,2),e=Mn(e,n,2),e!==null&&(fi(e,2),Kt(e))}function Ie(e,n,i){if(e.tag===3)rp(e,e,i);else for(;n!==null;){if(n.tag===3){rp(n,e,i);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ln===null||!Ln.has(s))){e=wt(i,e),i=ud(2),s=Mn(n,i,2),s!==null&&(cd(i,s,n,e),fi(s,2),Kt(s));break}}n=n.return}}function zr(e,n,i){var s=e.pingCache;if(s===null){s=e.pingCache=new p0;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(i)||(wr=!0,d.add(i),e=v0.bind(null,e,n,i),n.then(e,e))}function v0(e,n,i){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Le===e&&(Se&i)===i&&(Fe===4||Fe===3&&(Se&62914560)===Se&&300>yt()-la?(Re&2)===0&&Yl(e,0):Dr|=i,Ol===Se&&(Ol=0)),Kt(e)}function up(e,n){n===0&&(n=nc()),e=Wn(e,n),e!==null&&(fi(e,n),Kt(e))}function T0(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),up(e,i)}function E0(e,n){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),up(e,i)}function S0(e,n){return Wa(e,n)}var ca=null,Ql=null,Vr=!1,fa=!1,kr=!1,Pn=0;function Kt(e){e!==Ql&&e.next===null&&(Ql===null?ca=Ql=e:Ql=Ql.next=e),fa=!0,Vr||(Vr=!0,_0())}function Ji(e,n){if(!kr&&fa){kr=!0;do for(var i=!1,s=ca;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var T=s.suspendedLanes,_=s.pingedLanes;m=(1<<31-Tt(42|e)+1)-1,m&=d&~(T&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,pp(s,m))}else m=Se,m=ho(s,s===Le?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||ci(s,m)||(i=!0,pp(s,m));s=s.next}while(i);kr=!1}}function C0(){cp()}function cp(){fa=Vr=!1;var e=0;Pn!==0&&U0()&&(e=Pn);for(var n=yt(),i=null,s=ca;s!==null;){var d=s.next,m=fp(s,n);m===0?(s.next=null,i===null?ca=d:i.next=d,d===null&&(Ql=i)):(i=s,(e!==0||(m&3)!==0)&&(fa=!0)),s=d}$e!==0&&$e!==5||Ji(e),Pn!==0&&(Pn=0)}function fp(e,n){for(var i=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-Tt(m),_=1<<T,N=d[T];N===-1?((_&i)===0||(_&s)!==0)&&(d[T]=Xg(_,n)):N<=n&&(e.expiredLanes|=_),m&=~_}if(n=Le,i=Se,i=ho(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===n&&(be===2||be===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ja(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ci(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(s!==null&&ja(s),ns(i)){case 2:case 8:i=ec;break;case 32:i=co;break;case 268435456:i=tc;break;default:i=co}return s=dp.bind(null,e),i=Wa(i,s),e.callbackPriority=n,e.callbackNode=i,n}return s!==null&&s!==null&&ja(s),e.callbackPriority=2,e.callbackNode=null,2}function dp(e,n){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ua()&&e.callbackNode!==i)return null;var s=Se;return s=ho(e,e===Le?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Kd(e,s,n),fp(e,yt()),e.callbackNode!=null&&e.callbackNode===i?dp.bind(null,e):null)}function pp(e,n){if(ua())return null;Kd(e,n,!0)}function _0(){q0(function(){(Re&6)!==0?Wa(ju,C0):cp()})}function Br(){if(Pn===0){var e=Ul;e===0&&(e=fo,fo<<=1,(fo&261888)===0&&(fo=256)),Pn=e}return Pn}function mp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:To(""+e)}function hp(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function A0(e,n,i,s,d){if(n==="submit"&&i&&i.stateNode===d){var m=mp((d[ct]||null).action),T=s.submitter;T&&(n=(n=T[ct]||null)?mp(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var _=new _o("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Pn!==0){var N=T?hp(d,T):new FormData(d);rr(i,{pending:!0,data:N,method:d.method,action:m},null,N)}}else typeof m=="function"&&(_.preventDefault(),N=T?hp(d,T):new FormData(d),rr(i,{pending:!0,data:N,method:d.method,action:m},m,N))},currentTarget:d}]})}}for(var Fr=0;Fr<xs.length;Fr++){var Or=xs[Fr],x0=Or.toLowerCase(),N0=Or[0].toUpperCase()+Or.slice(1);Vt(x0,"on"+N0)}Vt(Jc,"onAnimationEnd"),Vt(Yc,"onAnimationIteration"),Vt(Kc,"onAnimationStart"),Vt("dblclick","onDoubleClick"),Vt("focusin","onFocus"),Vt("focusout","onBlur"),Vt(By,"onTransitionRun"),Vt(Fy,"onTransitionStart"),Vt(Oy,"onTransitionCancel"),Vt(Qc,"onTransitionEnd"),Tl("onMouseEnter",["mouseout","mouseover"]),Tl("onMouseLeave",["mouseout","mouseover"]),Tl("onPointerEnter",["pointerout","pointerover"]),Tl("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yi));function gp(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var T=s.length-1;0<=T;T--){var _=s[T],N=_.instance,q=_.currentTarget;if(_=_.listener,N!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=q;try{m(d)}catch(O){No(O)}d.currentTarget=null,m=N}else for(T=0;T<s.length;T++){if(_=s[T],N=_.instance,q=_.currentTarget,_=_.listener,N!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=q;try{m(d)}catch(O){No(O)}d.currentTarget=null,m=N}}}}function Ee(e,n){var i=n[ls];i===void 0&&(i=n[ls]=new Set);var s=e+"__bubble";i.has(s)||(yp(n,e,2,!1),i.add(s))}function Jr(e,n,i){var s=0;n&&(s|=4),yp(i,e,s,n)}var da="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[da]){e[da]=!0,uc.forEach(function(i){i!=="selectionchange"&&(R0.has(i)||Jr(i,!1,e),Jr(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[da]||(n[da]=!0,Jr("selectionchange",!1,n))}}function yp(e,n,i,s){switch(Yp(n)){case 2:var d=tv;break;case 8:d=nv;break;default:d=su}i=d.bind(null,n,i,e),d=void 0,!ds||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function Kr(e,n,i,s,d){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var _=s.stateNode.containerInfo;if(_===d)break;if(T===4)for(T=s.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;_!==null;){if(T=gl(_),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){s=m=T;continue e}_=_.parentNode}}s=s.return}Sc(function(){var q=m,O=cs(i),Y=[];e:{var G=Xc.get(e);if(G!==void 0){var H=_o,ie=e;switch(e){case"keypress":if(So(i)===0)break e;case"keydown":case"keyup":H=Ey;break;case"focusin":ie="focus",H=gs;break;case"focusout":ie="blur",H=gs;break;case"beforeblur":case"afterblur":H=gs;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=ry;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=_y;break;case Jc:case Yc:case Kc:H=fy;break;case Qc:H=xy;break;case"scroll":case"scrollend":H=ay;break;case"wheel":H=Ry;break;case"copy":case"cut":case"paste":H=py;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Nc;break;case"toggle":case"beforetoggle":H=by}var re=(n&4)!==0,Ue=!re&&(e==="scroll"||e==="scrollend"),I=re?G!==null?G+"Capture":null:G;re=[];for(var R=q,L;R!==null;){var J=R;if(L=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||L===null||I===null||(J=mi(R,I),J!=null&&re.push(Ki(R,J,L))),Ue)break;R=R.return}0<re.length&&(G=new H(G,ie,null,i,O),Y.push({event:G,listeners:re}))}}if((n&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",G&&i!==us&&(ie=i.relatedTarget||i.fromElement)&&(gl(ie)||ie[hl]))break e;if((H||G)&&(G=O.window===O?O:(G=O.ownerDocument)?G.defaultView||G.parentWindow:window,H?(ie=i.relatedTarget||i.toElement,H=q,ie=ie?gl(ie):null,ie!==null&&(Ue=f(ie),re=ie.tag,ie!==Ue||re!==5&&re!==27&&re!==6)&&(ie=null)):(H=null,ie=q),H!==ie)){if(re=Ac,J="onMouseLeave",I="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(re=Nc,J="onPointerLeave",I="onPointerEnter",R="pointer"),Ue=H==null?G:pi(H),L=ie==null?G:pi(ie),G=new re(J,R+"leave",H,i,O),G.target=Ue,G.relatedTarget=L,J=null,gl(O)===q&&(re=new re(I,R+"enter",ie,i,O),re.target=L,re.relatedTarget=Ue,J=re),Ue=J,H&&ie)t:{for(re=M0,I=H,R=ie,L=0,J=I;J;J=re(J))L++;J=0;for(var ae=R;ae;ae=re(ae))J++;for(;0<L-J;)I=re(I),L--;for(;0<J-L;)R=re(R),J--;for(;L--;){if(I===R||R!==null&&I===R.alternate){re=I;break t}I=re(I),R=re(R)}re=null}else re=null;H!==null&&vp(Y,G,H,re,!1),ie!==null&&Ue!==null&&vp(Y,Ue,ie,re,!0)}}e:{if(G=q?pi(q):window,H=G.nodeName&&G.nodeName.toLowerCase(),H==="select"||H==="input"&&G.type==="file")var Ae=Lc;else if(Dc(G))if(qc)Ae=zy;else{Ae=Py;var oe=Gy}else H=G.nodeName,!H||H.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&rs(q.elementType)&&(Ae=Lc):Ae=Hy;if(Ae&&(Ae=Ae(e,q))){Uc(Y,Ae,i,O);break e}oe&&oe(e,G,q),e==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&ss(G,"number",G.value)}switch(oe=q?pi(q):window,e){case"focusin":(Dc(oe)||oe.contentEditable==="true")&&(xl=oe,Cs=q,Ci=null);break;case"focusout":Ci=Cs=xl=null;break;case"mousedown":_s=!0;break;case"contextmenu":case"mouseup":case"dragend":_s=!1,Fc(Y,i,O);break;case"selectionchange":if(ky)break;case"keydown":case"keyup":Fc(Y,i,O)}var he;if(vs)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Al?Ic(e,i)&&(Ce="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ce="onCompositionStart");Ce&&(Rc&&i.locale!=="ko"&&(Al||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Al&&(he=Cc()):(Sn=O,ps="value"in Sn?Sn.value:Sn.textContent,Al=!0)),oe=pa(q,Ce),0<oe.length&&(Ce=new xc(Ce,e,null,i,O),Y.push({event:Ce,listeners:oe}),he?Ce.data=he:(he=wc(i),he!==null&&(Ce.data=he)))),(he=wy?Dy(e,i):Uy(e,i))&&(Ce=pa(q,"onBeforeInput"),0<Ce.length&&(oe=new xc("onBeforeInput","beforeinput",null,i,O),Y.push({event:oe,listeners:Ce}),oe.data=he)),A0(Y,e,q,i,O)}gp(Y,n)})}function Ki(e,n,i){return{instance:e,listener:n,currentTarget:i}}function pa(e,n){for(var i=n+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=mi(e,i),d!=null&&s.unshift(Ki(e,d,m)),d=mi(e,n),d!=null&&s.push(Ki(e,d,m))),e.tag===3)return s;e=e.return}return[]}function M0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vp(e,n,i,s,d){for(var m=n._reactName,T=[];i!==null&&i!==s;){var _=i,N=_.alternate,q=_.stateNode;if(_=_.tag,N!==null&&N===s)break;_!==5&&_!==26&&_!==27||q===null||(N=q,d?(q=mi(i,m),q!=null&&T.unshift(Ki(i,q,N))):d||(q=mi(i,m),q!=null&&T.push(Ki(i,q,N)))),i=i.return}T.length!==0&&e.push({event:n,listeners:T})}var b0=/\r\n?/g,I0=/\u0000|\uFFFD/g;function Tp(e){return(typeof e=="string"?e:""+e).replace(b0,`
`).replace(I0,"")}function Ep(e,n){return n=Tp(n),Tp(e)===n}function De(e,n,i,s,d,m){switch(i){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Sl(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Sl(e,""+s);break;case"className":yo(e,"class",s);break;case"tabIndex":yo(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":yo(e,i,s);break;case"style":Tc(e,s,m);break;case"data":if(n!=="object"){yo(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=To(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(n!=="input"&&De(e,n,"name",d.name,d,null),De(e,n,"formEncType",d.formEncType,d,null),De(e,n,"formMethod",d.formMethod,d,null),De(e,n,"formTarget",d.formTarget,d,null)):(De(e,n,"encType",d.encType,d,null),De(e,n,"method",d.method,d,null),De(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=To(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=Zt);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(i=s.__html,i!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=To(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),go(e,"popover",s);break;case"xlinkActuate":Xt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Xt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Xt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Xt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Xt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Xt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Xt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Xt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Xt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":go(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=iy.get(i)||i,go(e,i,s))}}function Qr(e,n,i,s,d,m){switch(i){case"style":Tc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(i=s.__html,i!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Sl(e,s):(typeof s=="number"||typeof s=="bigint")&&Sl(e,""+s);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Zt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cc.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),n=i.slice(2,d?i.length-7:void 0),m=e[ct]||null,m=m!=null?m[i]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,s,d);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):go(e,i,s)}}}function it(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var s=!1,d=!1,m;for(m in i)if(i.hasOwnProperty(m)){var T=i[m];if(T!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:De(e,n,m,T,i,null)}}d&&De(e,n,"srcSet",i.srcSet,i,null),s&&De(e,n,"src",i.src,i,null);return;case"input":Ee("invalid",e);var _=m=T=d=null,N=null,q=null;for(s in i)if(i.hasOwnProperty(s)){var O=i[s];if(O!=null)switch(s){case"name":d=O;break;case"type":T=O;break;case"checked":N=O;break;case"defaultChecked":q=O;break;case"value":m=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,n));break;default:De(e,n,s,O,i,null)}}hc(e,m,_,N,q,T,d,!1);return;case"select":Ee("invalid",e),s=T=m=null;for(d in i)if(i.hasOwnProperty(d)&&(_=i[d],_!=null))switch(d){case"value":m=_;break;case"defaultValue":T=_;break;case"multiple":s=_;default:De(e,n,d,_,i,null)}n=m,i=T,e.multiple=!!s,n!=null?El(e,!!s,n,!1):i!=null&&El(e,!!s,i,!0);return;case"textarea":Ee("invalid",e),m=d=s=null;for(T in i)if(i.hasOwnProperty(T)&&(_=i[T],_!=null))switch(T){case"value":s=_;break;case"defaultValue":d=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:De(e,n,T,_,i,null)}yc(e,s,d,m);return;case"option":for(N in i)if(i.hasOwnProperty(N)&&(s=i[N],s!=null))switch(N){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:De(e,n,N,s,i,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(s=0;s<Yi.length;s++)Ee(Yi[s],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in i)if(i.hasOwnProperty(q)&&(s=i[q],s!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:De(e,n,q,s,i,null)}return;default:if(rs(n)){for(O in i)i.hasOwnProperty(O)&&(s=i[O],s!==void 0&&Qr(e,n,O,s,i,void 0));return}}for(_ in i)i.hasOwnProperty(_)&&(s=i[_],s!=null&&De(e,n,_,s,i,null))}function w0(e,n,i,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,T=null,_=null,N=null,q=null,O=null;for(H in i){var Y=i[H];if(i.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=Y;default:s.hasOwnProperty(H)||De(e,n,H,null,s,Y)}}for(var G in s){var H=s[G];if(Y=i[G],s.hasOwnProperty(G)&&(H!=null||Y!=null))switch(G){case"type":m=H;break;case"name":d=H;break;case"checked":q=H;break;case"defaultChecked":O=H;break;case"value":T=H;break;case"defaultValue":_=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&De(e,n,G,H,s,Y)}}as(e,T,_,N,q,O,m,d);return;case"select":H=T=_=G=null;for(m in i)if(N=i[m],i.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":H=N;default:s.hasOwnProperty(m)||De(e,n,m,null,s,N)}for(d in s)if(m=s[d],N=i[d],s.hasOwnProperty(d)&&(m!=null||N!=null))switch(d){case"value":G=m;break;case"defaultValue":_=m;break;case"multiple":T=m;default:m!==N&&De(e,n,d,m,s,N)}n=_,i=T,s=H,G!=null?El(e,!!i,G,!1):!!s!=!!i&&(n!=null?El(e,!!i,n,!0):El(e,!!i,i?[]:"",!1));return;case"textarea":H=G=null;for(_ in i)if(d=i[_],i.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:De(e,n,_,null,s,d)}for(T in s)if(d=s[T],m=i[T],s.hasOwnProperty(T)&&(d!=null||m!=null))switch(T){case"value":G=d;break;case"defaultValue":H=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&De(e,n,T,d,s,m)}gc(e,G,H);return;case"option":for(var ie in i)if(G=i[ie],i.hasOwnProperty(ie)&&G!=null&&!s.hasOwnProperty(ie))switch(ie){case"selected":e.selected=!1;break;default:De(e,n,ie,null,s,G)}for(N in s)if(G=s[N],H=i[N],s.hasOwnProperty(N)&&G!==H&&(G!=null||H!=null))switch(N){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:De(e,n,N,G,s,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in i)G=i[re],i.hasOwnProperty(re)&&G!=null&&!s.hasOwnProperty(re)&&De(e,n,re,null,s,G);for(q in s)if(G=s[q],H=i[q],s.hasOwnProperty(q)&&G!==H&&(G!=null||H!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:De(e,n,q,G,s,H)}return;default:if(rs(n)){for(var Ue in i)G=i[Ue],i.hasOwnProperty(Ue)&&G!==void 0&&!s.hasOwnProperty(Ue)&&Qr(e,n,Ue,void 0,s,G);for(O in s)G=s[O],H=i[O],!s.hasOwnProperty(O)||G===H||G===void 0&&H===void 0||Qr(e,n,O,G,s,H);return}}for(var I in i)G=i[I],i.hasOwnProperty(I)&&G!=null&&!s.hasOwnProperty(I)&&De(e,n,I,null,s,G);for(Y in s)G=s[Y],H=i[Y],!s.hasOwnProperty(Y)||G===H||G==null&&H==null||De(e,n,Y,G,s,H)}function Sp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var d=i[s],m=d.transferSize,T=d.initiatorType,_=d.duration;if(m&&_&&Sp(T)){for(T=0,_=d.responseEnd,s+=1;s<i.length;s++){var N=i[s],q=N.startTime;if(q>_)break;var O=N.transferSize,Y=N.initiatorType;O&&Sp(Y)&&(N=N.responseEnd,T+=O*(N<_?1:(_-q)/(N-q)))}if(--s,n+=8*(m+T)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xr=null,Zr=null;function ma(e){return e.nodeType===9?e:e.ownerDocument}function Cp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _p(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function $r(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wr=null;function U0(){var e=window.event;return e&&e.type==="popstate"?e===Wr?!1:(Wr=e,!0):(Wr=null,!1)}var Ap=typeof setTimeout=="function"?setTimeout:void 0,L0=typeof clearTimeout=="function"?clearTimeout:void 0,xp=typeof Promise=="function"?Promise:void 0,q0=typeof queueMicrotask=="function"?queueMicrotask:typeof xp<"u"?function(e){return xp.resolve(null).then(e).catch(G0)}:Ap;function G0(e){setTimeout(function(){throw e})}function Hn(e){return e==="head"}function Np(e,n){var i=n,s=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(d),Wl(n);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")Qi(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Qi(i);for(var m=i.firstChild;m;){var T=m.nextSibling,_=m.nodeName;m[di]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=T}}else i==="body"&&Qi(e.ownerDocument.body);i=d}while(i);Wl(n)}function Rp(e,n){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function jr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":jr(i),is(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function P0(e,n,i,s){for(;e.nodeType===1;){var d=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[di])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function H0(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Gt(e.nextSibling),e===null))return null;return e}function Mp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gt(e.nextSibling),e===null))return null;return e}function eu(e){return e.data==="$?"||e.data==="$~"}function tu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function z0(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var s=function(){n(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Gt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var nu=null;function bp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return Gt(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function Ip(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function wp(e,n,i){switch(n=ma(i),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Qi(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);is(e)}var Pt=new Map,Dp=new Set;function ha(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pn=F.d;F.d={f:V0,r:k0,D:B0,C:F0,L:O0,m:J0,X:K0,S:Y0,M:Q0};function V0(){var e=pn.f(),n=aa();return e||n}function k0(e){var n=yl(e);n!==null&&n.tag===5&&n.type==="form"?Xf(n):pn.r(e)}var Xl=typeof document>"u"?null:document;function Up(e,n,i){var s=Xl;if(s&&typeof n=="string"&&n){var d=bt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),Dp.has(d)||(Dp.add(d),e={rel:e,crossOrigin:i,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),it(n,"link",e),We(n),s.head.appendChild(n)))}}function B0(e){pn.D(e),Up("dns-prefetch",e,null)}function F0(e,n){pn.C(e,n),Up("preconnect",e,n)}function O0(e,n,i){pn.L(e,n,i);var s=Xl;if(s&&e&&n){var d='link[rel="preload"][as="'+bt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+bt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+bt(i.imageSizes)+'"]')):d+='[href="'+bt(e)+'"]';var m=d;switch(n){case"style":m=Zl(e);break;case"script":m=$l(e)}Pt.has(m)||(e=E({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Pt.set(m,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(Xi(m))||n==="script"&&s.querySelector(Zi(m))||(n=s.createElement("link"),it(n,"link",e),We(n),s.head.appendChild(n)))}}function J0(e,n){pn.m(e,n);var i=Xl;if(i&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+bt(s)+'"][href="'+bt(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=$l(e)}if(!Pt.has(m)&&(e=E({rel:"modulepreload",href:e},n),Pt.set(m,e),i.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Zi(m)))return}s=i.createElement("link"),it(s,"link",e),We(s),i.head.appendChild(s)}}}function Y0(e,n,i){pn.S(e,n,i);var s=Xl;if(s&&e){var d=vl(s).hoistableStyles,m=Zl(e);n=n||"default";var T=d.get(m);if(!T){var _={loading:0,preload:null};if(T=s.querySelector(Xi(m)))_.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Pt.get(m))&&lu(e,i);var N=T=s.createElement("link");We(N),it(N,"link",e),N._p=new Promise(function(q,O){N.onload=q,N.onerror=O}),N.addEventListener("load",function(){_.loading|=1}),N.addEventListener("error",function(){_.loading|=2}),_.loading|=4,ga(T,n,s)}T={type:"stylesheet",instance:T,count:1,state:_},d.set(m,T)}}}function K0(e,n){pn.X(e,n);var i=Xl;if(i&&e){var s=vl(i).hoistableScripts,d=$l(e),m=s.get(d);m||(m=i.querySelector(Zi(d)),m||(e=E({src:e,async:!0},n),(n=Pt.get(d))&&iu(e,n),m=i.createElement("script"),We(m),it(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Q0(e,n){pn.M(e,n);var i=Xl;if(i&&e){var s=vl(i).hoistableScripts,d=$l(e),m=s.get(d);m||(m=i.querySelector(Zi(d)),m||(e=E({src:e,async:!0,type:"module"},n),(n=Pt.get(d))&&iu(e,n),m=i.createElement("script"),We(m),it(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Lp(e,n,i,s){var d=(d=ve.current)?ha(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Zl(i.href),i=vl(d).hoistableStyles,s=i.get(n),s||(s={type:"style",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Zl(i.href);var m=vl(d).hoistableStyles,T=m.get(e);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=d.querySelector(Xi(e)))&&!m._p&&(T.instance=m,T.state.loading=5),Pt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Pt.set(e,i),m||X0(d,e,i,T.state))),n&&s===null)throw Error(a(528,""));return T}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$l(i),i=vl(d).hoistableScripts,s=i.get(n),s||(s={type:"script",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Zl(e){return'href="'+bt(e)+'"'}function Xi(e){return'link[rel="stylesheet"]['+e+"]"}function qp(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function X0(e,n,i,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),it(n,"link",i),We(n),e.head.appendChild(n))}function $l(e){return'[src="'+bt(e)+'"]'}function Zi(e){return"script[async]"+e}function Gp(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+bt(i.href)+'"]');if(s)return n.instance=s,We(s),s;var d=E({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),We(s),it(s,"style",d),ga(s,i.precedence,e),n.instance=s;case"stylesheet":d=Zl(i.href);var m=e.querySelector(Xi(d));if(m)return n.state.loading|=4,n.instance=m,We(m),m;s=qp(i),(d=Pt.get(d))&&lu(s,d),m=(e.ownerDocument||e).createElement("link"),We(m);var T=m;return T._p=new Promise(function(_,N){T.onload=_,T.onerror=N}),it(m,"link",s),n.state.loading|=4,ga(m,i.precedence,e),n.instance=m;case"script":return m=$l(i.src),(d=e.querySelector(Zi(m)))?(n.instance=d,We(d),d):(s=i,(d=Pt.get(m))&&(s=E({},i),iu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),We(d),it(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,ga(s,i.precedence,e));return n.instance}function ga(e,n,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,T=0;T<s.length;T++){var _=s[T];if(_.dataset.precedence===n)m=_;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function lu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function iu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ya=null;function Pp(e,n,i){if(ya===null){var s=new Map,d=ya=new Map;d.set(i,s)}else d=ya,s=d.get(i),s||(s=new Map,d.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),d=0;d<i.length;d++){var m=i[d];if(!(m[di]||m[et]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=e+T;var _=s.get(T);_?_.push(m):s.set(T,[m])}}return s}function Hp(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function Z0(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function zp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $0(e,n,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=Zl(s.href),m=n.querySelector(Xi(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=va.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=m,We(m);return}m=n.ownerDocument||n,s=qp(s),(d=Pt.get(d))&&lu(s,d),m=m.createElement("link"),We(m);var T=m;T._p=new Promise(function(_,N){T.onload=_,T.onerror=N}),it(m,"link",s),i.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=va.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var ou=0;function W0(e,n){return e.stylesheets&&e.count===0&&Ea(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&Ea(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&ou===0&&(ou=62500*D0());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ea(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>ou?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function va(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ea(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ta=null;function Ea(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ta=new Map,n.forEach(j0,e),Ta=null,va.call(e))}function j0(e,n){if(!(n.state.loading&4)){var i=Ta.get(e);if(i)var s=i.get(null);else{i=new Map,Ta.set(e,i);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var T=d[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(i.set(T.dataset.precedence,T),s=T)}s&&i.set(null,s)}d=n.instance,T=d.getAttribute("data-precedence"),m=i.get(T)||s,m===s&&i.set(null,d),i.set(T,d),this.count++,s=va.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var $i={$$typeof:b,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function ev(e,n,i,s,d,m,T,_,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=es(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=es(0),this.hiddenUpdates=es(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Vp(e,n,i,s,d,m,T,_,N,q,O,Y){return e=new ev(e,n,i,T,N,q,O,Y,_),n=1,m===!0&&(n|=24),m=St(3,null,null,n),e.current=m,m.stateNode=e,n=Hs(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:i,cache:n},Bs(m),e}function kp(e){return e?(e=Ml,e):Ml}function Bp(e,n,i,s,d,m){d=kp(d),s.context===null?s.context=d:s.pendingContext=d,s=Rn(n),s.payload={element:i},m=m===void 0?null:m,m!==null&&(s.callback=m),i=Mn(e,s,n),i!==null&&(gt(i,e,n),bi(i,e,n))}function Fp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function au(e,n){Fp(e,n),(e=e.alternate)&&Fp(e,n)}function Op(e){if(e.tag===13||e.tag===31){var n=Wn(e,67108864);n!==null&&gt(n,e,67108864),au(e,67108864)}}function Jp(e){if(e.tag===13||e.tag===31){var n=Nt();n=ts(n);var i=Wn(e,n);i!==null&&gt(i,e,n),au(e,n)}}var Sa=!0;function tv(e,n,i,s){var d=M.T;M.T=null;var m=F.p;try{F.p=2,su(e,n,i,s)}finally{F.p=m,M.T=d}}function nv(e,n,i,s){var d=M.T;M.T=null;var m=F.p;try{F.p=8,su(e,n,i,s)}finally{F.p=m,M.T=d}}function su(e,n,i,s){if(Sa){var d=ru(s);if(d===null)Kr(e,n,s,Ca,i),Kp(e,s);else if(iv(d,e,n,i,s))s.stopPropagation();else if(Kp(e,s),n&4&&-1<lv.indexOf(e)){for(;d!==null;){var m=yl(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Kn(m.pendingLanes);if(T!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var N=1<<31-Tt(T);_.entanglements[1]|=N,T&=~N}Kt(m),(Re&6)===0&&(ia=yt()+500,Ji(0))}}break;case 31:case 13:_=Wn(m,2),_!==null&&gt(_,m,2),aa(),au(m,2)}if(m=ru(s),m===null&&Kr(e,n,s,Ca,i),m===d)break;d=m}d!==null&&s.stopPropagation()}else Kr(e,n,s,null,i)}}function ru(e){return e=cs(e),uu(e)}var Ca=null;function uu(e){if(Ca=null,e=gl(e),e!==null){var n=f(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=p(n),e!==null)return e;e=null}else if(i===31){if(e=g(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ca=e,null}function Yp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bg()){case ju:return 2;case ec:return 8;case co:case Fg:return 32;case tc:return 268435456;default:return 32}default:return 32}}var cu=!1,zn=null,Vn=null,kn=null,Wi=new Map,ji=new Map,Bn=[],lv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kp(e,n){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":Wi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(n.pointerId)}}function eo(e,n,i,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:i,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=yl(n),n!==null&&Op(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function iv(e,n,i,s,d){switch(n){case"focusin":return zn=eo(zn,e,n,i,s,d),!0;case"dragenter":return Vn=eo(Vn,e,n,i,s,d),!0;case"mouseover":return kn=eo(kn,e,n,i,s,d),!0;case"pointerover":var m=d.pointerId;return Wi.set(m,eo(Wi.get(m)||null,e,n,i,s,d)),!0;case"gotpointercapture":return m=d.pointerId,ji.set(m,eo(ji.get(m)||null,e,n,i,s,d)),!0}return!1}function Qp(e){var n=gl(e.target);if(n!==null){var i=f(n);if(i!==null){if(n=i.tag,n===13){if(n=p(i),n!==null){e.blockedOn=n,sc(e.priority,function(){Jp(i)});return}}else if(n===31){if(n=g(i),n!==null){e.blockedOn=n,sc(e.priority,function(){Jp(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _a(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=ru(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);us=s,i.target.dispatchEvent(s),us=null}else return n=yl(i),n!==null&&Op(n),e.blockedOn=i,!1;n.shift()}return!0}function Xp(e,n,i){_a(e)&&i.delete(n)}function ov(){cu=!1,zn!==null&&_a(zn)&&(zn=null),Vn!==null&&_a(Vn)&&(Vn=null),kn!==null&&_a(kn)&&(kn=null),Wi.forEach(Xp),ji.forEach(Xp)}function Aa(e,n){e.blockedOn===n&&(e.blockedOn=null,cu||(cu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,ov)))}var xa=null;function Zp(e){xa!==e&&(xa=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){xa===e&&(xa=null);for(var n=0;n<e.length;n+=3){var i=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(uu(s||i)===null)continue;break}var m=yl(i);m!==null&&(e.splice(n,3),n-=3,rr(m,{pending:!0,data:d,method:i.method,action:s},s,d))}}))}function Wl(e){function n(N){return Aa(N,e)}zn!==null&&Aa(zn,e),Vn!==null&&Aa(Vn,e),kn!==null&&Aa(kn,e),Wi.forEach(n),ji.forEach(n);for(var i=0;i<Bn.length;i++){var s=Bn[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Bn.length&&(i=Bn[0],i.blockedOn===null);)Qp(i),i.blockedOn===null&&Bn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var d=i[s],m=i[s+1],T=d[ct]||null;if(typeof m=="function")T||Zp(i);else if(T){var _=null;if(m&&m.hasAttribute("formAction")){if(d=m,T=m[ct]||null)_=T.formAction;else if(uu(d)!==null)continue}else _=T.action;typeof _=="function"?i[s+1]=_:(i.splice(s,3),s-=3),Zp(i)}}}function $p(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function fu(e){this._internalRoot=e}Na.prototype.render=fu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var i=n.current,s=Nt();Bp(i,s,e,n,null,null)},Na.prototype.unmount=fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Bp(e.current,2,null,e,null,null),aa(),n[hl]=null}};function Na(e){this._internalRoot=e}Na.prototype.unstable_scheduleHydration=function(e){if(e){var n=ac();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Bn.length&&n!==0&&n<Bn[i].priority;i++);Bn.splice(i,0,e),i===0&&Qp(e)}};var Wp=t.version;if(Wp!=="19.2.1")throw Error(a(527,Wp,"19.2.1"));F.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var av={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ra.isDisabled&&Ra.supportsFiber)try{ui=Ra.inject(av),vt=Ra}catch{}}return no.createRoot=function(e,n){if(!r(e))throw Error(a(299));var i=!1,s="",d=od,m=ad,T=sd;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Vp(e,1,!1,null,null,i,s,null,d,m,T,$p),e[hl]=n.current,Yr(e),new fu(n)},no.hydrateRoot=function(e,n,i){if(!r(e))throw Error(a(299));var s=!1,d="",m=od,T=ad,_=sd,N=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(T=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.formState!==void 0&&(N=i.formState)),n=Vp(e,1,!0,n,i??null,s,d,N,m,T,_,$p),n.context=kp(null),i=n.current,s=Nt(),s=ts(s),d=Rn(s),d.callback=null,Mn(i,d,s),i=s,n.current.lanes=i,fi(n,i),Kt(n),e[hl]=n.current,Yr(e),new Na(n)},no.version="19.2.1",no}var rm;function yv(){if(rm)return mu.exports;rm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),mu.exports=gv(),mu.exports}var vv=yv();const Tv=Jh(vv);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var um="popstate";function Ev(l={}){function t(r,f){let{pathname:p="/",search:g="",hash:y=""}=dl(r.location.hash.substring(1));return!p.startsWith("/")&&!p.startsWith(".")&&(p="/"+p),Su("",{pathname:p,search:g,hash:y},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function o(r,f){let p=r.document.querySelector("base"),g="";if(p&&p.getAttribute("href")){let y=r.location.href,h=y.indexOf("#");g=h===-1?y:y.slice(0,h)}return g+"#"+(typeof f=="string"?f:ao(f))}function a(r,f){Rt(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(f)})`)}return Cv(t,o,a,l)}function Ve(l,t){if(l===!1||l===null||typeof l>"u")throw new Error(t)}function Rt(l,t){if(!l){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Sv(){return Math.random().toString(36).substring(2,10)}function cm(l,t){return{usr:l.state,key:l.key,idx:t}}function Su(l,t,o=null,a){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof t=="string"?dl(t):t,state:o,key:t&&t.key||a||Sv()}}function ao({pathname:l="/",search:t="",hash:o=""}){return t&&t!=="?"&&(l+=t.charAt(0)==="?"?t:"?"+t),o&&o!=="#"&&(l+=o.charAt(0)==="#"?o:"#"+o),l}function dl(l){let t={};if(l){let o=l.indexOf("#");o>=0&&(t.hash=l.substring(o),l=l.substring(0,o));let a=l.indexOf("?");a>=0&&(t.search=l.substring(a),l=l.substring(0,a)),l&&(t.pathname=l)}return t}function Cv(l,t,o,a={}){let{window:r=document.defaultView,v5Compat:f=!1}=a,p=r.history,g="POP",y=null,h=v();h==null&&(h=0,p.replaceState({...p.state,idx:h},""));function v(){return(p.state||{idx:null}).idx}function E(){g="POP";let V=v(),w=V==null?null:V-h;h=V,y&&y({action:g,location:P.location,delta:w})}function C(V,w){g="PUSH";let k=Su(P.location,V,w);o&&o(k,V),h=v()+1;let b=cm(k,h),X=P.createHref(k);try{p.pushState(b,"",X)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(X)}f&&y&&y({action:g,location:P.location,delta:1})}function A(V,w){g="REPLACE";let k=Su(P.location,V,w);o&&o(k,V),h=v();let b=cm(k,h),X=P.createHref(k);p.replaceState(b,"",X),f&&y&&y({action:g,location:P.location,delta:0})}function U(V){return _v(V)}let P={get action(){return g},get location(){return l(r,p)},listen(V){if(y)throw new Error("A history only accepts one active listener");return r.addEventListener(um,E),y=V,()=>{r.removeEventListener(um,E),y=null}},createHref(V){return t(r,V)},createURL:U,encodeLocation(V){let w=U(V);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:C,replace:A,go(V){return p.go(V)}};return P}function _v(l,t=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(o,"No window.location.(origin|href) available to create URL");let a=typeof l=="string"?l:ao(l);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=o+a),new URL(a,o)}function Yh(l,t,o="/"){return Av(l,t,o,!1)}function Av(l,t,o,a){let r=typeof t=="string"?dl(t):t,f=hn(r.pathname||"/",o);if(f==null)return null;let p=Kh(l);xv(p);let g=null;for(let y=0;g==null&&y<p.length;++y){let h=Gv(f);g=Lv(p[y],h,a)}return g}function Kh(l,t=[],o=[],a="",r=!1){let f=(p,g,y=r,h)=>{let v={relativePath:h===void 0?p.path||"":h,caseSensitive:p.caseSensitive===!0,childrenIndex:g,route:p};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&y)return;Ve(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let E=mn([a,v.relativePath]),C=o.concat(v);p.children&&p.children.length>0&&(Ve(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Kh(p.children,t,C,E,y)),!(p.path==null&&!p.index)&&t.push({path:E,score:Dv(E,p.index),routesMeta:C})};return l.forEach((p,g)=>{var y;if(p.path===""||!((y=p.path)!=null&&y.includes("?")))f(p,g);else for(let h of Qh(p.path))f(p,g,!0,h)}),t}function Qh(l){let t=l.split("/");if(t.length===0)return[];let[o,...a]=t,r=o.endsWith("?"),f=o.replace(/\?$/,"");if(a.length===0)return r?[f,""]:[f];let p=Qh(a.join("/")),g=[];return g.push(...p.map(y=>y===""?f:[f,y].join("/"))),r&&g.push(...p),g.map(y=>l.startsWith("/")&&y===""?"/":y)}function xv(l){l.sort((t,o)=>t.score!==o.score?o.score-t.score:Uv(t.routesMeta.map(a=>a.childrenIndex),o.routesMeta.map(a=>a.childrenIndex)))}var Nv=/^:[\w-]+$/,Rv=3,Mv=2,bv=1,Iv=10,wv=-2,fm=l=>l==="*";function Dv(l,t){let o=l.split("/"),a=o.length;return o.some(fm)&&(a+=wv),t&&(a+=Mv),o.filter(r=>!fm(r)).reduce((r,f)=>r+(Nv.test(f)?Rv:f===""?bv:Iv),a)}function Uv(l,t){return l.length===t.length&&l.slice(0,-1).every((a,r)=>a===t[r])?l[l.length-1]-t[t.length-1]:0}function Lv(l,t,o=!1){let{routesMeta:a}=l,r={},f="/",p=[];for(let g=0;g<a.length;++g){let y=a[g],h=g===a.length-1,v=f==="/"?t:t.slice(f.length)||"/",E=qa({path:y.relativePath,caseSensitive:y.caseSensitive,end:h},v),C=y.route;if(!E&&h&&o&&!a[a.length-1].route.index&&(E=qa({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!E)return null;Object.assign(r,E.params),p.push({params:r,pathname:mn([f,E.pathname]),pathnameBase:kv(mn([f,E.pathnameBase])),route:C}),E.pathnameBase!=="/"&&(f=mn([f,E.pathnameBase]))}return p}function qa(l,t){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[o,a]=qv(l.path,l.caseSensitive,l.end),r=t.match(o);if(!r)return null;let f=r[0],p=f.replace(/(.)\/+$/,"$1"),g=r.slice(1);return{params:a.reduce((h,{paramName:v,isOptional:E},C)=>{if(v==="*"){let U=g[C]||"";p=f.slice(0,f.length-U.length).replace(/(.)\/+$/,"$1")}const A=g[C];return E&&!A?h[v]=void 0:h[v]=(A||"").replace(/%2F/g,"/"),h},{}),pathname:f,pathnameBase:p,pattern:l}}function qv(l,t=!1,o=!0){Rt(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let a=[],r="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,g,y)=>(a.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(a.push({paramName:"*"}),r+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?r+="\\/*$":l!==""&&l!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),a]}function Gv(l){try{return l.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rt(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),l}}function hn(l,t){if(t==="/")return l;if(!l.toLowerCase().startsWith(t.toLowerCase()))return null;let o=t.endsWith("/")?t.length-1:t.length,a=l.charAt(o);return a&&a!=="/"?null:l.slice(o)||"/"}var Pv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hv=l=>Pv.test(l);function zv(l,t="/"){let{pathname:o,search:a="",hash:r=""}=typeof l=="string"?dl(l):l,f;if(o)if(Hv(o))f=o;else{if(o.includes("//")){let p=o;o=o.replace(/\/\/+/g,"/"),Rt(!1,`Pathnames cannot have embedded double slashes - normalizing ${p} -> ${o}`)}o.startsWith("/")?f=dm(o.substring(1),"/"):f=dm(o,t)}else f=t;return{pathname:f,search:Bv(a),hash:Fv(r)}}function dm(l,t){let o=t.replace(/\/+$/,"").split("/");return l.split("/").forEach(r=>{r===".."?o.length>1&&o.pop():r!=="."&&o.push(r)}),o.length>1?o.join("/"):"/"}function vu(l,t,o,a){return`Cannot include a '${l}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vv(l){return l.filter((t,o)=>o===0||t.route.path&&t.route.path.length>0)}function Lu(l){let t=Vv(l);return t.map((o,a)=>a===t.length-1?o.pathname:o.pathnameBase)}function qu(l,t,o,a=!1){let r;typeof l=="string"?r=dl(l):(r={...l},Ve(!r.pathname||!r.pathname.includes("?"),vu("?","pathname","search",r)),Ve(!r.pathname||!r.pathname.includes("#"),vu("#","pathname","hash",r)),Ve(!r.search||!r.search.includes("#"),vu("#","search","hash",r)));let f=l===""||r.pathname==="",p=f?"/":r.pathname,g;if(p==null)g=o;else{let E=t.length-1;if(!a&&p.startsWith("..")){let C=p.split("/");for(;C[0]==="..";)C.shift(),E-=1;r.pathname=C.join("/")}g=E>=0?t[E]:"/"}let y=zv(r,g),h=p&&p!=="/"&&p.endsWith("/"),v=(f||p===".")&&o.endsWith("/");return!y.pathname.endsWith("/")&&(h||v)&&(y.pathname+="/"),y}var mn=l=>l.join("/").replace(/\/\/+/g,"/"),kv=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),Bv=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,Fv=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function Ov(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}function Jv(l){return l.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Xh=["POST","PUT","PATCH","DELETE"];new Set(Xh);var Yv=["GET",...Xh];new Set(Yv);var li=D.createContext(null);li.displayName="DataRouter";var ka=D.createContext(null);ka.displayName="DataRouterState";D.createContext(!1);var Zh=D.createContext({isTransitioning:!1});Zh.displayName="ViewTransition";var Kv=D.createContext(new Map);Kv.displayName="Fetchers";var Qv=D.createContext(null);Qv.displayName="Await";var zt=D.createContext(null);zt.displayName="Navigation";var so=D.createContext(null);so.displayName="Location";var Qt=D.createContext({outlet:null,matches:[],isDataRoute:!1});Qt.displayName="Route";var Gu=D.createContext(null);Gu.displayName="RouteError";function Xv(l,{relative:t}={}){Ve(ii(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:a}=D.useContext(zt),{hash:r,pathname:f,search:p}=ro(l,{relative:t}),g=f;return o!=="/"&&(g=f==="/"?o:mn([o,f])),a.createHref({pathname:g,search:p,hash:r})}function ii(){return D.useContext(so)!=null}function On(){return Ve(ii(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(so).location}var $h="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wh(l){D.useContext(zt).static||D.useLayoutEffect(l)}function jh(){let{isDataRoute:l}=D.useContext(Qt);return l?rT():Zv()}function Zv(){Ve(ii(),"useNavigate() may be used only in the context of a <Router> component.");let l=D.useContext(li),{basename:t,navigator:o}=D.useContext(zt),{matches:a}=D.useContext(Qt),{pathname:r}=On(),f=JSON.stringify(Lu(a)),p=D.useRef(!1);return Wh(()=>{p.current=!0}),D.useCallback((y,h={})=>{if(Rt(p.current,$h),!p.current)return;if(typeof y=="number"){o.go(y);return}let v=qu(y,JSON.parse(f),r,h.relative==="path");l==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:mn([t,v.pathname])),(h.replace?o.replace:o.push)(v,h.state,h)},[t,o,f,r,l])}D.createContext(null);function ro(l,{relative:t}={}){let{matches:o}=D.useContext(Qt),{pathname:a}=On(),r=JSON.stringify(Lu(o));return D.useMemo(()=>qu(l,JSON.parse(r),a,t==="path"),[l,r,a,t])}function $v(l,t){return eg(l,t)}function eg(l,t,o,a,r){var k;Ve(ii(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=D.useContext(zt),{matches:p}=D.useContext(Qt),g=p[p.length-1],y=g?g.params:{},h=g?g.pathname:"/",v=g?g.pathnameBase:"/",E=g&&g.route;{let b=E&&E.path||"";tg(h,!E||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let C=On(),A;if(t){let b=typeof t=="string"?dl(t):t;Ve(v==="/"||((k=b.pathname)==null?void 0:k.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${b.pathname}" was given in the \`location\` prop.`),A=b}else A=C;let U=A.pathname||"/",P=U;if(v!=="/"){let b=v.replace(/^\//,"").split("/");P="/"+U.replace(/^\//,"").split("/").slice(b.length).join("/")}let V=Yh(l,{pathname:P});Rt(E||V!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Rt(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=nT(V&&V.map(b=>Object.assign({},b,{params:Object.assign({},y,b.params),pathname:mn([v,f.encodeLocation?f.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?v:mn([v,f.encodeLocation?f.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),p,o,a,r);return t&&w?D.createElement(so.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},w):w}function Wv(){let l=sT(),t=Ov(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),o=l instanceof Error?l.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},f={padding:"2px 4px",backgroundColor:a},p=null;return console.error("Error handled by React Router default ErrorBoundary:",l),p=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:f},"ErrorBoundary")," or"," ",D.createElement("code",{style:f},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),o?D.createElement("pre",{style:r},o):null,p)}var jv=D.createElement(Wv,null),eT=class extends D.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,t){return t.location!==l.location||t.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:t.error,location:t.location,revalidation:l.revalidation||t.revalidation}}componentDidCatch(l,t){this.props.onError?this.props.onError(l,t):console.error("React Router caught the following error during render",l)}render(){return this.state.error!==void 0?D.createElement(Qt.Provider,{value:this.props.routeContext},D.createElement(Gu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tT({routeContext:l,match:t,children:o}){let a=D.useContext(li);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(Qt.Provider,{value:l},o)}function nT(l,t=[],o=null,a=null,r=null){if(l==null){if(!o)return null;if(o.errors)l=o.matches;else if(t.length===0&&!o.initialized&&o.matches.length>0)l=o.matches;else return null}let f=l,p=o==null?void 0:o.errors;if(p!=null){let v=f.findIndex(E=>E.route.id&&(p==null?void 0:p[E.route.id])!==void 0);Ve(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),f=f.slice(0,Math.min(f.length,v+1))}let g=!1,y=-1;if(o)for(let v=0;v<f.length;v++){let E=f[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=v),E.route.id){let{loaderData:C,errors:A}=o,U=E.route.loader&&!C.hasOwnProperty(E.route.id)&&(!A||A[E.route.id]===void 0);if(E.route.lazy||U){g=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}let h=o&&a?(v,E)=>{var C,A;a(v,{location:o.location,params:((A=(C=o.matches)==null?void 0:C[0])==null?void 0:A.params)??{},unstable_pattern:Jv(o.matches),errorInfo:E})}:void 0;return f.reduceRight((v,E,C)=>{let A,U=!1,P=null,V=null;o&&(A=p&&E.route.id?p[E.route.id]:void 0,P=E.route.errorElement||jv,g&&(y<0&&C===0?(tg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,V=null):y===C&&(U=!0,V=E.route.hydrateFallbackElement||null)));let w=t.concat(f.slice(0,C+1)),k=()=>{let b;return A?b=P:U?b=V:E.route.Component?b=D.createElement(E.route.Component,null):E.route.element?b=E.route.element:b=v,D.createElement(tT,{match:E,routeContext:{outlet:v,matches:w,isDataRoute:o!=null},children:b})};return o&&(E.route.ErrorBoundary||E.route.errorElement||C===0)?D.createElement(eT,{location:o.location,revalidation:o.revalidation,component:P,error:A,children:k(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:h}):k()},null)}function Pu(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lT(l){let t=D.useContext(li);return Ve(t,Pu(l)),t}function iT(l){let t=D.useContext(ka);return Ve(t,Pu(l)),t}function oT(l){let t=D.useContext(Qt);return Ve(t,Pu(l)),t}function Hu(l){let t=oT(l),o=t.matches[t.matches.length-1];return Ve(o.route.id,`${l} can only be used on routes that contain a unique "id"`),o.route.id}function aT(){return Hu("useRouteId")}function sT(){var a;let l=D.useContext(Gu),t=iT("useRouteError"),o=Hu("useRouteError");return l!==void 0?l:(a=t.errors)==null?void 0:a[o]}function rT(){let{router:l}=lT("useNavigate"),t=Hu("useNavigate"),o=D.useRef(!1);return Wh(()=>{o.current=!0}),D.useCallback(async(r,f={})=>{Rt(o.current,$h),o.current&&(typeof r=="number"?await l.navigate(r):await l.navigate(r,{fromRouteId:t,...f}))},[l,t])}var pm={};function tg(l,t,o){!t&&!pm[l]&&(pm[l]=!0,Rt(!1,o))}D.memo(uT);function uT({routes:l,future:t,state:o,unstable_onError:a}){return eg(l,void 0,o,a,t)}function Ia({to:l,replace:t,state:o,relative:a}){Ve(ii(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=D.useContext(zt);Rt(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=D.useContext(Qt),{pathname:p}=On(),g=jh(),y=qu(l,Lu(f),p,a==="path"),h=JSON.stringify(y);return D.useEffect(()=>{g(JSON.parse(h),{replace:t,state:o,relative:a})},[g,h,a,t,o]),null}function fl(l){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cT({basename:l="/",children:t=null,location:o,navigationType:a="POP",navigator:r,static:f=!1,unstable_useTransitions:p}){Ve(!ii(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=l.replace(/^\/*/,"/"),y=D.useMemo(()=>({basename:g,navigator:r,static:f,unstable_useTransitions:p,future:{}}),[g,r,f,p]);typeof o=="string"&&(o=dl(o));let{pathname:h="/",search:v="",hash:E="",state:C=null,key:A="default"}=o,U=D.useMemo(()=>{let P=hn(h,g);return P==null?null:{location:{pathname:P,search:v,hash:E,state:C,key:A},navigationType:a}},[g,h,v,E,C,A,a]);return Rt(U!=null,`<Router basename="${g}"> is not able to match the URL "${h}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:D.createElement(zt.Provider,{value:y},D.createElement(so.Provider,{children:t,value:U}))}function fT({children:l,location:t}){return $v(Cu(l),t)}function Cu(l,t=[]){let o=[];return D.Children.forEach(l,(a,r)=>{if(!D.isValidElement(a))return;let f=[...t,r];if(a.type===D.Fragment){o.push.apply(o,Cu(a.props.children,f));return}Ve(a.type===fl,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!a.props.index||!a.props.children,"An index route cannot have child routes.");let p={id:a.props.id||f.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(p.children=Cu(a.props.children,f)),o.push(p)}),o}var wa="get",Da="application/x-www-form-urlencoded";function Ba(l){return typeof HTMLElement<"u"&&l instanceof HTMLElement}function dT(l){return Ba(l)&&l.tagName.toLowerCase()==="button"}function pT(l){return Ba(l)&&l.tagName.toLowerCase()==="form"}function mT(l){return Ba(l)&&l.tagName.toLowerCase()==="input"}function hT(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function gT(l,t){return l.button===0&&(!t||t==="_self")&&!hT(l)}var Ma=null;function yT(){if(Ma===null)try{new FormData(document.createElement("form"),0),Ma=!1}catch{Ma=!0}return Ma}var vT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tu(l){return l!=null&&!vT.has(l)?(Rt(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Da}"`),null):l}function TT(l,t){let o,a,r,f,p;if(pT(l)){let g=l.getAttribute("action");a=g?hn(g,t):null,o=l.getAttribute("method")||wa,r=Tu(l.getAttribute("enctype"))||Da,f=new FormData(l)}else if(dT(l)||mT(l)&&(l.type==="submit"||l.type==="image")){let g=l.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=l.getAttribute("formaction")||g.getAttribute("action");if(a=y?hn(y,t):null,o=l.getAttribute("formmethod")||g.getAttribute("method")||wa,r=Tu(l.getAttribute("formenctype"))||Tu(g.getAttribute("enctype"))||Da,f=new FormData(g,l),!yT()){let{name:h,type:v,value:E}=l;if(v==="image"){let C=h?`${h}.`:"";f.append(`${C}x`,"0"),f.append(`${C}y`,"0")}else h&&f.append(h,E)}}else{if(Ba(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=wa,a=null,r=Da,p=l}return f&&r==="text/plain"&&(p=f,f=void 0),{action:a,method:o.toLowerCase(),encType:r,formData:f,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zu(l,t){if(l===!1||l===null||typeof l>"u")throw new Error(t)}function ET(l,t,o){let a=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return a.pathname==="/"?a.pathname=`_root.${o}`:t&&hn(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${o}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${o}`,a}async function ST(l,t){if(l.id in t)return t[l.id];try{let o=await import(l.module);return t[l.id]=o,o}catch(o){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CT(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function _T(l,t,o){let a=await Promise.all(l.map(async r=>{let f=t.routes[r.route.id];if(f){let p=await ST(f,o);return p.links?p.links():[]}return[]}));return RT(a.flat(1).filter(CT).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function mm(l,t,o,a,r,f){let p=(y,h)=>o[h]?y.route.id!==o[h].route.id:!0,g=(y,h)=>{var v;return o[h].pathname!==y.pathname||((v=o[h].route.path)==null?void 0:v.endsWith("*"))&&o[h].params["*"]!==y.params["*"]};return f==="assets"?t.filter((y,h)=>p(y,h)||g(y,h)):f==="data"?t.filter((y,h)=>{var E;let v=a.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(p(y,h)||g(y,h))return!0;if(y.route.shouldRevalidate){let C=y.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((E=o[0])==null?void 0:E.params)||{},nextUrl:new URL(l,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function AT(l,t,{includeHydrateFallback:o}={}){return xT(l.map(a=>{let r=t.routes[a.route.id];if(!r)return[];let f=[r.module];return r.clientActionModule&&(f=f.concat(r.clientActionModule)),r.clientLoaderModule&&(f=f.concat(r.clientLoaderModule)),o&&r.hydrateFallbackModule&&(f=f.concat(r.hydrateFallbackModule)),r.imports&&(f=f.concat(r.imports)),f}).flat(1))}function xT(l){return[...new Set(l)]}function NT(l){let t={},o=Object.keys(l).sort();for(let a of o)t[a]=l[a];return t}function RT(l,t){let o=new Set;return new Set(t),l.reduce((a,r)=>{let f=JSON.stringify(NT(r));return o.has(f)||(o.add(f),a.push({key:f,link:r})),a},[])}function ng(){let l=D.useContext(li);return zu(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function MT(){let l=D.useContext(ka);return zu(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var Vu=D.createContext(void 0);Vu.displayName="FrameworkContext";function lg(){let l=D.useContext(Vu);return zu(l,"You must render this element inside a <HydratedRouter> element"),l}function bT(l,t){let o=D.useContext(Vu),[a,r]=D.useState(!1),[f,p]=D.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:h,onMouseLeave:v,onTouchStart:E}=t,C=D.useRef(null);D.useEffect(()=>{if(l==="render"&&p(!0),l==="viewport"){let P=w=>{w.forEach(k=>{p(k.isIntersecting)})},V=new IntersectionObserver(P,{threshold:.5});return C.current&&V.observe(C.current),()=>{V.disconnect()}}},[l]),D.useEffect(()=>{if(a){let P=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(P)}}},[a]);let A=()=>{r(!0)},U=()=>{r(!1),p(!1)};return o?l!=="intent"?[f,C,{}]:[f,C,{onFocus:lo(g,A),onBlur:lo(y,U),onMouseEnter:lo(h,A),onMouseLeave:lo(v,U),onTouchStart:lo(E,A)}]:[!1,C,{}]}function lo(l,t){return o=>{l&&l(o),o.defaultPrevented||t(o)}}function IT({page:l,...t}){let{router:o}=ng(),a=D.useMemo(()=>Yh(o.routes,l,o.basename),[o.routes,l,o.basename]);return a?D.createElement(DT,{page:l,matches:a,...t}):null}function wT(l){let{manifest:t,routeModules:o}=lg(),[a,r]=D.useState([]);return D.useEffect(()=>{let f=!1;return _T(l,t,o).then(p=>{f||r(p)}),()=>{f=!0}},[l,t,o]),a}function DT({page:l,matches:t,...o}){let a=On(),{manifest:r,routeModules:f}=lg(),{basename:p}=ng(),{loaderData:g,matches:y}=MT(),h=D.useMemo(()=>mm(l,t,y,r,a,"data"),[l,t,y,r,a]),v=D.useMemo(()=>mm(l,t,y,r,a,"assets"),[l,t,y,r,a]),E=D.useMemo(()=>{if(l===a.pathname+a.search+a.hash)return[];let U=new Set,P=!1;if(t.forEach(w=>{var b;let k=r.routes[w.route.id];!k||!k.hasLoader||(!h.some(X=>X.route.id===w.route.id)&&w.route.id in g&&((b=f[w.route.id])!=null&&b.shouldRevalidate)||k.hasClientLoader?P=!0:U.add(w.route.id))}),U.size===0)return[];let V=ET(l,p,"data");return P&&U.size>0&&V.searchParams.set("_routes",t.filter(w=>U.has(w.route.id)).map(w=>w.route.id).join(",")),[V.pathname+V.search]},[p,g,a,r,h,t,l,f]),C=D.useMemo(()=>AT(v,r),[v,r]),A=wT(v);return D.createElement(D.Fragment,null,E.map(U=>D.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...o})),C.map(U=>D.createElement("link",{key:U,rel:"modulepreload",href:U,...o})),A.map(({key:U,link:P})=>D.createElement("link",{key:U,nonce:o.nonce,...P})))}function UT(...l){return t=>{l.forEach(o=>{typeof o=="function"?o(t):o!=null&&(o.current=t)})}}var ig=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ig&&(window.__reactRouterVersion="7.10.1")}catch{}function LT({basename:l,children:t,unstable_useTransitions:o,window:a}){let r=D.useRef();r.current==null&&(r.current=Ev({window:a,v5Compat:!0}));let f=r.current,[p,g]=D.useState({action:f.action,location:f.location}),y=D.useCallback(h=>{o===!1?g(h):D.startTransition(()=>g(h))},[o]);return D.useLayoutEffect(()=>f.listen(y),[f,y]),D.createElement(cT,{basename:l,children:t,location:p.location,navigationType:p.action,navigator:f,unstable_useTransitions:o===!0})}var og=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ag=D.forwardRef(function({onClick:t,discover:o="render",prefetch:a="none",relative:r,reloadDocument:f,replace:p,state:g,target:y,to:h,preventScrollReset:v,viewTransition:E,...C},A){let{basename:U,unstable_useTransitions:P}=D.useContext(zt),V=typeof h=="string"&&og.test(h),w,k=!1;if(typeof h=="string"&&V&&(w=h,ig))try{let se=new URL(window.location.href),ge=h.startsWith("//")?new URL(se.protocol+h):new URL(h),ue=hn(ge.pathname,U);ge.origin===se.origin&&ue!=null?h=ue+ge.search+ge.hash:k=!0}catch{Rt(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=Xv(h,{relative:r}),[X,j,le]=bT(a,C),Z=HT(h,{replace:p,state:g,target:y,preventScrollReset:v,relative:r,viewTransition:E,unstable_useTransitions:P});function ce(se){t&&t(se),se.defaultPrevented||Z(se)}let ne=D.createElement("a",{...C,...le,href:w||b,onClick:k||f?t:ce,ref:UT(A,j),target:y,"data-discover":!V&&o==="render"?"true":void 0});return X&&!V?D.createElement(D.Fragment,null,ne,D.createElement(IT,{page:b})):ne});ag.displayName="Link";var qT=D.forwardRef(function({"aria-current":t="page",caseSensitive:o=!1,className:a="",end:r=!1,style:f,to:p,viewTransition:g,children:y,...h},v){let E=ro(p,{relative:h.relative}),C=On(),A=D.useContext(ka),{navigator:U,basename:P}=D.useContext(zt),V=A!=null&&FT(E)&&g===!0,w=U.encodeLocation?U.encodeLocation(E).pathname:E.pathname,k=C.pathname,b=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;o||(k=k.toLowerCase(),b=b?b.toLowerCase():null,w=w.toLowerCase()),b&&P&&(b=hn(b,P)||b);const X=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let j=k===w||!r&&k.startsWith(w)&&k.charAt(X)==="/",le=b!=null&&(b===w||!r&&b.startsWith(w)&&b.charAt(w.length)==="/"),Z={isActive:j,isPending:le,isTransitioning:V},ce=j?t:void 0,ne;typeof a=="function"?ne=a(Z):ne=[a,j?"active":null,le?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let se=typeof f=="function"?f(Z):f;return D.createElement(ag,{...h,"aria-current":ce,className:ne,ref:v,style:se,to:p,viewTransition:g},typeof y=="function"?y(Z):y)});qT.displayName="NavLink";var GT=D.forwardRef(({discover:l="render",fetcherKey:t,navigate:o,reloadDocument:a,replace:r,state:f,method:p=wa,action:g,onSubmit:y,relative:h,preventScrollReset:v,viewTransition:E,...C},A)=>{let{unstable_useTransitions:U}=D.useContext(zt),P=kT(),V=BT(g,{relative:h}),w=p.toLowerCase()==="get"?"get":"post",k=typeof g=="string"&&og.test(g),b=X=>{if(y&&y(X),X.defaultPrevented)return;X.preventDefault();let j=X.nativeEvent.submitter,le=(j==null?void 0:j.getAttribute("formmethod"))||p,Z=()=>P(j||X.currentTarget,{fetcherKey:t,method:le,navigate:o,replace:r,state:f,relative:h,preventScrollReset:v,viewTransition:E});U&&o!==!1?D.startTransition(()=>Z()):Z()};return D.createElement("form",{ref:A,method:w,action:V,onSubmit:a?y:b,...C,"data-discover":!k&&l==="render"?"true":void 0})});GT.displayName="Form";function PT(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sg(l){let t=D.useContext(li);return Ve(t,PT(l)),t}function HT(l,{target:t,replace:o,state:a,preventScrollReset:r,relative:f,viewTransition:p,unstable_useTransitions:g}={}){let y=jh(),h=On(),v=ro(l,{relative:f});return D.useCallback(E=>{if(gT(E,t)){E.preventDefault();let C=o!==void 0?o:ao(h)===ao(v),A=()=>y(l,{replace:C,state:a,preventScrollReset:r,relative:f,viewTransition:p});g?D.startTransition(()=>A()):A()}},[h,y,v,o,a,t,l,r,f,p,g])}var zT=0,VT=()=>`__${String(++zT)}__`;function kT(){let{router:l}=sg("useSubmit"),{basename:t}=D.useContext(zt),o=aT(),a=l.fetch,r=l.navigate;return D.useCallback(async(f,p={})=>{let{action:g,method:y,encType:h,formData:v,body:E}=TT(f,t);if(p.navigate===!1){let C=p.fetcherKey||VT();await a(C,o,p.action||g,{preventScrollReset:p.preventScrollReset,formData:v,body:E,formMethod:p.method||y,formEncType:p.encType||h,flushSync:p.flushSync})}else await r(p.action||g,{preventScrollReset:p.preventScrollReset,formData:v,body:E,formMethod:p.method||y,formEncType:p.encType||h,replace:p.replace,state:p.state,fromRouteId:o,flushSync:p.flushSync,viewTransition:p.viewTransition})},[a,r,t,o])}function BT(l,{relative:t}={}){let{basename:o}=D.useContext(zt),a=D.useContext(Qt);Ve(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),f={...ro(l||".",{relative:t})},p=On();if(l==null){f.search=p.search;let g=new URLSearchParams(f.search),y=g.getAll("index");if(y.some(v=>v==="")){g.delete("index"),y.filter(E=>E).forEach(E=>g.append("index",E));let v=g.toString();f.search=v?`?${v}`:""}}return(!l||l===".")&&r.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(f.pathname=f.pathname==="/"?o:mn([o,f.pathname])),ao(f)}function FT(l,{relative:t}={}){let o=D.useContext(Zh);Ve(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=sg("useViewTransitionState"),r=ro(l,{relative:t});if(!o.isTransitioning)return!1;let f=hn(o.currentLocation.pathname,a)||o.currentLocation.pathname,p=hn(o.nextLocation.pathname,a)||o.nextLocation.pathname;return qa(r.pathname,p)!=null||qa(r.pathname,f)!=null}var de=(l=>(l.ADMIN="ADMIN",l.TEACHER="TEACHER",l.STUDENT="STUDENT",l.PARENT="PARENT",l))(de||{});const OT=[{id:"g1",name:"1 A",studentIds:["100002"]},{id:"g2",name:"1 B",studentIds:["100003"]},{id:"g3",name:"2 A",studentIds:[]},{id:"g4",name:"3 A",studentIds:[]},{id:"g5",name:"Docentes",teacherId:"100001",studentIds:[]}],JT=[{id:"100000",name:"Ricardo Daz",role:de.ADMIN,password:"123"},{id:"100001",name:"Prof. Ana Lpez",role:de.TEACHER,password:"123",groupId:"g5"},{id:"100002",name:"Sofa Prez",role:de.STUDENT,password:"123",groupId:"g1"},{id:"100003",name:"Mateo Gonzlez",role:de.STUDENT,password:"123",groupId:"g2"},{id:"100004",name:"Laura Martinez",role:de.PARENT,password:"123"}],YT=[{id:"b1",title:"El Principito",author:"Antoine de Saint-Exupry",category:"Ficcin",coverUrl:"https://picsum.photos/seed/principito/200/300",totalCopies:5,availableCopies:5},{id:"b2",title:"Don Quijote de la Mancha",author:"Miguel de Cervantes",category:"Clsicos",coverUrl:"https://picsum.photos/seed/quijote/200/300",totalCopies:3,availableCopies:2},{id:"b3",title:"Harry Potter y la Piedra Filosofal",author:"J.K. Rowling",category:"Fantasa",coverUrl:"https://picsum.photos/seed/harry/200/300",totalCopies:8,availableCopies:8},{id:"b4",title:"Matilda",author:"Roald Dahl",category:"Infantil",coverUrl:"https://picsum.photos/seed/matilda/200/300",totalCopies:4,availableCopies:1},{id:"b5",title:"El Grfalo",author:"Julia Donaldson",category:"Infantil",coverUrl:"https://picsum.photos/seed/grufalo/200/300",totalCopies:6,availableCopies:4},{id:"b6",title:"Las Crnicas de Narnia",author:"C.S. Lewis",category:"Fantasa",coverUrl:"https://picsum.photos/seed/narnia/200/300",totalCopies:4,availableCopies:0}],rg=D.createContext(void 0),KT=({children:l})=>{const[t,o]=D.useState(null),[a,r]=D.useState(null),[f,p]=D.useState([]),[g,y]=D.useState([]),[h,v]=D.useState([]),[E,C]=D.useState([]),[A,U]=D.useState(!0);D.useEffect(()=>{(()=>{const F=localStorage.getItem("bk_users"),K=localStorage.getItem("bk_books"),z=localStorage.getItem("bk_loans"),W=localStorage.getItem("bk_groups");p(F?JSON.parse(F):JT),y(K?JSON.parse(K):YT),v(z?JSON.parse(z):[]);const B=(W?JSON.parse(W):OT).map(te=>({...te,studentIds:te.studentIds||[],teacherId:te.teacherId||void 0}));C(B);const Q=sessionStorage.getItem("bk_current_user");Q&&o(JSON.parse(Q)),U(!1)})()},[]),D.useEffect(()=>{A||(localStorage.setItem("bk_users",JSON.stringify(f)),localStorage.setItem("bk_books",JSON.stringify(g)),localStorage.setItem("bk_loans",JSON.stringify(h)),localStorage.setItem("bk_groups",JSON.stringify(E)))},[f,g,h,E,A]);const P=(M,F)=>{const K=f.find(z=>z.id===M&&z.password===F);return K?K.twoFactorEnabled&&K.twoFactorPin?(r(K),{success:!0,requiresTwoFactor:!0}):(o(K),sessionStorage.setItem("bk_current_user",JSON.stringify(K)),{success:!0,requiresTwoFactor:!1}):{success:!1,message:"Credenciales incorrectas"}},V=M=>a&&a.twoFactorPin===M?(o(a),sessionStorage.setItem("bk_current_user",JSON.stringify(a)),r(null),!0):!1,w=()=>{o(null),r(null),sessionStorage.removeItem("bk_current_user")},k=(M,F)=>{if(!t)return{success:!1,message:"No sesin"};if(t.password!==M)return{success:!1,message:"La contrasea actual es incorrecta."};const K={...t,password:F};return o(K),sessionStorage.setItem("bk_current_user",JSON.stringify(K)),p(z=>z.map(W=>W.id===t.id?K:W)),{success:!0,message:"Contrasea actualizada con xito."}},b=(M,F)=>{if(!t)return;const K={...t,twoFactorEnabled:M,twoFactorPin:M?F:void 0};o(K),sessionStorage.setItem("bk_current_user",JSON.stringify(K)),p(z=>z.map(W=>W.id===t.id?K:W))},X=()=>{let M="",F=!1;for(;!F;)M=Math.floor(1e5+Math.random()*9e5).toString(),f.some(W=>W.id===M)||(F=!0);return M},j=M=>{p(F=>[...F,M])},le=(M,F)=>{p(K=>K.map(z=>z.id===M?{...z,password:F}:z))},Z=M=>{p(F=>F.map(K=>K.id===M?{...K,twoFactorEnabled:!1,twoFactorPin:void 0}:K))},ce=M=>{const F={id:`g-${Date.now()}`,name:M,studentIds:[]};C(K=>[...K,F])},ne=(M,F)=>{const K=f.find(x=>x.id===M);if(!K)return{success:!1,message:"Usuario no encontrado"};const z=E.findIndex(x=>x.id===F);if(z===-1)return{success:!1,message:"Grupo no encontrado"};const W=E[z];if(K.role===de.STUDENT){if(W.studentIds.length>=40)return{success:!1,message:"El grupo ya tiene el mximo de 40 alumnos."};const x=[...E];x.forEach(Q=>{Q.studentIds=Q.studentIds.filter(te=>te!==M)});const B=x.findIndex(Q=>Q.id===F);x[B].studentIds.push(M),C(x)}else if(K.role===de.TEACHER){const x=[...E];x.forEach(Q=>{Q.teacherId===M&&(Q.teacherId=void 0)});const B=x.findIndex(Q=>Q.id===F);x[B].teacherId=M,C(x)}return p(x=>x.map(B=>B.id===M?{...B,groupId:F}:B)),{success:!0,message:"Asignado correctamente"}},se=M=>{y(F=>[...F,M])},ge=(M,F)=>{y(K=>K.map(z=>{if(z.id!==M)return z;const W=z.recommendedGroupIds||[];return W.includes(F)?z:{...z,recommendedGroupIds:[...W,F]}}))},ue=(M,F)=>{if(!t)return{success:!1,message:"No sesin"};if(F<1||F>30)return{success:!1,message:"Das invlidos (Mx 30)"};const K=g.findIndex(te=>te.id===M);if(K===-1||g[K].availableCopies<=0)return{success:!1,message:"Libro no disponible"};const W=F+6,x=new Date;x.setDate(x.getDate()+W);const B={id:Date.now().toString(),bookId:M,userId:t.id,borrowDate:new Date().toISOString(),dueDate:x.toISOString(),requestedDays:F,status:"ACTIVE"};v(te=>[...te,B]);const Q=[...g];return Q[K].availableCopies-=1,y(Q),{success:!0,message:"Prstamo realizado"}},He=(M,F)=>{if(!t)return;const K=h.findIndex(z=>z.bookId===M&&z.userId===t.id&&z.status==="ACTIVE");K!==-1&&v(z=>{const W=[...z];return W[K]={...W[K],status:"PENDING_CONFIRMATION",returnDate:new Date().toISOString(),report:F},W})},$=M=>{const F=h.find(z=>z.id===M);if(!F)return;v(z=>z.map(W=>W.id===M?{...W,status:"RETURNED"}:W));const K=g.findIndex(z=>z.id===F.bookId);if(K!==-1){const z=[...g];z[K].availableCopies+=1,y(z)}},ye=(M,F,K)=>{v(z=>z.map(W=>{if(W.id!==M)return W;const x={teacher:F===de.TEACHER?K:W.teacherGrade,admin:F===de.ADMIN?K:W.adminGrade};let B;return x.teacher!==void 0&&x.admin!==void 0&&(B=(x.teacher+x.admin)/2),{...W,teacherGrade:x.teacher,adminGrade:x.admin,finalGrade:B}}))};return S.jsx(rg.Provider,{value:{currentUser:t,users:f,books:g,loans:h,groups:E,isLoading:A,login:P,logout:w,verifyTwoFactor:V,registerUser:j,adminUpdateUserPassword:le,adminDisableTwoFactor:Z,generateNewUserId:X,changeMyPassword:k,toggleTwoFactor:b,createGroup:ce,assignUserToGroup:ne,addBook:se,recommendBook:ge,borrowBook:ue,submitReturnReport:He,confirmReturnReceived:$,gradeLoan:ye},children:l})},pl=()=>{const l=D.useContext(rg);if(!l)throw new Error("useLibrary must be used within LibraryProvider");return l};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XT=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,a)=>a?a.toUpperCase():o.toLowerCase()),hm=l=>{const t=XT(l);return t.charAt(0).toUpperCase()+t.slice(1)},ug=(...l)=>l.filter((t,o,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===o).join(" ").trim(),ZT=l=>{for(const t in l)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $T={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=D.forwardRef(({color:l="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:r="",children:f,iconNode:p,...g},y)=>D.createElement("svg",{ref:y,...$T,width:t,height:t,stroke:l,strokeWidth:a?Number(o)*24/Number(t):o,className:ug("lucide",r),...!f&&!ZT(g)&&{"aria-hidden":"true"},...g},[...p.map(([h,v])=>D.createElement(h,v)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(l,t)=>{const o=D.forwardRef(({className:a,...r},f)=>D.createElement(WT,{ref:f,iconNode:t,className:ug(`lucide-${QT(hm(l))}`,`lucide-${l}`,a),...r}));return o.displayName=hm(l),o};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],gm=ke("award",jT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ku=ke("book-open",eE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],nE=ke("brain",tE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],iE=ke("check",lE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_u=ke("circle-check-big",oE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],sE=ke("circle-plus",aE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],uE=ke("circle-x",rE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],fE=ke("key-round",cE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pE=ke("loader-circle",dE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Bu=ke("lock",mE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gE=ke("log-out",hE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],vE=ke("save",yE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],EE=ke("school",TE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],CE=ke("search",SE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AE=ke("settings",_E);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],NE=ke("shield-alert",xE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ga=ke("shield-check",RE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],bE=ke("shield-off",ME);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ym=ke("star",IE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],DE=ke("thumbs-up",wE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],LE=ke("user-check",UE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vm=ke("user",qE);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],PE=ke("users",GE),HE=()=>{const[l,t]=D.useState(null),[o,a]=D.useState(""),[r,f]=D.useState(""),[p,g]=D.useState(""),[y,h]=D.useState(!1),[v,E]=D.useState(""),{login:C,verifyTwoFactor:A}=pl(),U=b=>{t(b),E(""),a(""),f(""),g(""),h(!1)},P=b=>{b.preventDefault(),E("");const X=C(o,r);X.success?X.requiresTwoFactor?h(!0):w():E(X.message||"Credenciales incorrectas.")},V=b=>{b.preventDefault(),A(p)?w():E("PIN incorrecto.")},w=()=>{JSON.parse(sessionStorage.getItem("bk_current_user")||"{}").role===de.ADMIN?window.location.hash="#/admin":window.location.hash="#/dashboard"},k=b=>{switch(b){case de.ADMIN:return"Bibliotecario";case de.TEACHER:return"Docente";case de.STUDENT:return"Alumno";case de.PARENT:return"Padre de Familia"}};return l?S.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-4",children:[S.jsxs("div",{className:"flex flex-col items-center mb-6",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[S.jsx(ku,{className:"text-blue-500",size:32}),S.jsx("h1",{className:"text-3xl font-display font-bold text-white",children:"Iniciar Sesin"})]}),S.jsx("p",{className:"text-slate-400",children:"Escuela Primaria Juan Francisco Escutia"})]}),S.jsxs("div",{className:"bg-slate-800 rounded-3xl shadow-2xl p-8 w-full max-w-md border border-slate-700",children:[S.jsxs("h2",{className:`text-2xl font-bold text-center mb-8 ${l===de.STUDENT?"text-blue-400":l===de.TEACHER?"text-green-400":l===de.ADMIN?"text-purple-400":"text-orange-400"}`,children:["Rol: ",k(l)]}),y?S.jsxs("form",{onSubmit:V,className:"space-y-6 animate-in fade-in",children:[S.jsxs("div",{className:"text-center mb-4",children:[S.jsx("div",{className:"inline-block p-3 bg-blue-900/30 rounded-full mb-3",children:S.jsx(Ga,{size:32,className:"text-blue-400"})}),S.jsx("h3",{className:"text-white font-bold text-lg",children:"Verificacin en Dos Pasos"}),S.jsx("p",{className:"text-slate-400 text-sm",children:"Ingresa tu PIN de seguridad para continuar."})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-slate-400 text-sm font-bold mb-2 ml-1 text-center",children:"PIN de Seguridad"}),S.jsx("input",{type:"password",value:p,onChange:b=>g(b.target.value),className:"w-full text-center text-3xl tracking-[1em] py-3 rounded-xl bg-slate-700 border border-slate-600 focus:border-blue-500 outline-none text-white font-mono",placeholder:"",maxLength:6,autoFocus:!0,required:!0})]}),v&&S.jsx("div",{className:"p-3 bg-red-900/30 text-red-400 text-sm rounded-lg border border-red-800 text-center",children:v}),S.jsx("button",{type:"submit",className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3.5 rounded-xl shadow-lg transition-all hover:scale-[1.02] active:scale-95",children:"Verificar"})]}):S.jsxs("form",{onSubmit:P,className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-slate-400 text-sm font-bold mb-2 ml-1",children:"Selecciona tu nombre / ID"}),S.jsxs("div",{className:"relative",children:[S.jsx(vm,{className:"absolute left-4 top-3.5 text-slate-500",size:20}),S.jsx("input",{type:"text",value:o,onChange:b=>a(b.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl bg-slate-700 border border-slate-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all text-white placeholder-slate-500",placeholder:"Ingrese su ID",autoFocus:!0,required:!0})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-slate-400 text-sm font-bold mb-2 ml-1",children:"Contrasea"}),S.jsxs("div",{className:"relative",children:[S.jsx(Bu,{className:"absolute left-4 top-3.5 text-slate-500",size:20}),S.jsx("input",{type:"password",value:r,onChange:b=>f(b.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl bg-slate-700 border border-slate-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all text-white placeholder-slate-500 tracking-widest",placeholder:"",required:!0})]})]}),v&&S.jsx("div",{className:"p-3 bg-red-900/30 text-red-400 text-sm rounded-lg border border-red-800 text-center",children:v}),S.jsx("button",{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3.5 rounded-xl shadow-lg transition-all hover:scale-[1.02] active:scale-95",children:"Entrar"})]}),S.jsx("button",{onClick:()=>t(null),className:"w-full text-center mt-6 text-slate-500 hover:text-slate-300 text-sm underline underline-offset-4",children:y?"Cancelar":"Volver a seleccionar rol"})]})]}):S.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-6",children:[S.jsx("h1",{className:"text-3xl sm:text-4xl font-display font-bold text-white mb-10 text-center",children:"Quin eres?"}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 w-full max-w-4xl",children:[S.jsxs("button",{onClick:()=>U(de.STUDENT),className:"bg-slate-800 border-2 border-slate-700 hover:border-blue-500 p-8 rounded-3xl flex flex-col items-center transition-all group hover:shadow-lg hover:shadow-blue-500/10",children:[S.jsx(vm,{className:"text-blue-500 mb-4 group-hover:scale-110 transition-transform",size:48}),S.jsx("span",{className:"text-xl font-bold text-white mb-2",children:"Alumno"}),S.jsx("span",{className:"text-slate-400 text-sm text-center",children:"Busca y pide prestados tus libros favoritos."})]}),S.jsxs("button",{onClick:()=>U(de.TEACHER),className:"bg-slate-800 border-2 border-slate-700 hover:border-green-500 p-8 rounded-3xl flex flex-col items-center transition-all group hover:shadow-lg hover:shadow-green-500/10",children:[S.jsx(PE,{className:"text-green-500 mb-4 group-hover:scale-110 transition-transform",size:48}),S.jsx("span",{className:"text-xl font-bold text-white mb-2",children:"Docente"}),S.jsx("span",{className:"text-slate-400 text-sm text-center",children:"Gestiona los libros de tu clase y encuentra recursos."})]}),S.jsxs("button",{onClick:()=>U(de.ADMIN),className:"bg-slate-800 border-2 border-slate-700 hover:border-purple-500 p-8 rounded-3xl flex flex-col items-center transition-all group hover:shadow-lg hover:shadow-purple-500/10",children:[S.jsx(Ga,{className:"text-purple-500 mb-4 group-hover:scale-110 transition-transform",size:48}),S.jsx("span",{className:"text-xl font-bold text-white mb-2",children:"Bibliotecario"}),S.jsx("span",{className:"text-slate-400 text-sm text-center",children:"Administra el catlogo, prstamos y usuarios."})]}),S.jsxs("button",{onClick:()=>U(de.PARENT),className:"bg-slate-800 border-2 border-slate-700 hover:border-orange-500 p-8 rounded-3xl flex flex-col items-center transition-all group hover:shadow-lg hover:shadow-orange-500/10",children:[S.jsx(LE,{className:"text-orange-500 mb-4 group-hover:scale-110 transition-transform",size:48}),S.jsx("span",{className:"text-xl font-bold text-white mb-2",children:"Padre de Familia"}),S.jsx("span",{className:"text-slate-400 text-sm text-center",children:"Revisa los prstamos de tu hijo/a y descubre lecturas."})]})]})]})},Fa=({children:l})=>{const{currentUser:t,logout:o}=pl(),a=()=>{o(),window.location.hash="/login"},r=f=>{switch(f){case de.ADMIN:return"Bibliotecario";case de.TEACHER:return"Docente";case de.STUDENT:return"Alumno";case de.PARENT:return"Padre de Familia";default:return"Usuario"}};return S.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col font-sans text-slate-100",children:[S.jsx("header",{className:"bg-slate-900 border-b border-slate-800 sticky top-0 z-50 shadow-md",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 h-20 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3 w-1/4",children:[S.jsx(ku,{className:"text-blue-500",size:28}),S.jsx("span",{className:"font-display font-bold text-2xl text-white",children:"Booki"})]}),S.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-center",children:[S.jsxs("h2",{className:"text-slate-200 font-bold text-sm sm:text-base",children:["Bienvenido/a, ",t==null?void 0:t.name," (",r(t==null?void 0:t.role),")"]}),S.jsx("p",{className:"text-slate-400 text-xs sm:text-sm",children:"Escuela Primaria Juan Francisco Escutia"})]}),S.jsxs("div",{className:"flex justify-end w-1/4 gap-3",children:[S.jsx("button",{onClick:()=>window.location.hash="/settings",className:"flex items-center justify-center bg-slate-800 hover:bg-slate-700 text-slate-300 w-10 h-10 rounded-lg transition-all border border-slate-700 group",title:"Configuracin",children:S.jsx(AE,{size:20,className:"group-hover:rotate-90 transition-transform duration-500"})}),S.jsxs("button",{onClick:a,className:"flex items-center gap-2 bg-slate-800 hover:bg-slate-700 text-slate-300 px-4 py-2 rounded-lg transition-all text-sm font-medium border border-slate-700",children:[S.jsx(gE,{size:16}),S.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]})}),S.jsx("main",{className:"flex-1 w-full mx-auto p-4 sm:p-6 animate-in fade-in duration-500 max-w-7xl",children:l})]})},zE=()=>{const{books:l,borrowBook:t,loans:o,currentUser:a,submitReturnReport:r,groups:f,users:p,gradeLoan:g,recommendBook:y}=pl(),[h,v]=D.useState(""),[E,C]=D.useState(null),[A,U]=D.useState(7),[P,V]=D.useState(null),[w,k]=D.useState({q1:"",q2:"",q3:"",q4:""}),[b,X]=D.useState({}),j=o.filter($=>$.userId===(a==null?void 0:a.id)&&($.status==="ACTIVE"||$.status==="PENDING_CONFIRMATION")),le=o.filter($=>$.userId===(a==null?void 0:a.id)&&$.status==="RETURNED"),Z=f.find($=>$.teacherId===(a==null?void 0:a.id)),ce=Z?o.filter($=>Z.studentIds.includes($.userId)&&($.status==="RETURNED"||$.status==="PENDING_CONFIRMATION")&&$.report):[],ne=$=>{if(j.some(ye=>ye.bookId===$)){alert("Ya tienes este libro prestado o en proceso de devolucin.");return}C($),U(7)},se=()=>{if(E){const $=t(E,A);$.success?C(null):alert($.message)}},ge=$=>{V($),k({q1:"",q2:"",q3:"",q4:""})},ue=()=>{P&&w.q1&&w.q2&&w.q3&&w.q4?(r(P,{question1:w.q1,question2:w.q2,question3:w.q3,question4:w.q4}),V(null),alert("Reporte enviado. Entrega el libro al encargado para confirmar la devolucin.")):alert("Por favor responde todas las preguntas.")},He=l.filter($=>$.title.toLowerCase().includes(h.toLowerCase())||$.author.toLowerCase().includes(h.toLowerCase()));return S.jsxs(Fa,{children:[E&&S.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:S.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 max-w-md w-full border border-slate-700",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmar Prstamo"}),S.jsx("p",{className:"text-slate-300 mb-6",children:"Por cuntos das quieres el libro? (Se sumarn 6 das extra de gracia)."}),S.jsxs("div",{className:"mb-8",children:[S.jsxs("div",{className:"flex justify-between text-white font-bold mb-2",children:[S.jsxs("span",{children:[A," Das"]}),S.jsxs("span",{className:"text-slate-400",children:["Total: ",A+6," das"]})]}),S.jsx("input",{type:"range",min:"1",max:"30",value:A,onChange:$=>U(parseInt($.target.value)),className:"w-full accent-blue-500 h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer"}),S.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[S.jsx("span",{children:"1 da"}),S.jsx("span",{children:"30 das"})]})]}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx("button",{onClick:()=>C(null),className:"flex-1 py-3 bg-slate-700 text-white rounded-xl font-bold",children:"Cancelar"}),S.jsx("button",{onClick:se,className:"flex-1 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-500",children:"Pedir Libro"})]})]})}),P&&S.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:S.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 max-w-lg w-full border border-slate-700 my-8",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Reporte de Lectura"}),S.jsx("p",{className:"text-sm text-slate-400 mb-6",children:"Para devolver el libro, responde estas preguntas."}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-1",children:"1. Quin es el autor del libro?"}),S.jsx("input",{className:"w-full bg-slate-900 border border-slate-600 rounded p-2 text-white",value:w.q1,onChange:$=>k({...w,q1:$.target.value})})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-1",children:"2. Cul es el nombre del libro?"}),S.jsx("input",{className:"w-full bg-slate-900 border border-slate-600 rounded p-2 text-white",value:w.q2,onChange:$=>k({...w,q2:$.target.value})})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-1",children:"3. Cul es el resumen del libro?"}),S.jsx("textarea",{rows:3,className:"w-full bg-slate-900 border border-slate-600 rounded p-2 text-white",value:w.q3,onChange:$=>k({...w,q3:$.target.value})})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-1",children:"4. Quines son los personajes principales?"}),S.jsx("textarea",{rows:2,className:"w-full bg-slate-900 border border-slate-600 rounded p-2 text-white",value:w.q4,onChange:$=>k({...w,q4:$.target.value})})]})]}),S.jsxs("div",{className:"flex gap-4 mt-8",children:[S.jsx("button",{onClick:()=>V(null),className:"flex-1 py-3 bg-slate-700 text-white rounded-xl font-bold",children:"Cancelar"}),S.jsx("button",{onClick:ue,className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-500",children:"Enviar y Devolver"})]})]})}),S.jsxs("div",{className:"max-w-6xl mx-auto space-y-12 pb-20",children:[(a==null?void 0:a.role)===de.TEACHER&&S.jsxs("section",{className:"bg-slate-800 rounded-2xl p-6 border border-slate-700 shadow-xl",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[S.jsx(ym,{className:"text-yellow-400"}),S.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Mi Grupo: ",(Z==null?void 0:Z.name)||"Sin Asignar"]})]}),S.jsx("h3",{className:"text-lg font-bold text-slate-300 mb-4",children:"Calificar Reportes de Alumnos"}),ce.length===0?S.jsx("p",{className:"text-slate-500 italic",children:"No hay reportes pendientes de tus alumnos."}):S.jsx("div",{className:"grid gap-4",children:ce.map($=>{var F;const ye=l.find(K=>K.id===$.bookId),M=p.find(K=>K.id===$.userId);return S.jsxs("div",{className:"bg-slate-700/40 p-4 rounded-xl border border-slate-600",children:[S.jsxs("div",{className:"flex justify-between mb-2",children:[S.jsxs("span",{className:"font-bold text-white",children:[M==null?void 0:M.name," - ",ye==null?void 0:ye.title]}),$.teacherGrade?S.jsxs("span",{className:"text-green-400 font-bold",children:["Calificado: ",$.teacherGrade]}):S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"number",min:"1",max:"10",className:"w-16 bg-slate-900 border border-slate-600 rounded px-2 py-1 text-white",value:b[$.id]||"",onChange:K=>X({...b,[$.id]:K.target.value})}),S.jsx("button",{onClick:()=>{const K=parseFloat(b[$.id]);isNaN(K)||g($.id,de.TEACHER,K)},className:"bg-green-600 text-white px-3 rounded hover:bg-green-500 text-sm font-bold",children:"Calificar"})]})]}),S.jsx("div",{className:"text-sm text-slate-400 bg-slate-800 p-3 rounded",children:S.jsxs("p",{children:[S.jsx("span",{className:"font-bold text-slate-500",children:"Resumen:"})," ",(F=$.report)==null?void 0:F.question3]})})]},$.id)})})]}),S.jsxs("section",{children:[S.jsx("div",{className:"flex items-center gap-2 mb-6 border-l-4 border-purple-400 pl-4",children:S.jsx("h2",{className:"text-2xl font-display font-bold text-purple-200",children:"Mis Libros Prestados"})}),j.length===0?S.jsx("div",{className:"bg-slate-800 rounded-2xl p-6 text-slate-400 italic",children:"An no tienes libros prestados."}):S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:j.map($=>{const ye=l.find(F=>F.id===$.bookId);if(!ye)return null;const M=new Date($.dueDate).toLocaleDateString();return S.jsxs("div",{className:"bg-slate-800 rounded-xl overflow-hidden shadow-lg border border-slate-700 flex flex-col",children:[S.jsxs("div",{className:"h-48 overflow-hidden relative",children:[S.jsx("img",{src:ye.coverUrl,alt:ye.title,className:"w-full h-full object-cover"}),$.status==="PENDING_CONFIRMATION"&&S.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center p-4 text-center",children:S.jsx("p",{className:"text-yellow-400 font-bold",children:"Pendiente de confirmacin del encargado"})})]}),S.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[S.jsx("h3",{className:"font-bold text-white text-lg leading-tight mb-1",children:ye.title}),S.jsxs("div",{className:"mt-auto",children:[S.jsxs("p",{className:"text-slate-400 text-xs mb-2",children:["Vence: ",M]}),$.status==="ACTIVE"&&S.jsx("button",{onClick:()=>ge(ye.id),className:"w-full bg-slate-700 hover:bg-slate-600 text-white py-2 rounded-lg text-sm font-bold transition-colors",children:"Devolver"})]})]})]},$.id)})}),le.length>0&&S.jsxs("div",{className:"mt-8",children:[S.jsx("h3",{className:"text-xl font-bold text-slate-400 mb-4",children:"Historial y Calificaciones"}),S.jsx("div",{className:"bg-slate-800 rounded-2xl p-4 border border-slate-700 space-y-3",children:le.map($=>{const ye=l.find(M=>M.id===$.bookId);return S.jsxs("div",{className:"flex justify-between items-center p-2 border-b border-slate-700 last:border-0",children:[S.jsx("span",{className:"text-white font-medium",children:ye==null?void 0:ye.title}),S.jsx("span",{className:"text-sm font-bold text-purple-400",children:$.finalGrade?`Nota Final: ${$.finalGrade}`:"Pendiente de calificacin"})]},$.id)})})]})]}),S.jsxs("section",{children:[S.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6 border-l-4 border-blue-400 pl-4",children:[S.jsx("h2",{className:"text-2xl font-display font-bold text-blue-200",children:"Catlogo"}),S.jsxs("div",{className:"relative w-full max-w-xs hidden sm:block",children:[S.jsx(CE,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),S.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-slate-800 border border-slate-700 text-slate-200 focus:border-blue-500 outline-none text-sm",value:h,onChange:$=>v($.target.value)})]})]}),S.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 sm:gap-6",children:He.map($=>{var K;const ye=j.some(z=>z.bookId===$.id),M=$.availableCopies>0,F=(a==null?void 0:a.groupId)&&((K=$.recommendedGroupIds)==null?void 0:K.includes(a.groupId));return S.jsxs("div",{className:`group relative bg-slate-800 rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all border ${F?"border-yellow-500/50":"border-slate-700"}`,children:[F&&S.jsxs("div",{className:"absolute top-2 right-2 z-10 bg-yellow-500 text-black text-[10px] font-bold px-2 py-1 rounded-full shadow-md flex items-center gap-1",children:[S.jsx(ym,{size:10,fill:"black"})," Recomendado"]}),S.jsx("div",{className:"aspect-[2/3] overflow-hidden bg-slate-700",children:S.jsx("img",{src:$.coverUrl,alt:$.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500 opacity-90 group-hover:opacity-100"})}),S.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4",children:[S.jsx("h3",{className:"font-bold text-white text-sm leading-tight drop-shadow-md",children:$.title}),S.jsxs("div",{className:"flex items-center justify-between mt-2 gap-2",children:[S.jsx("button",{onClick:()=>ne($.id),disabled:!M||ye,className:`flex-1 py-1.5 rounded-lg text-xs font-bold ${M&&!ye?"bg-blue-600 text-white hover:bg-blue-500":"bg-slate-600 text-slate-400"}`,children:ye?"Prestado":"Pedir"}),(a==null?void 0:a.role)===de.TEACHER&&Z&&S.jsx("button",{onClick:()=>y($.id,Z.id),className:"bg-yellow-600 p-1.5 rounded-lg text-white hover:bg-yellow-500",title:"Recomendar a mi grupo",children:S.jsx(DE,{size:14})})]})]})]},$.id)})})]})]})]})},VE=()=>{const{users:l,loans:t,books:o,groups:a,createGroup:r,confirmReturnReceived:f,gradeLoan:p,registerUser:g,generateNewUserId:y,assignUserToGroup:h,addBook:v,adminDisableTwoFactor:E,adminUpdateUserPassword:C}=pl(),[A,U]=D.useState(""),[P,V]=D.useState({name:"",role:de.STUDENT,password:"123"}),[w,k]=D.useState(""),[b,X]=D.useState({title:"",author:"",copies:1,cover:""}),[j,le]=D.useState({}),[Z,ce]=D.useState(null),[ne,se]=D.useState(""),ge=z=>{z.preventDefault(),A&&(r(A),U(""),alert("Grupo creado"))},ue=z=>{z.preventDefault();const W=y(),x={id:W,name:P.name,role:P.role,password:P.password};g(x),k(W),V({name:"",role:de.STUDENT,password:"123"})},He=z=>{z.preventDefault(),v({id:`b-${Date.now()}`,title:b.title,author:b.author,category:"General",coverUrl:b.cover||"https://via.placeholder.com/200x300?text=No+Cover",totalCopies:b.copies,availableCopies:b.copies}),X({title:"",author:"",copies:1,cover:""}),alert("Libro aadido")},$=(z,W)=>{const x=h(z,W);x.success||alert(x.message)},ye=z=>{ne&&(C(z,ne),ce(null),se(""),alert("Contrasea actualizada por el administrador."))},M=z=>{window.confirm("Desactivar la verificacin en dos pasos para este usuario? (No podrs ver su PIN actual, solo resetearlo).")&&E(z)},F=t.filter(z=>z.status==="PENDING_CONFIRMATION"),K=t.filter(z=>(z.status==="RETURNED"||z.status==="PENDING_CONFIRMATION")&&z.report&&z.adminGrade===void 0);return S.jsx(Fa,{children:S.jsxs("div",{className:"max-w-6xl mx-auto pb-20 space-y-16",children:[S.jsxs("section",{className:"animate-in fade-in",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-slate-700 pb-4",children:[S.jsx("div",{className:"p-3 bg-orange-900/30 rounded-xl",children:S.jsx(_u,{className:"text-orange-400",size:32})}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl font-display font-bold text-white",children:"Recepciones y Calificaciones"}),S.jsx("p",{className:"text-slate-400",children:"Gestiona las devoluciones de libros y califica los reportes de lectura."})]})]}),S.jsxs("div",{className:"space-y-8",children:[S.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 border border-slate-700",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmar Recepcin Fsica"}),F.length===0?S.jsx("p",{className:"text-slate-500 italic bg-slate-900/50 p-4 rounded-lg",children:"No hay libros pendientes de confirmacin."}):S.jsx("div",{className:"space-y-4",children:F.map(z=>{const W=o.find(B=>B.id===z.bookId),x=l.find(B=>B.id===z.userId);return S.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-xl flex items-center justify-between border border-slate-600",children:[S.jsxs("div",{children:[S.jsx("p",{className:"font-bold text-white text-lg",children:W==null?void 0:W.title}),S.jsxs("p",{className:"text-slate-300 text-sm",children:["Devuelto por: ",S.jsx("span",{className:"font-bold text-blue-300",children:x==null?void 0:x.name})," (ID: ",x==null?void 0:x.id,")"]})]}),S.jsx("button",{onClick:()=>f(z.id),className:"bg-green-600 hover:bg-green-500 text-white px-6 py-2 rounded-lg font-bold shadow-lg hover:shadow-green-500/20 transition-all",children:"Confirmar Recibido"})]},z.id)})})]}),S.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 border border-slate-700",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Calificar Reportes Pendientes"}),K.length===0?S.jsx("p",{className:"text-slate-500 italic bg-slate-900/50 p-4 rounded-lg",children:"Todo al da. No hay reportes pendientes de calificacin."}):S.jsx("div",{className:"grid gap-6",children:K.map(z=>{var B;const W=o.find(Q=>Q.id===z.bookId),x=l.find(Q=>Q.id===z.userId);return S.jsxs("div",{className:"bg-slate-700/30 border border-slate-600 p-6 rounded-xl",children:[S.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start mb-6 gap-4",children:[S.jsxs("div",{children:[S.jsx("h4",{className:"font-bold text-xl text-white mb-1",children:W==null?void 0:W.title}),S.jsxs("p",{className:"text-blue-300",children:["Alumno: ",x==null?void 0:x.name]})]}),S.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-600",children:[S.jsx("label",{className:"text-xs text-slate-400 block mb-2 uppercase font-bold",children:"Tu Calificacin (1-10)"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("input",{type:"number",min:"1",max:"10",className:"w-20 bg-slate-900 border border-slate-600 rounded-lg px-3 py-2 text-white text-center font-bold",placeholder:"-",value:j[z.id]||"",onChange:Q=>le({...j,[z.id]:Q.target.value})}),S.jsx("button",{onClick:()=>{const Q=parseFloat(j[z.id]);!isNaN(Q)&&Q>=1&&Q<=10?p(z.id,de.ADMIN,Q):alert("Ingresa una calificacin vlida (1-10)")},className:"bg-purple-600 text-white p-2 rounded-lg hover:bg-purple-500 transition-colors",title:"Guardar Calificacin",children:S.jsx(vE,{size:20})})]})]})]}),S.jsx("div",{className:"grid grid-cols-1 gap-4 text-sm bg-slate-800/50 p-4 rounded-xl border border-slate-700/50",children:S.jsxs("div",{children:[S.jsx("p",{className:"text-slate-500 text-xs uppercase font-bold mb-1",children:"Resumen"}),S.jsx("p",{className:"text-slate-200",children:(B=z.report)==null?void 0:B.question3})]})})]},z.id)})})]})]})]}),S.jsxs("section",{className:"animate-in fade-in",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-slate-700 pb-4",children:[S.jsx("div",{className:"p-3 bg-blue-900/30 rounded-xl",children:S.jsx(EE,{className:"text-blue-400",size:32})}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl font-display font-bold text-white",children:"Gestin de Grupos"}),S.jsx("p",{className:"text-slate-400",children:"Crea grupos y visualiza los alumnos asignados."})]})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl border border-slate-700",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Crear Nuevo Grupo"}),S.jsxs("form",{onSubmit:ge,className:"flex gap-4",children:[S.jsx("input",{className:"flex-1 bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white focus:border-blue-500 outline-none",placeholder:"Nombre del grupo (Ej: 3 A)",value:A,onChange:z=>U(z.target.value)}),S.jsx("button",{className:"bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-lg font-bold",children:"Crear Grupo"})]})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(z=>S.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-lg",children:[S.jsx("h4",{className:"text-2xl font-bold text-white mb-2",children:z.name}),S.jsxs("p",{className:"text-slate-400 text-sm mb-4",children:["Alumnos: ",z.studentIds.length," / 40"]})]},z.id))})]})]}),S.jsxs("section",{className:"animate-in fade-in",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-slate-700 pb-4",children:[S.jsx("div",{className:"p-3 bg-green-900/30 rounded-xl",children:S.jsx(sE,{className:"text-green-400",size:32})}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl font-display font-bold text-white",children:"Administracin de Usuarios"}),S.jsx("p",{className:"text-slate-400",children:"Registra nuevos usuarios, gestiona seguridad y asigna grupos."})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[S.jsx("div",{className:"lg:col-span-1",children:S.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl border border-slate-700 sticky top-24",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Registrar Usuario"}),w?S.jsxs("div",{className:"bg-green-900/20 border border-green-500/50 p-6 rounded-xl text-center mb-6",children:[S.jsx("p",{className:"text-green-300 font-bold mb-1",children:"Registrado!"}),S.jsx("div",{className:"text-3xl font-mono font-bold text-white tracking-widest my-3 bg-slate-900 rounded-lg py-2",children:w}),S.jsx("button",{onClick:()=>k(""),className:"w-full bg-slate-700 text-white py-2 rounded-lg text-sm mt-4",children:"Registrar otro"})]}):S.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-slate-400 text-xs font-bold mb-2 uppercase",children:"Nombre"}),S.jsx("input",{required:!0,className:"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white",value:P.name,onChange:z=>V({...P,name:z.target.value})})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-slate-400 text-xs font-bold mb-2 uppercase",children:"Rol"}),S.jsxs("select",{className:"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white",value:P.role,onChange:z=>V({...P,role:z.target.value}),children:[S.jsx("option",{value:de.STUDENT,children:"Alumno"}),S.jsx("option",{value:de.TEACHER,children:"Docente"}),S.jsx("option",{value:de.PARENT,children:"Padre de Familia"}),S.jsx("option",{value:de.ADMIN,children:"Bibliotecario"})]})]}),S.jsx("button",{className:"w-full bg-green-600 hover:bg-green-500 text-white py-3 rounded-lg font-bold",children:"Generar ID y Guardar"})]})]})}),S.jsx("div",{className:"lg:col-span-2",children:S.jsx("div",{className:"bg-slate-800 rounded-2xl border border-slate-700 overflow-hidden flex flex-col h-[600px]",children:S.jsx("div",{className:"overflow-y-auto flex-1 custom-scrollbar",children:S.jsxs("table",{className:"w-full text-left",children:[S.jsx("thead",{className:"bg-slate-900 sticky top-0 z-10",children:S.jsxs("tr",{children:[S.jsx("th",{className:"p-4 text-xs font-bold text-slate-400 uppercase",children:"ID / Nombre"}),S.jsx("th",{className:"p-4 text-xs font-bold text-slate-400 uppercase",children:"Grupo"}),S.jsx("th",{className:"p-4 text-xs font-bold text-slate-400 uppercase text-center",children:"Seguridad"})]})}),S.jsx("tbody",{className:"divide-y divide-slate-700",children:l.map(z=>S.jsxs("tr",{className:"hover:bg-slate-700/30 transition-colors",children:[S.jsxs("td",{className:"p-4",children:[S.jsx("div",{className:"font-mono text-blue-300 font-bold",children:z.id}),S.jsx("div",{className:"text-white font-medium",children:z.name}),S.jsx("span",{className:"text-[10px] uppercase text-slate-500 bg-slate-900 px-1 rounded border border-slate-700",children:z.role})]}),S.jsx("td",{className:"p-4",children:z.role===de.STUDENT||z.role===de.TEACHER?S.jsxs("select",{className:"bg-slate-900 border border-slate-600 rounded px-2 py-1 text-xs text-white w-full max-w-[120px]",value:z.groupId||"",onChange:W=>$(z.id,W.target.value),children:[S.jsx("option",{value:"",children:"--"}),a.map(W=>S.jsx("option",{value:W.id,children:W.name},W.id))]}):S.jsx("span",{className:"text-slate-600 text-xs",children:"-"})}),S.jsx("td",{className:"p-4",children:S.jsxs("div",{className:"flex justify-center gap-2",children:[Z===z.id?S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("input",{type:"text",placeholder:"Nueva pass",className:"w-20 bg-slate-900 border border-slate-500 text-xs text-white rounded px-1",value:ne,onChange:W=>se(W.target.value)}),S.jsx("button",{onClick:()=>ye(z.id),className:"text-green-400 hover:text-green-300",children:S.jsx(_u,{size:16})}),S.jsx("button",{onClick:()=>ce(null),className:"text-red-400 hover:text-red-300",children:S.jsx(bE,{size:16})})]}):S.jsx("button",{onClick:()=>{ce(z.id),se("")},className:"p-2 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded-lg transition-colors",title:"Cambiar Contrasea",children:S.jsx(fE,{size:16})}),z.twoFactorEnabled?S.jsx("button",{onClick:()=>M(z.id),className:"p-2 bg-purple-900/40 hover:bg-purple-900/60 border border-purple-500/50 text-purple-300 rounded-lg transition-colors",title:"2FA Activo - Clic para desactivar",children:S.jsx(Ga,{size:16})}):S.jsx("div",{className:"p-2 bg-slate-800/50 text-slate-600 rounded-lg border border-slate-700",title:"2FA Inactivo",children:S.jsx(Bu,{size:16})})]})})]},z.id))})]})})})})]})]}),S.jsxs("section",{className:"animate-in fade-in",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-slate-700 pb-4",children:[S.jsx("div",{className:"p-3 bg-purple-900/30 rounded-xl",children:S.jsx(ku,{className:"text-purple-400",size:32})}),S.jsx("div",{children:S.jsx("h2",{className:"text-3xl font-display font-bold text-white",children:"Catlogo de Libros"})})]}),S.jsxs("div",{className:"bg-slate-800 p-8 rounded-2xl border border-slate-700",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Aadir Nuevo Libro"}),S.jsxs("form",{onSubmit:He,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-slate-400 text-xs font-bold mb-2 uppercase",children:"Ttulo"}),S.jsx("input",{className:"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 outline-none",value:b.title,onChange:z=>X({...b,title:z.target.value}),required:!0,placeholder:"Ej: Don Quijote"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-slate-400 text-xs font-bold mb-2 uppercase",children:"Autor"}),S.jsx("input",{className:"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 outline-none",value:b.author,onChange:z=>X({...b,author:z.target.value}),required:!0,placeholder:"Ej: Miguel de Cervantes"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-slate-400 text-xs font-bold mb-2 uppercase",children:"Copias Totales"}),S.jsx("input",{type:"number",className:"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 outline-none",value:b.copies,onChange:z=>X({...b,copies:parseInt(z.target.value)}),required:!0,min:"1"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-slate-400 text-xs font-bold mb-2 uppercase",children:"URL Portada (Opcional)"}),S.jsx("input",{className:"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white focus:border-purple-500 outline-none",value:b.cover,onChange:z=>X({...b,cover:z.target.value}),placeholder:"https://..."})]}),S.jsx("div",{className:"md:col-span-2",children:S.jsx("button",{className:"bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 px-6 rounded-lg w-full",children:"Guardar Libro en Catlogo"})})]})]})]})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let kE,BE;function FE(){return{geminiUrl:kE,vertexUrl:BE}}function OE(l,t,o,a){var r,f;if(!(l!=null&&l.baseUrl)){const p=FE();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return l.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yn{}function ee(l,t){const o=/\{([^}]+)\}/g;return l.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(l,t,o){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in l))if(Array.isArray(o))l[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(l[g])){const y=l[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];c(v,t.slice(f+1),o[h])}else for(const h of y)c(h,t.slice(f+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in l||(l[g]=[{}]);const y=l[g];c(y[0],t.slice(f+1),o);return}(!l[p]||typeof l[p]!="object")&&(l[p]={}),l=l[p]}const a=t[t.length-1],r=l[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(l,o):l[a]=o}function u(l,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return l;for(let a=0;a<t.length;a++){if(typeof l!="object"||l===null)return o;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in l){const p=l[f];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),o)):o}else return o}else l=l[r]}return l}catch(a){if(a instanceof TypeError)return o;throw a}}function JE(l,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),f=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const h=f[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}Au(l,r,f,0,p)}}function Au(l,t,o,a,r){if(a>=t.length||typeof l!="object"||l===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),g=l;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Au(y,t,o,a+1,r)}else if(f==="*"){if(typeof l=="object"&&l!==null&&!Array.isArray(l)){const p=l,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,v]of Object.entries(y)){const E=[];for(const C of o.slice(a))C==="*"?E.push(h):E.push(C);c(p,E,v)}for(const h of g)delete p[h]}}else{const p=l;f in p&&Au(p[f],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fu(l){if(typeof l!="string")throw new Error("fromImageBytes must be a string");return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YE(l){const t={},o=u(l,["operationName"]);o!=null&&c(t,["operationName"],o);const a=u(l,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function KE(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);f!=null&&c(t,["error"],f);const p=u(l,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],XE(p)),t}function QE(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);f!=null&&c(t,["error"],f);const p=u(l,["response"]);return p!=null&&c(t,["response"],ZE(p)),t}function XE(l){const t={},o=u(l,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>$E(p))),c(t,["generatedVideos"],f)}const a=u(l,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function ZE(l){const t={},o=u(l,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>WE(p))),c(t,["generatedVideos"],f)}const a=u(l,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function $E(l){const t={},o=u(l,["video"]);return o!=null&&c(t,["video"],iS(o)),t}function WE(l){const t={},o=u(l,["_self"]);return o!=null&&c(t,["video"],oS(o)),t}function jE(l){const t={},o=u(l,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function eS(l){const t={},o=u(l,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function tS(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);f!=null&&c(t,["error"],f);const p=u(l,["response"]);return p!=null&&c(t,["response"],nS(p)),t}function nS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["parent"]);a!=null&&c(t,["parent"],a);const r=u(l,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function cg(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);f!=null&&c(t,["error"],f);const p=u(l,["response"]);return p!=null&&c(t,["response"],lS(p)),t}function lS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["parent"]);a!=null&&c(t,["parent"],a);const r=u(l,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function iS(l){const t={},o=u(l,["uri"]);o!=null&&c(t,["uri"],o);const a=u(l,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Fu(a));const r=u(l,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function oS(l){const t={},o=u(l,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(l,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Fu(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tm;(function(l){l.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",l.OUTCOME_OK="OUTCOME_OK",l.OUTCOME_FAILED="OUTCOME_FAILED",l.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Tm||(Tm={}));var Em;(function(l){l.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",l.PYTHON="PYTHON"})(Em||(Em={}));var Sm;(function(l){l.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",l.SILENT="SILENT",l.WHEN_IDLE="WHEN_IDLE",l.INTERRUPT="INTERRUPT"})(Sm||(Sm={}));var ut;(function(l){l.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",l.STRING="STRING",l.NUMBER="NUMBER",l.INTEGER="INTEGER",l.BOOLEAN="BOOLEAN",l.ARRAY="ARRAY",l.OBJECT="OBJECT",l.NULL="NULL"})(ut||(ut={}));var Cm;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(Cm||(Cm={}));var _m;(function(l){l.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",l.SIMPLE_SEARCH="SIMPLE_SEARCH",l.ELASTIC_SEARCH="ELASTIC_SEARCH"})(_m||(_m={}));var Am;(function(l){l.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",l.NO_AUTH="NO_AUTH",l.API_KEY_AUTH="API_KEY_AUTH",l.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",l.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",l.OAUTH="OAUTH",l.OIDC_AUTH="OIDC_AUTH"})(Am||(Am={}));var xm;(function(l){l.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",l.HTTP_IN_QUERY="HTTP_IN_QUERY",l.HTTP_IN_HEADER="HTTP_IN_HEADER",l.HTTP_IN_PATH="HTTP_IN_PATH",l.HTTP_IN_BODY="HTTP_IN_BODY",l.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(xm||(xm={}));var Nm;(function(l){l.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",l.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",l.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",l.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Nm||(Nm={}));var Rm;(function(l){l.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",l.LOW="LOW",l.HIGH="HIGH"})(Rm||(Rm={}));var Mm;(function(l){l.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",l.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",l.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",l.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",l.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",l.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",l.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",l.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",l.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Mm||(Mm={}));var bm;(function(l){l.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",l.SEVERITY="SEVERITY",l.PROBABILITY="PROBABILITY"})(bm||(bm={}));var Im;(function(l){l.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE",l.OFF="OFF"})(Im||(Im={}));var wm;(function(l){l.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",l.STOP="STOP",l.MAX_TOKENS="MAX_TOKENS",l.SAFETY="SAFETY",l.RECITATION="RECITATION",l.LANGUAGE="LANGUAGE",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.SPII="SPII",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.IMAGE_SAFETY="IMAGE_SAFETY",l.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",l.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",l.NO_IMAGE="NO_IMAGE"})(wm||(wm={}));var Dm;(function(l){l.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",l.NEGLIGIBLE="NEGLIGIBLE",l.LOW="LOW",l.MEDIUM="MEDIUM",l.HIGH="HIGH"})(Dm||(Dm={}));var Um;(function(l){l.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",l.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",l.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",l.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",l.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Um||(Um={}));var Lm;(function(l){l.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",l.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",l.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",l.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",l.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Lm||(Lm={}));var qm;(function(l){l.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",l.SAFETY="SAFETY",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.IMAGE_SAFETY="IMAGE_SAFETY",l.MODEL_ARMOR="MODEL_ARMOR",l.JAILBREAK="JAILBREAK"})(qm||(qm={}));var Gm;(function(l){l.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",l.ON_DEMAND="ON_DEMAND",l.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Gm||(Gm={}));var Pa;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.AUDIO="AUDIO"})(Pa||(Pa={}));var Pm;(function(l){l.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",l.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",l.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",l.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Pm||(Pm={}));var Hm;(function(l){l.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",l.TUNING_MODE_FULL="TUNING_MODE_FULL",l.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Hm||(Hm={}));var zm;(function(l){l.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",l.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",l.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",l.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",l.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",l.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",l.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(zm||(zm={}));var xu;(function(l){l.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",l.JOB_STATE_QUEUED="JOB_STATE_QUEUED",l.JOB_STATE_PENDING="JOB_STATE_PENDING",l.JOB_STATE_RUNNING="JOB_STATE_RUNNING",l.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",l.JOB_STATE_FAILED="JOB_STATE_FAILED",l.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",l.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",l.JOB_STATE_PAUSED="JOB_STATE_PAUSED",l.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",l.JOB_STATE_UPDATING="JOB_STATE_UPDATING",l.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(xu||(xu={}));var Vm;(function(l){l.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",l.TUNING_TASK_I2V="TUNING_TASK_I2V",l.TUNING_TASK_T2V="TUNING_TASK_T2V",l.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Vm||(Vm={}));var km;(function(l){l.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",l.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",l.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",l.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(km||(km={}));var Bm;(function(l){l.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",l.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",l.BALANCED="BALANCED",l.PRIORITIZE_COST="PRIORITIZE_COST"})(Bm||(Bm={}));var Fm;(function(l){l.UNSPECIFIED="UNSPECIFIED",l.BLOCKING="BLOCKING",l.NON_BLOCKING="NON_BLOCKING"})(Fm||(Fm={}));var Om;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(Om||(Om={}));var Jm;(function(l){l.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",l.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Jm||(Jm={}));var Ym;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.AUTO="AUTO",l.ANY="ANY",l.NONE="NONE",l.VALIDATED="VALIDATED"})(Ym||(Ym={}));var Km;(function(l){l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE"})(Km||(Km={}));var Qm;(function(l){l.DONT_ALLOW="DONT_ALLOW",l.ALLOW_ADULT="ALLOW_ADULT",l.ALLOW_ALL="ALLOW_ALL"})(Qm||(Qm={}));var Xm;(function(l){l.auto="auto",l.en="en",l.ja="ja",l.ko="ko",l.hi="hi",l.zh="zh",l.pt="pt",l.es="es"})(Xm||(Xm={}));var Zm;(function(l){l.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",l.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",l.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",l.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",l.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Zm||(Zm={}));var $m;(function(l){l.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",l.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",l.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",l.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($m||($m={}));var Wm;(function(l){l.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",l.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",l.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",l.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Wm||(Wm={}));var jm;(function(l){l.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",l.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",l.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",l.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",l.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",l.EDIT_MODE_STYLE="EDIT_MODE_STYLE",l.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",l.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(jm||(jm={}));var eh;(function(l){l.FOREGROUND="FOREGROUND",l.BACKGROUND="BACKGROUND",l.PROMPT="PROMPT",l.SEMANTIC="SEMANTIC",l.INTERACTIVE="INTERACTIVE"})(eh||(eh={}));var th;(function(l){l.ASSET="ASSET",l.STYLE="STYLE"})(th||(th={}));var nh;(function(l){l.INSERT="INSERT",l.REMOVE="REMOVE",l.REMOVE_STATIC="REMOVE_STATIC",l.OUTPAINT="OUTPAINT"})(nh||(nh={}));var lh;(function(l){l.OPTIMIZED="OPTIMIZED",l.LOSSLESS="LOSSLESS"})(lh||(lh={}));var ih;(function(l){l.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",l.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ih||(ih={}));var oh;(function(l){l.STATE_UNSPECIFIED="STATE_UNSPECIFIED",l.STATE_PENDING="STATE_PENDING",l.STATE_ACTIVE="STATE_ACTIVE",l.STATE_FAILED="STATE_FAILED"})(oh||(oh={}));var ah;(function(l){l.STATE_UNSPECIFIED="STATE_UNSPECIFIED",l.PROCESSING="PROCESSING",l.ACTIVE="ACTIVE",l.FAILED="FAILED"})(ah||(ah={}));var sh;(function(l){l.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",l.UPLOADED="UPLOADED",l.GENERATED="GENERATED"})(sh||(sh={}));var rh;(function(l){l.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.RESPONSE_REJECTED="RESPONSE_REJECTED",l.NEED_MORE_INPUT="NEED_MORE_INPUT"})(rh||(rh={}));var uh;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.VIDEO="VIDEO",l.AUDIO="AUDIO",l.DOCUMENT="DOCUMENT"})(uh||(uh={}));var ch;(function(l){l.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",l.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",l.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ch||(ch={}));var fh;(function(l){l.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",l.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",l.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(fh||(fh={}));var dh;(function(l){l.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",l.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",l.NO_INTERRUPTION="NO_INTERRUPTION"})(dh||(dh={}));var ph;(function(l){l.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",l.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",l.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ph||(ph={}));var mh;(function(l){l.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",l.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",l.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",l.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",l.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",l.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",l.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",l.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",l.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",l.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",l.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",l.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",l.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(mh||(mh={}));var hh;(function(l){l.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",l.QUALITY="QUALITY",l.DIVERSITY="DIVERSITY",l.VOCALIZATION="VOCALIZATION"})(hh||(hh={}));var jl;(function(l){l.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",l.PLAY="PLAY",l.PAUSE="PAUSE",l.STOP="STOP",l.RESET_CONTEXT="RESET_CONTEXT"})(jl||(jl={}));class Nu{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class io{get text(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const E=[];for(const C of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,U]of Object.entries(C))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(U!==null||U!==void 0)&&E.push(A);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;v=!0,h+=C.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const E of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,A]of Object.entries(E))C!=="inlineData"&&(A!==null||A!==void 0)&&v.push(C);E.inlineData&&typeof E.inlineData.data=="string"&&(h+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,o,a,r,f,p,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,o,a,r,f,p,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class gh{}class yh{}class aS{}class sS{}class rS{}class uS{}class vh{}class Th{}class Eh{}class cS{}class Ha{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Ha;let r;const f=t;return o?r=QE(f):r=KE(f),Object.assign(a,r),a}}class Sh{}class Ch{}class _h{}class Ah{}class fS{}class dS{}class pS{}class Ou{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Ou,f=tS(t);return Object.assign(a,f),a}}class mS{}class hS{}class gS{}class xh{}class yS{get text(){var t,o,a;let r="",f=!1;const p=[];for(const g of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,o,a;let r="";const f=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class vS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ju{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Ju,f=cg(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ne(l,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(l.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function fg(l,t){const o=Ne(l,t);return o?o.startsWith("publishers/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}`:o.startsWith("models/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/publishers/google/${o}`:o:""}function dg(l){return Array.isArray(l)?l.map(t=>za(t)):[za(l)]}function za(l){if(typeof l=="object"&&l!==null)return l;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof l}`)}function pg(l){const t=za(l);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function mg(l){const t=za(l);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Nh(l){if(l==null)throw new Error("PartUnion is required");if(typeof l=="object")return l;if(typeof l=="string")return{text:l};throw new Error(`Unsupported part type: ${typeof l}`)}function hg(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("PartListUnion is required");return Array.isArray(l)?l.map(t=>Nh(t)):[Nh(l)]}function Ru(l){return l!=null&&typeof l=="object"&&"parts"in l&&Array.isArray(l.parts)}function Rh(l){return l!=null&&typeof l=="object"&&"functionCall"in l}function Mh(l){return l!=null&&typeof l=="object"&&"functionResponse"in l}function at(l){if(l==null)throw new Error("ContentUnion is required");return Ru(l)?l:{role:"user",parts:hg(l)}}function Yu(l,t){if(!t)return[];if(l.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=at(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(l.isVertexAI()){const o=at(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>at(o)):[at(t)]}function Ht(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("contents are required");if(!Array.isArray(l)){if(Rh(l)||Mh(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[at(l)]}const t=[],o=[],a=Ru(l[0]);for(const r of l){const f=Ru(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(Rh(r)||Mh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:hg(o)}),t}function TS(l,t){l.includes("null")&&(t.nullable=!0);const o=l.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(ut).includes(o[0].toUpperCase())?o[0].toUpperCase():ut.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(ut).includes(a.toUpperCase())?a.toUpperCase():ut.TYPE_UNSPECIFIED})}}function ei(l){const t={},o=["items"],a=["anyOf"],r=["properties"];if(l.type&&l.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=l.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,l=f[1]):f[1].type==="null"&&(t.nullable=!0,l=f[0])),l.type instanceof Array&&TS(l.type,t);for(const[p,g]of Object.entries(l))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(ut).includes(g.toUpperCase())?g.toUpperCase():ut.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=ei(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(ei(h))}t[p]=y}else if(r.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=ei(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Ku(l){return ei(l)}function Qu(l){if(typeof l=="object")return l;if(typeof l=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:l}}};throw new Error(`Unsupported speechConfig type: ${typeof l}`)}function Xu(l){if("multiSpeakerVoiceConfig"in l)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return l}function oi(l){if(l.functionDeclarations)for(const t of l.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ei(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ei(t.response));return l}function ai(l){if(l==null)throw new Error("tools is required");if(!Array.isArray(l))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of l)t.push(o);return t}function ES(l,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return l.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${l.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${l.getProject()}/locations/${l.getLocation()}/${t}`:r?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function vn(l,t){if(typeof t!="string")throw new Error("name must be a string");return ES(l,t,"cachedContents")}function gg(l){switch(l){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return l}}function Jn(l){return Fu(l)}function SS(l){return l!=null&&typeof l=="object"&&"name"in l}function CS(l){return l!=null&&typeof l=="object"&&"video"in l}function _S(l){return l!=null&&typeof l=="object"&&"uri"in l}function yg(l){var t;let o;if(SS(l)&&(o=l.name),!(_S(l)&&(o=l.uri,o===void 0))&&!(CS(l)&&(o=(t=l.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof l=="string"&&(o=l),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function vg(l,t){let o;return l.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Tg(l){for(const t of["models","tunedModels","publisherModels"])if(AS(l,t))return l[t];return[]}function AS(l,t){return l!==null&&typeof l=="object"&&t in l}function xS(l,t={}){const o=l,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function NS(l,t={}){const o=[],a=new Set;for(const r of l){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=xS(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function Eg(l,t){let o;if(typeof t=="string")if(l.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(l.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(l.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function RS(l){if(typeof l!="string")return l;const t=l;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Sg(l){if(typeof l!="object"||l===null)return{};const t=l,o=t.inlinedResponses;if(typeof o!="object"||o===null)return l;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return l;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),l}function si(l,t){const o=t;if(!l.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Cg(l){const t=l;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MS(l){const t={},o=u(l,["responsesFile"]);o!=null&&c(t,["fileName"],o);const a=u(l,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>rC(p))),c(t,["inlinedResponses"],f)}const r=u(l,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function bS(l){const t={},o=u(l,["predictionsFormat"]);o!=null&&c(t,["format"],o);const a=u(l,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(l,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function IS(l){const t={},o=u(l,["format"]);o!=null&&c(t,["predictionsFormat"],o);const a=u(l,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(l,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(l,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(l,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ua(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(l,["metadata","state"]);r!=null&&c(t,["state"],Cg(r));const f=u(l,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(l,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(l,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(l,["metadata","model"]);y!=null&&c(t,["model"],y);const h=u(l,["metadata","output"]);return h!=null&&c(t,["dest"],MS(Sg(h))),t}function Mu(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(l,["state"]);r!=null&&c(t,["state"],Cg(r));const f=u(l,["error"]);f!=null&&c(t,["error"],f);const p=u(l,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(l,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(l,["endTime"]);y!=null&&c(t,["endTime"],y);const h=u(l,["updateTime"]);h!=null&&c(t,["updateTime"],h);const v=u(l,["model"]);v!=null&&c(t,["model"],v);const E=u(l,["inputConfig"]);E!=null&&c(t,["src"],wS(E));const C=u(l,["outputConfig"]);C!=null&&c(t,["dest"],bS(Sg(C)));const A=u(l,["completionStats"]);return A!=null&&c(t,["completionStats"],A),t}function wS(l){const t={},o=u(l,["instancesFormat"]);o!=null&&c(t,["format"],o);const a=u(l,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(l,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function DS(l,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>sC(l,p))),c(o,["requests","requests"],f)}return o}function US(l){const t={},o=u(l,["format"]);o!=null&&c(t,["instancesFormat"],o);const a=u(l,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(l,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(l,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function LS(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function qS(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],si(l,a)),o}function GS(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],si(l,a)),o}function PS(l){const t={},o=u(l,["content"]);o!=null&&c(t,["content"],o);const a=u(l,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],HS(a));const r=u(l,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(l,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(l,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(l,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(l,["index"]);y!=null&&c(t,["index"],y);const h=u(l,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(l,["safetyRatings"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(A=>A)),c(t,["safetyRatings"],C)}const E=u(l,["urlContextMetadata"]);return E!=null&&c(t,["urlContextMetadata"],E),t}function HS(l){const t={},o=u(l,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function _g(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>hC(f))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function zS(l,t){const o={},a=u(l,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(l,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function VS(l,t){const o={},a=u(l,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(l,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],IS(RS(r))),o}function bh(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],DS(l,Eg(l,r)));const f=u(t,["config"]);return f!=null&&zS(f,o),o}function kS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Ne(l,a));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],US(Eg(l,r)));const f=u(t,["config"]);return f!=null&&VS(f,o),o}function BS(l,t){const o={},a=u(l,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),o}function FS(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],ZS(l,r));const f=u(t,["config"]);return f!=null&&BS(f,o),o}function OS(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],si(l,a)),o}function JS(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],si(l,a)),o}function YS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);return f!=null&&c(t,["error"],f),t}function KS(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);return f!=null&&c(t,["error"],f),t}function QS(l,t){const o={},a=u(t,["contents"]);if(a!=null){let f=Yu(l,a);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],XS(r,o)),JE(o,{"requests[].*":"requests[].request.*"})),o}function XS(l,t){const o={},a=u(l,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(l,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(l,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function ZS(l,t){const o={},a=u(t,["fileName"]);a!=null&&c(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],QS(l,r)),o}function $S(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function WS(l){const t={},o=u(l,["id"]);o!=null&&c(t,["id"],o);const a=u(l,["args"]);a!=null&&c(t,["args"],a);const r=u(l,["name"]);if(r!=null&&c(t,["name"],r),u(l,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(l,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function jS(l){const t={},o=u(l,["mode"]);o!=null&&c(t,["mode"],o);const a=u(l,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(l,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function eC(l,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],_g(at(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const C=u(t,["logprobs"]);C!=null&&c(a,["logprobs"],C);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const U=u(t,["frequencyPenalty"]);U!=null&&c(a,["frequencyPenalty"],U);const P=u(t,["seed"]);P!=null&&c(a,["seed"],P);const V=u(t,["responseMimeType"]);V!=null&&c(a,["responseMimeType"],V);const w=u(t,["responseSchema"]);w!=null&&c(a,["responseSchema"],Ku(w));const k=u(t,["responseJsonSchema"]);if(k!=null&&c(a,["responseJsonSchema"],k),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=u(t,["safetySettings"]);if(o!==void 0&&b!=null){let ue=b;Array.isArray(ue)&&(ue=ue.map(He=>gC(He))),c(o,["safetySettings"],ue)}const X=u(t,["tools"]);if(o!==void 0&&X!=null){let ue=ai(X);Array.isArray(ue)&&(ue=ue.map(He=>vC(oi(He)))),c(o,["tools"],ue)}const j=u(t,["toolConfig"]);if(o!==void 0&&j!=null&&c(o,["toolConfig"],yC(j)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const le=u(t,["cachedContent"]);o!==void 0&&le!=null&&c(o,["cachedContent"],vn(l,le));const Z=u(t,["responseModalities"]);Z!=null&&c(a,["responseModalities"],Z);const ce=u(t,["mediaResolution"]);ce!=null&&c(a,["mediaResolution"],ce);const ne=u(t,["speechConfig"]);if(ne!=null&&c(a,["speechConfig"],Qu(ne)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=u(t,["thinkingConfig"]);se!=null&&c(a,["thinkingConfig"],se);const ge=u(t,["imageConfig"]);return ge!=null&&c(a,["imageConfig"],aC(ge)),a}function tC(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>PS(h))),c(t,["candidates"],y)}const r=u(l,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(l,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(l,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(l,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function nC(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],si(l,a)),o}function lC(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],si(l,a)),o}function iC(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function oC(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function aC(l){const t={},o=u(l,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(l,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(l,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(l,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function sC(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["request","model"],Ne(l,a));const r=u(t,["contents"]);if(r!=null){let g=Ht(r);Array.isArray(g)&&(g=g.map(y=>_g(y))),c(o,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(o,["request","generationConfig"],eC(l,p,u(o,["request"],{}))),o}function rC(l){const t={},o=u(l,["response"]);o!=null&&c(t,["response"],tC(o));const a=u(l,["error"]);return a!=null&&c(t,["error"],a),t}function uC(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(l,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function cC(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(l,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),o}function fC(l){const t={},o=u(l,["config"]);return o!=null&&uC(o,t),t}function dC(l){const t={},o=u(l,["config"]);return o!=null&&cC(o,t),t}function pC(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Ua(p))),c(t,["batchJobs"],f)}return t}function mC(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Mu(p))),c(t,["batchJobs"],f)}return t}function hC(l){const t={},o=u(l,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(l,["fileData"]);f!=null&&c(t,["fileData"],$S(f));const p=u(l,["functionCall"]);p!=null&&c(t,["functionCall"],WS(p));const g=u(l,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(l,["inlineData"]);y!=null&&c(t,["inlineData"],LS(y));const h=u(l,["text"]);h!=null&&c(t,["text"],h);const v=u(l,["thought"]);v!=null&&c(t,["thought"],v);const E=u(l,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const C=u(l,["videoMetadata"]);return C!=null&&c(t,["videoMetadata"],C),t}function gC(l){const t={},o=u(l,["category"]);if(o!=null&&c(t,["category"],o),u(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(l,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function yC(l){const t={},o=u(l,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],jS(o));const a=u(l,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function vC(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(l,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(t,["googleMaps"],iC(g));const y=u(l,["googleSearch"]);y!=null&&c(t,["googleSearch"],oC(y));const h=u(l,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gn;(function(l){l.PAGED_ITEM_BATCH_JOBS="batchJobs",l.PAGED_ITEM_MODELS="models",l.PAGED_ITEM_TUNING_JOBS="tuningJobs",l.PAGED_ITEM_FILES="files",l.PAGED_ITEM_CACHED_CONTENTS="cachedContents",l.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",l.PAGED_ITEM_DOCUMENTS="documents"})(gn||(gn={}));class ml{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,f;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TC extends yn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ml(gn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=bh(this.apiClient,t),a=o._url,r=ee("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const C=E.systemInstruction;delete E.systemInstruction;const A=E.request;A.systemInstruction=C,E.request=A}h.push(E)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=kS(this.apiClient,t);return g=ee("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Mu(v))}else{const h=bh(this.apiClient,t);return g=ee("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Ua(v))}}async createEmbeddingsInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=FS(this.apiClient,t);return f=ee("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Ua(y))}}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=lC(this.apiClient,t);return g=ee("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Mu(v))}else{const h=nC(this.apiClient,t);return g=ee("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Ua(v))}}async cancel(t){var o,a,r,f;let p="",g={};if(this.apiClient.isVertexAI()){const y=GS(this.apiClient,t);p=ee("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=qS(this.apiClient,t);p=ee("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=dC(t);return g=ee("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=mC(v),C=new xh;return Object.assign(C,E),C})}else{const h=fC(t);return g=ee("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=pC(v),C=new xh;return Object.assign(C,E),C})}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=JS(this.apiClient,t);return g=ee("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>KS(v))}else{const h=OS(this.apiClient,t);return g=ee("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>YS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EC(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Ih(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>FC(f))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function SC(l,t){const o={},a=u(l,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(l,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(l,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(l,["contents"]);if(t!==void 0&&p!=null){let v=Ht(p);Array.isArray(v)&&(v=v.map(E=>Ih(E))),c(t,["contents"],v)}const g=u(l,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Ih(at(g)));const y=u(l,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>JC(E))),c(t,["tools"],v)}const h=u(l,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],OC(h)),u(l,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function CC(l,t){const o={},a=u(l,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(l,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(l,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(l,["contents"]);if(t!==void 0&&p!=null){let E=Ht(p);Array.isArray(E)&&(E=E.map(C=>C)),c(t,["contents"],E)}const g=u(l,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],at(g));const y=u(l,["tools"]);if(t!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(C=>YC(C))),c(t,["tools"],E)}const h=u(l,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const v=u(l,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),o}function _C(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],fg(l,a));const r=u(t,["config"]);return r!=null&&SC(r,o),o}function AC(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],fg(l,a));const r=u(t,["config"]);return r!=null&&CC(r,o),o}function xC(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],vn(l,a)),o}function NC(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],vn(l,a)),o}function RC(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function MC(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function bC(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function IC(l){const t={},o=u(l,["id"]);o!=null&&c(t,["id"],o);const a=u(l,["args"]);a!=null&&c(t,["args"],a);const r=u(l,["name"]);if(r!=null&&c(t,["name"],r),u(l,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(l,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function wC(l){const t={},o=u(l,["mode"]);o!=null&&c(t,["mode"],o);const a=u(l,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(l,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function DC(l){const t={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(t,["description"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(l,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(l,["response"]);p!=null&&c(t,["response"],p);const g=u(l,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function UC(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],vn(l,a)),o}function LC(l,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],vn(l,a)),o}function qC(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function GC(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function PC(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function HC(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function zC(l){const t={},o=u(l,["config"]);return o!=null&&PC(o,t),t}function VC(l){const t={},o=u(l,["config"]);return o!=null&&HC(o,t),t}function kC(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function BC(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function FC(l){const t={},o=u(l,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(l,["fileData"]);f!=null&&c(t,["fileData"],bC(f));const p=u(l,["functionCall"]);p!=null&&c(t,["functionCall"],IC(p));const g=u(l,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(l,["inlineData"]);y!=null&&c(t,["inlineData"],EC(y));const h=u(l,["text"]);h!=null&&c(t,["text"],h);const v=u(l,["thought"]);v!=null&&c(t,["thought"],v);const E=u(l,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const C=u(l,["videoMetadata"]);return C!=null&&c(t,["videoMetadata"],C),t}function OC(l){const t={},o=u(l,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],wC(o));const a=u(l,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function JC(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(l,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(t,["googleMaps"],qC(g));const y=u(l,["googleSearch"]);y!=null&&c(t,["googleSearch"],GC(y));const h=u(l,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function YC(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(C=>DC(C))),c(t,["functionDeclarations"],E)}const a=u(l,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(l,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(l,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(l,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(l,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(l,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(l,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(l,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function KC(l,t){const o={},a=u(l,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(l,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function QC(l,t){const o={},a=u(l,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(l,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function XC(l,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],vn(l,a));const r=u(t,["config"]);return r!=null&&KC(r,o),o}function ZC(l,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],vn(l,a));const r=u(t,["config"]);return r!=null&&QC(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $C extends yn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ml(gn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=AC(this.apiClient,t);return g=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=_C(this.apiClient,t);return g=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=LC(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=UC(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=NC(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=MC(v),C=new _h;return Object.assign(C,E),C})}else{const h=xC(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=RC(v),C=new _h;return Object.assign(C,E),C})}}async update(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ZC(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=XC(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=VC(t);return g=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=BC(v),C=new Ah;return Object.assign(C,E),C})}else{const h=zC(t);return g=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=kC(v),C=new Ah;return Object.assign(C,E),C})}}}function wh(l){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&l[t],a=0;if(o)return o.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&a>=l.length&&(l=void 0),{value:l&&l[a++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pe(l){return this instanceof Pe?(this.v=l,this):new Pe(l)}function ti(l,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(l,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(A){return function(U){return Promise.resolve(U).then(A,E)}}function g(A,U){a[A]&&(r[A]=function(P){return new Promise(function(V,w){f.push([A,P,V,w])>1||y(A,P)})},U&&(r[A]=U(r[A])))}function y(A,U){try{h(a[A](U))}catch(P){C(f[0][3],P)}}function h(A){A.value instanceof Pe?Promise.resolve(A.value.v).then(v,E):C(f[0][2],A)}function v(A){y("next",A)}function E(A){y("throw",A)}function C(A,U){A(U),f.shift(),f.length&&y(f[0][0],f[0][1])}}function oo(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=l[Symbol.asyncIterator],o;return t?t.call(l):(l=typeof wh=="function"?wh(l):l[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(f){o[f]=l[f]&&function(p){return new Promise(function(g,y){p=l[f](p),r(g,y,p.done,p.value)})}}function r(f,p,g,y){Promise.resolve(y).then(function(h){f({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WC(l){var t;if(l.candidates==null||l.candidates.length===0)return!1;const o=(t=l.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:Ag(o)}function Ag(l){if(l.parts===void 0||l.parts.length===0)return!1;for(const t of l.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function jC(l){if(l.length!==0){for(const t of l)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Dh(l){if(l===void 0||l.length===0)return[];const t=[],o=l.length;let a=0;for(;a<o;)if(l[a].role==="user")t.push(l[a]),a++;else{const r=[];let f=!0;for(;a<o&&l[a].role==="model";)r.push(l[a]),f&&!Ag(l[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class e_{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new t_(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class t_{constructor(t,o,a,r={},f=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),jC(f)}async sendMessage(t){var o;await this.sendPromise;const a=at(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,p,g;const y=await r,h=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let C=[];v!=null&&(C=(g=v.slice(E))!==null&&g!==void 0?g:[]);const A=h?[h]:[];this.recordHistory(a,A,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=at(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const o=t?Dh(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){var a,r;return ti(this,arguments,function*(){var p,g,y,h;const v=[];try{for(var E=!0,C=oo(t),A;A=yield Pe(C.next()),p=A.done,!p;E=!0){h=A.value,E=!1;const U=h;if(WC(U)){const P=(r=(a=U.candidates)===null||a===void 0?void 0:a[0])===null||r===void 0?void 0:r.content;P!==void 0&&v.push(P)}yield yield Pe(U)}}catch(U){g={error:U}}finally{try{!E&&!p&&(y=C.return)&&(yield Pe(y.call(C)))}finally{if(g)throw g.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(f=>f.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Dh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Oa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n_(l){const t={},o=u(l,["file"]);return o!=null&&c(t,["file"],o),t}function l_(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function i_(l){const t={},o=u(l,["name"]);return o!=null&&c(t,["_url","file"],yg(o)),t}function o_(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function a_(l){const t={},o=u(l,["name"]);return o!=null&&c(t,["_url","file"],yg(o)),t}function s_(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function r_(l){const t={},o=u(l,["config"]);return o!=null&&s_(o,t),t}function u_(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c_ extends yn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ml(gn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=r_(t);return f=ee("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=u_(y),v=new mS;return Object.assign(v,h),v})}}async createInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=n_(t);return f=ee("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=l_(y),v=new hS;return Object.assign(v,h),v})}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=a_(t);return f=ee("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=i_(t);return f=ee("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=o_(y),v=new gS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function La(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function f_(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>R_(f))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function d_(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function p_(l){const t={},o=u(l,["id"]);o!=null&&c(t,["id"],o);const a=u(l,["args"]);a!=null&&c(t,["args"],a);const r=u(l,["name"]);if(r!=null&&c(t,["name"],r),u(l,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(l,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function m_(l){const t={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(t,["description"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(l,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(l,["response"]);p!=null&&c(t,["response"],p);const g=u(l,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function h_(l){const t={},o=u(l,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(l,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(l,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(l,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(l,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(l,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(l,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(l,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(l,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const E=u(l,["presencePenalty"]);E!=null&&c(t,["presencePenalty"],E);const C=u(l,["responseLogprobs"]);C!=null&&c(t,["responseLogprobs"],C);const A=u(l,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const U=u(l,["responseModalities"]);U!=null&&c(t,["responseModalities"],U);const P=u(l,["responseSchema"]);P!=null&&c(t,["responseSchema"],P);const V=u(l,["routingConfig"]);V!=null&&c(t,["routingConfig"],V);const w=u(l,["seed"]);w!=null&&c(t,["seed"],w);const k=u(l,["speechConfig"]);k!=null&&c(t,["speechConfig"],xg(k));const b=u(l,["stopSequences"]);b!=null&&c(t,["stopSequences"],b);const X=u(l,["temperature"]);X!=null&&c(t,["temperature"],X);const j=u(l,["thinkingConfig"]);j!=null&&c(t,["thinkingConfig"],j);const le=u(l,["topK"]);le!=null&&c(t,["topK"],le);const Z=u(l,["topP"]);if(Z!=null&&c(t,["topP"],Z),u(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function g_(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function y_(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function v_(l,t){const o={},a=u(l,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(l,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(l,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(l,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(l,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(l,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(l,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(l,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(l,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],Xu(E));const C=u(l,["thinkingConfig"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","thinkingConfig"],C);const A=u(l,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const U=u(l,["systemInstruction"]);t!==void 0&&U!=null&&c(t,["setup","systemInstruction"],f_(at(U)));const P=u(l,["tools"]);if(t!==void 0&&P!=null){let le=ai(P);Array.isArray(le)&&(le=le.map(Z=>b_(oi(Z)))),c(t,["setup","tools"],le)}const V=u(l,["sessionResumption"]);t!==void 0&&V!=null&&c(t,["setup","sessionResumption"],M_(V));const w=u(l,["inputAudioTranscription"]);t!==void 0&&w!=null&&c(t,["setup","inputAudioTranscription"],w);const k=u(l,["outputAudioTranscription"]);t!==void 0&&k!=null&&c(t,["setup","outputAudioTranscription"],k);const b=u(l,["realtimeInputConfig"]);t!==void 0&&b!=null&&c(t,["setup","realtimeInputConfig"],b);const X=u(l,["contextWindowCompression"]);t!==void 0&&X!=null&&c(t,["setup","contextWindowCompression"],X);const j=u(l,["proactivity"]);return t!==void 0&&j!=null&&c(t,["setup","proactivity"],j),o}function T_(l,t){const o={},a=u(l,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],h_(a));const r=u(l,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(l,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(l,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(l,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(l,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(l,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(l,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(l,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],xg(Xu(E)));const C=u(l,["thinkingConfig"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","thinkingConfig"],C);const A=u(l,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const U=u(l,["systemInstruction"]);t!==void 0&&U!=null&&c(t,["setup","systemInstruction"],at(U));const P=u(l,["tools"]);if(t!==void 0&&P!=null){let le=ai(P);Array.isArray(le)&&(le=le.map(Z=>I_(oi(Z)))),c(t,["setup","tools"],le)}const V=u(l,["sessionResumption"]);t!==void 0&&V!=null&&c(t,["setup","sessionResumption"],V);const w=u(l,["inputAudioTranscription"]);t!==void 0&&w!=null&&c(t,["setup","inputAudioTranscription"],w);const k=u(l,["outputAudioTranscription"]);t!==void 0&&k!=null&&c(t,["setup","outputAudioTranscription"],k);const b=u(l,["realtimeInputConfig"]);t!==void 0&&b!=null&&c(t,["setup","realtimeInputConfig"],b);const X=u(l,["contextWindowCompression"]);t!==void 0&&X!=null&&c(t,["setup","contextWindowCompression"],X);const j=u(l,["proactivity"]);return t!==void 0&&j!=null&&c(t,["setup","proactivity"],j),o}function E_(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ne(l,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],v_(r,o)),o}function S_(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ne(l,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],T_(r,o)),o}function C_(l){const t={},o=u(l,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function __(l){const t={},o=u(l,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function A_(l){const t={},o=u(l,["media"]);if(o!=null){let h=dg(o);Array.isArray(h)&&(h=h.map(v=>La(v))),c(t,["mediaChunks"],h)}const a=u(l,["audio"]);a!=null&&c(t,["audio"],La(mg(a)));const r=u(l,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(l,["video"]);f!=null&&c(t,["video"],La(pg(f)));const p=u(l,["text"]);p!=null&&c(t,["text"],p);const g=u(l,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(l,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function x_(l){const t={},o=u(l,["media"]);if(o!=null){let h=dg(o);Array.isArray(h)&&(h=h.map(v=>v)),c(t,["mediaChunks"],h)}const a=u(l,["audio"]);a!=null&&c(t,["audio"],mg(a));const r=u(l,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(l,["video"]);f!=null&&c(t,["video"],pg(f));const p=u(l,["text"]);p!=null&&c(t,["text"],p);const g=u(l,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(l,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function N_(l){const t={},o=u(l,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const a=u(l,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(l,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(l,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(l,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],w_(p));const g=u(l,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(l,["sessionResumptionUpdate"]);return y!=null&&c(t,["sessionResumptionUpdate"],y),t}function R_(l){const t={},o=u(l,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(l,["fileData"]);f!=null&&c(t,["fileData"],d_(f));const p=u(l,["functionCall"]);p!=null&&c(t,["functionCall"],p_(p));const g=u(l,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(l,["inlineData"]);y!=null&&c(t,["inlineData"],La(y));const h=u(l,["text"]);h!=null&&c(t,["text"],h);const v=u(l,["thought"]);v!=null&&c(t,["thought"],v);const E=u(l,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const C=u(l,["videoMetadata"]);return C!=null&&c(t,["videoMetadata"],C),t}function M_(l){const t={},o=u(l,["handle"]);if(o!=null&&c(t,["handle"],o),u(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function xg(l){const t={},o=u(l,["languageCode"]);o!=null&&c(t,["languageCode"],o);const a=u(l,["voiceConfig"]);if(a!=null&&c(t,["voiceConfig"],a),u(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function b_(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(l,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(t,["googleMaps"],g_(g));const y=u(l,["googleSearch"]);y!=null&&c(t,["googleSearch"],y_(y));const h=u(l,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function I_(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(C=>m_(C))),c(t,["functionDeclarations"],E)}const a=u(l,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(l,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(l,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(l,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(l,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(l,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(l,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(l,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function w_(l){const t={},o=u(l,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const a=u(l,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(l,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(l,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(l,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(l,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(l,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(U=>U)),c(t,["promptTokensDetails"],A)}const h=u(l,["cacheTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(U=>U)),c(t,["cacheTokensDetails"],A)}const v=u(l,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(U=>U)),c(t,["responseTokensDetails"],A)}const E=u(l,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(U=>U)),c(t,["toolUsePromptTokensDetails"],A)}const C=u(l,["trafficType"]);return C!=null&&c(t,["trafficType"],C),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D_(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function U_(l){const t={},o=u(l,["content"]);o!=null&&c(t,["content"],o);const a=u(l,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],L_(a));const r=u(l,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(l,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(l,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(l,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(l,["index"]);y!=null&&c(t,["index"],y);const h=u(l,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(l,["safetyRatings"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(A=>A)),c(t,["safetyRatings"],C)}const E=u(l,["urlContextMetadata"]);return E!=null&&c(t,["urlContextMetadata"],E),t}function L_(l){const t={},o=u(l,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function q_(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["contents"]);if(r!=null){let f=Ht(r);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["contents"],f)}return o}function G_(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function P_(l){const t={},o=u(l,["values"]);o!=null&&c(t,["values"],o);const a=u(l,["statistics"]);return a!=null&&c(t,["statistics"],H_(a)),t}function H_(l){const t={},o=u(l,["truncated"]);o!=null&&c(t,["truncated"],o);const a=u(l,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Ja(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>KA(f))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function z_(l){const t={},o=u(l,["controlType"]);o!=null&&c(t,["controlType"],o);const a=u(l,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function V_(l){const t={};if(u(l,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(l,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(l,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function k_(l,t){const o={},a=u(l,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],at(a));const r=u(l,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>Ig(g))),c(t,["tools"],p)}const f=u(l,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],DA(f)),o}function B_(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["contents"]);if(r!=null){let p=Ht(r);Array.isArray(p)&&(p=p.map(g=>Ja(g))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&V_(f),o}function F_(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["contents"]);if(r!=null){let p=Ht(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&k_(f,o),o}function O_(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(l,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function J_(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function Y_(l,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ne(l,a)),o}function K_(l,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ne(l,a)),o}function Q_(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function X_(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function Z_(l,t){const o={},a=u(l,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(l,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(l,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(l,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(l,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(l,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(l,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(l,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(l,["includeSafetyAttributes"]);t!==void 0&&E!=null&&c(t,["parameters","includeSafetyAttributes"],E);const C=u(l,["includeRaiReason"]);t!==void 0&&C!=null&&c(t,["parameters","includeRaiReason"],C);const A=u(l,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const U=u(l,["outputMimeType"]);t!==void 0&&U!=null&&c(t,["parameters","outputOptions","mimeType"],U);const P=u(l,["outputCompressionQuality"]);t!==void 0&&P!=null&&c(t,["parameters","outputOptions","compressionQuality"],P);const V=u(l,["addWatermark"]);t!==void 0&&V!=null&&c(t,["parameters","addWatermark"],V);const w=u(l,["labels"]);t!==void 0&&w!=null&&c(t,["labels"],w);const k=u(l,["editMode"]);t!==void 0&&k!=null&&c(t,["parameters","editMode"],k);const b=u(l,["baseSteps"]);return t!==void 0&&b!=null&&c(t,["parameters","editConfig","baseSteps"],b),o}function $_(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>jA(y))),c(o,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&Z_(p,o),o}function W_(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Ya(f))),c(t,["generatedImages"],r)}return t}function j_(l,t){const o={},a=u(l,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(l,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(l,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function eA(l,t){const o={},a=u(l,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(l,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(l,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(l,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(l,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),o}function tA(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["contents"]);if(r!=null){let g=Yu(l,r);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&j_(f,o);const p=u(t,["model"]);return p!==void 0&&c(o,["requests[]","model"],Ne(l,p)),o}function nA(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["contents"]);if(r!=null){let p=Yu(l,r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&eA(f,o),o}function lA(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(l,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function iA(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>P_(p))),c(t,["embeddings"],f)}const r=u(l,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function oA(l){const t={},o=u(l,["endpoint"]);o!=null&&c(t,["name"],o);const a=u(l,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function aA(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function sA(l){const t={},o=u(l,["id"]);o!=null&&c(t,["id"],o);const a=u(l,["args"]);a!=null&&c(t,["args"],a);const r=u(l,["name"]);if(r!=null&&c(t,["name"],r),u(l,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(l,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function rA(l){const t={},o=u(l,["mode"]);o!=null&&c(t,["mode"],o);const a=u(l,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(l,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function uA(l){const t={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(t,["description"],o);const a=u(l,["name"]);a!=null&&c(t,["name"],a);const r=u(l,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(l,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(l,["response"]);p!=null&&c(t,["response"],p);const g=u(l,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function cA(l,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Ja(at(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const C=u(t,["logprobs"]);C!=null&&c(a,["logprobs"],C);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const U=u(t,["frequencyPenalty"]);U!=null&&c(a,["frequencyPenalty"],U);const P=u(t,["seed"]);P!=null&&c(a,["seed"],P);const V=u(t,["responseMimeType"]);V!=null&&c(a,["responseMimeType"],V);const w=u(t,["responseSchema"]);w!=null&&c(a,["responseSchema"],Ku(w));const k=u(t,["responseJsonSchema"]);if(k!=null&&c(a,["responseJsonSchema"],k),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=u(t,["safetySettings"]);if(o!==void 0&&b!=null){let ue=b;Array.isArray(ue)&&(ue=ue.map(He=>ex(He))),c(o,["safetySettings"],ue)}const X=u(t,["tools"]);if(o!==void 0&&X!=null){let ue=ai(X);Array.isArray(ue)&&(ue=ue.map(He=>sx(oi(He)))),c(o,["tools"],ue)}const j=u(t,["toolConfig"]);if(o!==void 0&&j!=null&&c(o,["toolConfig"],ax(j)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const le=u(t,["cachedContent"]);o!==void 0&&le!=null&&c(o,["cachedContent"],vn(l,le));const Z=u(t,["responseModalities"]);Z!=null&&c(a,["responseModalities"],Z);const ce=u(t,["mediaResolution"]);ce!=null&&c(a,["mediaResolution"],ce);const ne=u(t,["speechConfig"]);if(ne!=null&&c(a,["speechConfig"],Qu(ne)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=u(t,["thinkingConfig"]);se!=null&&c(a,["thinkingConfig"],se);const ge=u(t,["imageConfig"]);return ge!=null&&c(a,["imageConfig"],PA(ge)),a}function fA(l,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],at(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const C=u(t,["logprobs"]);C!=null&&c(a,["logprobs"],C);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const U=u(t,["frequencyPenalty"]);U!=null&&c(a,["frequencyPenalty"],U);const P=u(t,["seed"]);P!=null&&c(a,["seed"],P);const V=u(t,["responseMimeType"]);V!=null&&c(a,["responseMimeType"],V);const w=u(t,["responseSchema"]);w!=null&&c(a,["responseSchema"],Ku(w));const k=u(t,["responseJsonSchema"]);k!=null&&c(a,["responseJsonSchema"],k);const b=u(t,["routingConfig"]);b!=null&&c(a,["routingConfig"],b);const X=u(t,["modelSelectionConfig"]);X!=null&&c(a,["modelConfig"],X);const j=u(t,["safetySettings"]);if(o!==void 0&&j!=null){let M=j;Array.isArray(M)&&(M=M.map(F=>F)),c(o,["safetySettings"],M)}const le=u(t,["tools"]);if(o!==void 0&&le!=null){let M=ai(le);Array.isArray(M)&&(M=M.map(F=>Ig(oi(F)))),c(o,["tools"],M)}const Z=u(t,["toolConfig"]);o!==void 0&&Z!=null&&c(o,["toolConfig"],Z);const ce=u(t,["labels"]);o!==void 0&&ce!=null&&c(o,["labels"],ce);const ne=u(t,["cachedContent"]);o!==void 0&&ne!=null&&c(o,["cachedContent"],vn(l,ne));const se=u(t,["responseModalities"]);se!=null&&c(a,["responseModalities"],se);const ge=u(t,["mediaResolution"]);ge!=null&&c(a,["mediaResolution"],ge);const ue=u(t,["speechConfig"]);ue!=null&&c(a,["speechConfig"],bg(Qu(ue)));const He=u(t,["audioTimestamp"]);He!=null&&c(a,["audioTimestamp"],He);const $=u(t,["thinkingConfig"]);$!=null&&c(a,["thinkingConfig"],$);const ye=u(t,["imageConfig"]);return ye!=null&&c(a,["imageConfig"],HA(ye)),a}function Uh(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["contents"]);if(r!=null){let p=Ht(r);Array.isArray(p)&&(p=p.map(g=>Ja(g))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],cA(l,f,o)),o}function Lh(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["contents"]);if(r!=null){let p=Ht(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],fA(l,f,o)),o}function qh(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>U_(h))),c(t,["candidates"],y)}const r=u(l,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(l,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(l,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(l,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function Gh(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),c(t,["candidates"],h)}const r=u(l,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(l,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(l,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(l,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(l,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function dA(l,t){const o={};if(u(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(l,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(l,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(l,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(l,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(l,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(l,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(l,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=u(l,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const v=u(l,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const E=u(l,["outputMimeType"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","mimeType"],E);const C=u(l,["outputCompressionQuality"]);if(t!==void 0&&C!=null&&c(t,["parameters","outputOptions","compressionQuality"],C),u(l,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(l,["imageSize"]);if(t!==void 0&&A!=null&&c(t,["parameters","sampleImageSize"],A),u(l,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function pA(l,t){const o={},a=u(l,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(l,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(l,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(l,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(l,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(l,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(l,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(l,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(l,["includeSafetyAttributes"]);t!==void 0&&E!=null&&c(t,["parameters","includeSafetyAttributes"],E);const C=u(l,["includeRaiReason"]);t!==void 0&&C!=null&&c(t,["parameters","includeRaiReason"],C);const A=u(l,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const U=u(l,["outputMimeType"]);t!==void 0&&U!=null&&c(t,["parameters","outputOptions","mimeType"],U);const P=u(l,["outputCompressionQuality"]);t!==void 0&&P!=null&&c(t,["parameters","outputOptions","compressionQuality"],P);const V=u(l,["addWatermark"]);t!==void 0&&V!=null&&c(t,["parameters","addWatermark"],V);const w=u(l,["labels"]);t!==void 0&&w!=null&&c(t,["labels"],w);const k=u(l,["imageSize"]);t!==void 0&&k!=null&&c(t,["parameters","sampleImageSize"],k);const b=u(l,["enhancePrompt"]);return t!==void 0&&b!=null&&c(t,["parameters","enhancePrompt"],b),o}function mA(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&dA(f,o),o}function hA(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&pA(f,o),o}function gA(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>MA(p))),c(t,["generatedImages"],f)}const r=u(l,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Rg(r)),t}function yA(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>Ya(p))),c(t,["generatedImages"],f)}const r=u(l,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Mg(r)),t}function vA(l,t){const o={},a=u(l,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(l,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(l,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(l,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(l,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(l,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(l,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(l,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=u(l,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(l,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(l,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],Ka(v));const E=u(l,["referenceImages"]);if(t!==void 0&&E!=null){let C=E;Array.isArray(C)&&(C=C.map(A=>Ex(A))),c(t,["instances[0]","referenceImages"],C)}if(u(l,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(l,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function TA(l,t){const o={},a=u(l,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(l,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(l,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(l,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(l,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(l,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=u(l,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const v=u(l,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(l,["pubsubTopic"]);t!==void 0&&E!=null&&c(t,["parameters","pubsubTopic"],E);const C=u(l,["negativePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","negativePrompt"],C);const A=u(l,["enhancePrompt"]);t!==void 0&&A!=null&&c(t,["parameters","enhancePrompt"],A);const U=u(l,["generateAudio"]);t!==void 0&&U!=null&&c(t,["parameters","generateAudio"],U);const P=u(l,["lastFrame"]);t!==void 0&&P!=null&&c(t,["instances[0]","lastFrame"],Ft(P));const V=u(l,["referenceImages"]);if(t!==void 0&&V!=null){let b=V;Array.isArray(b)&&(b=b.map(X=>Sx(X))),c(t,["instances[0]","referenceImages"],b)}const w=u(l,["mask"]);t!==void 0&&w!=null&&c(t,["instances[0]","mask"],Tx(w));const k=u(l,["compressionQuality"]);return t!==void 0&&k!=null&&c(t,["parameters","compressionQuality"],k),o}function EA(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);f!=null&&c(t,["error"],f);const p=u(l,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],AA(p)),t}function SA(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);f!=null&&c(t,["error"],f);const p=u(l,["response"]);return p!=null&&c(t,["response"],xA(p)),t}function CA(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],Ka(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],wg(p));const g=u(t,["source"]);g!=null&&NA(g,o);const y=u(t,["config"]);return y!=null&&vA(y,o),o}function _A(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],Ft(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],Dg(p));const g=u(t,["source"]);g!=null&&RA(g,o);const y=u(t,["config"]);return y!=null&&TA(y,o),o}function AA(l){const t={},o=u(l,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>IA(p))),c(t,["generatedVideos"],f)}const a=u(l,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function xA(l){const t={},o=u(l,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>wA(p))),c(t,["generatedVideos"],f)}const a=u(l,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function NA(l,t){const o={},a=u(l,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(l,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Ka(r));const f=u(l,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],wg(f)),o}function RA(l,t){const o={},a=u(l,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(l,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Ft(r));const f=u(l,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Dg(f)),o}function MA(l){const t={},o=u(l,["_self"]);o!=null&&c(t,["image"],zA(o));const a=u(l,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(l,["_self"]);return r!=null&&c(t,["safetyAttributes"],Rg(r)),t}function Ya(l){const t={},o=u(l,["_self"]);o!=null&&c(t,["image"],Ng(o));const a=u(l,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(l,["_self"]);r!=null&&c(t,["safetyAttributes"],Mg(r));const f=u(l,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function bA(l){const t={},o=u(l,["_self"]);o!=null&&c(t,["mask"],Ng(o));const a=u(l,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function IA(l){const t={},o=u(l,["video"]);return o!=null&&c(t,["video"],yx(o)),t}function wA(l){const t={},o=u(l,["_self"]);return o!=null&&c(t,["video"],vx(o)),t}function DA(l){const t={},o=u(l,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(l,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(l,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(l,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(l,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(l,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(l,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(l,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(l,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const E=u(l,["presencePenalty"]);E!=null&&c(t,["presencePenalty"],E);const C=u(l,["responseLogprobs"]);C!=null&&c(t,["responseLogprobs"],C);const A=u(l,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const U=u(l,["responseModalities"]);U!=null&&c(t,["responseModalities"],U);const P=u(l,["responseSchema"]);P!=null&&c(t,["responseSchema"],P);const V=u(l,["routingConfig"]);V!=null&&c(t,["routingConfig"],V);const w=u(l,["seed"]);w!=null&&c(t,["seed"],w);const k=u(l,["speechConfig"]);k!=null&&c(t,["speechConfig"],bg(k));const b=u(l,["stopSequences"]);b!=null&&c(t,["stopSequences"],b);const X=u(l,["temperature"]);X!=null&&c(t,["temperature"],X);const j=u(l,["thinkingConfig"]);j!=null&&c(t,["thinkingConfig"],j);const le=u(l,["topK"]);le!=null&&c(t,["topK"],le);const Z=u(l,["topP"]);if(Z!=null&&c(t,["topP"],Z),u(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function UA(l,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ne(l,a)),o}function LA(l,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ne(l,a)),o}function qA(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function GA(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function PA(l){const t={},o=u(l,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(l,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(l,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(l,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function HA(l){const t={},o=u(l,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(l,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(l,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const f=u(l,["outputCompressionQuality"]);return f!=null&&c(t,["imageOutputOptions","compressionQuality"],f),t}function zA(l){const t={},o=u(l,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],Jn(o));const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Ng(l){const t={},o=u(l,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(l,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],Jn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Ka(l){const t={};if(u(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(l,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],Jn(o));const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Ft(l){const t={},o=u(l,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(l,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Jn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function VA(l,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],vg(l,g)),a}function kA(l,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],vg(l,g)),a}function BA(l,t){const o={},a=u(t,["config"]);return a!=null&&VA(l,a,o),o}function FA(l,t){const o={},a=u(t,["config"]);return a!=null&&kA(l,a,o),o}function OA(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["_self"]);if(r!=null){let f=Tg(r);Array.isArray(f)&&(f=f.map(p=>bu(p))),c(t,["models"],f)}return t}function JA(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["_self"]);if(r!=null){let f=Tg(r);Array.isArray(f)&&(f=f.map(p=>Iu(p))),c(t,["models"],f)}return t}function YA(l){const t={},o=u(l,["maskMode"]);o!=null&&c(t,["maskMode"],o);const a=u(l,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(l,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function bu(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(l,["description"]);r!=null&&c(t,["description"],r);const f=u(l,["version"]);f!=null&&c(t,["version"],f);const p=u(l,["_self"]);p!=null&&c(t,["tunedModelInfo"],rx(p));const g=u(l,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(l,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=u(l,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const v=u(l,["temperature"]);v!=null&&c(t,["temperature"],v);const E=u(l,["maxTemperature"]);E!=null&&c(t,["maxTemperature"],E);const C=u(l,["topP"]);C!=null&&c(t,["topP"],C);const A=u(l,["topK"]);A!=null&&c(t,["topK"],A);const U=u(l,["thinking"]);return U!=null&&c(t,["thinking"],U),t}function Iu(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(l,["description"]);r!=null&&c(t,["description"],r);const f=u(l,["versionId"]);f!=null&&c(t,["version"],f);const p=u(l,["deployedModels"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(C=>oA(C))),c(t,["endpoints"],E)}const g=u(l,["labels"]);g!=null&&c(t,["labels"],g);const y=u(l,["_self"]);y!=null&&c(t,["tunedModelInfo"],ux(y));const h=u(l,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const v=u(l,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),c(t,["checkpoints"],E)}return t}function KA(l){const t={},o=u(l,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(l,["fileData"]);f!=null&&c(t,["fileData"],aA(f));const p=u(l,["functionCall"]);p!=null&&c(t,["functionCall"],sA(p));const g=u(l,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(l,["inlineData"]);y!=null&&c(t,["inlineData"],D_(y));const h=u(l,["text"]);h!=null&&c(t,["text"],h);const v=u(l,["thought"]);v!=null&&c(t,["thought"],v);const E=u(l,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const C=u(l,["videoMetadata"]);return C!=null&&c(t,["videoMetadata"],C),t}function QA(l){const t={},o=u(l,["productImage"]);return o!=null&&c(t,["image"],Ft(o)),t}function XA(l,t){const o={},a=u(l,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(l,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(l,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(l,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(l,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(l,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=u(l,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const v=u(l,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const E=u(l,["outputCompressionQuality"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E);const C=u(l,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const A=u(l,["labels"]);return t!==void 0&&A!=null&&c(t,["labels"],A),o}function ZA(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["source"]);r!=null&&WA(r,o);const f=u(t,["config"]);return f!=null&&XA(f,o),o}function $A(l){const t={},o=u(l,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>Ya(r))),c(t,["generatedImages"],a)}return t}function WA(l,t){const o={},a=u(l,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(l,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Ft(r));const f=u(l,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>QA(g))),c(t,["instances[0]","productImages"],p)}return o}function jA(l){const t={},o=u(l,["referenceImage"]);o!=null&&c(t,["referenceImage"],Ft(o));const a=u(l,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(l,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(l,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],YA(f));const p=u(l,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],z_(p));const g=u(l,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(l,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function Rg(l){const t={},o=u(l,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(l,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(l,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function Mg(l){const t={},o=u(l,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(l,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(l,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function ex(l){const t={},o=u(l,["category"]);if(o!=null&&c(t,["category"],o),u(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(l,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function tx(l){const t={},o=u(l,["image"]);return o!=null&&c(t,["image"],Ft(o)),t}function nx(l,t){const o={},a=u(l,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(l,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(l,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(l,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(l,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(l,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function lx(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["source"]);r!=null&&ox(r,o);const f=u(t,["config"]);return f!=null&&nx(f,o),o}function ix(l){const t={},o=u(l,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>bA(r))),c(t,["generatedMasks"],a)}return t}function ox(l,t){const o={},a=u(l,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(l,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Ft(r));const f=u(l,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],tx(f)),o}function bg(l){const t={},o=u(l,["languageCode"]);o!=null&&c(t,["languageCode"],o);const a=u(l,["voiceConfig"]);if(a!=null&&c(t,["voiceConfig"],a),u(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function ax(l){const t={},o=u(l,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],rA(o));const a=u(l,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function sx(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(l,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(t,["googleMaps"],qA(g));const y=u(l,["googleSearch"]);y!=null&&c(t,["googleSearch"],GA(y));const h=u(l,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function Ig(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(C=>uA(C))),c(t,["functionDeclarations"],E)}const a=u(l,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(l,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(l,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(l,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(l,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(l,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(l,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(l,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function rx(l){const t={},o=u(l,["baseModel"]);o!=null&&c(t,["baseModel"],o);const a=u(l,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(l,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function ux(l){const t={},o=u(l,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const a=u(l,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(l,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function cx(l,t){const o={},a=u(l,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(l,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(l,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function fx(l,t){const o={},a=u(l,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(l,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(l,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function dx(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","name"],Ne(l,a));const r=u(t,["config"]);return r!=null&&cx(r,o),o}function px(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["config"]);return r!=null&&fx(r,o),o}function mx(l,t){const o={},a=u(l,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(l,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(l,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(l,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(l,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(l,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=u(l,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const v=u(l,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=u(l,["labels"]);t!==void 0&&E!=null&&c(t,["labels"],E);const C=u(l,["numberOfImages"]);t!==void 0&&C!=null&&c(t,["parameters","sampleCount"],C);const A=u(l,["mode"]);return t!==void 0&&A!=null&&c(t,["parameters","mode"],A),o}function hx(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ne(l,a));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],Ft(r));const f=u(t,["upscaleFactor"]);f!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&mx(p,o),o}function gx(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Ya(f))),c(t,["generatedImages"],r)}return t}function yx(l){const t={},o=u(l,["uri"]);o!=null&&c(t,["uri"],o);const a=u(l,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Jn(a));const r=u(l,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function vx(l){const t={},o=u(l,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(l,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Jn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Tx(l){const t={},o=u(l,["image"]);o!=null&&c(t,["_self"],Ft(o));const a=u(l,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function Ex(l){const t={},o=u(l,["image"]);o!=null&&c(t,["image"],Ka(o));const a=u(l,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function Sx(l){const t={},o=u(l,["image"]);o!=null&&c(t,["image"],Ft(o));const a=u(l,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function wg(l){const t={},o=u(l,["uri"]);o!=null&&c(t,["uri"],o);const a=u(l,["videoBytes"]);a!=null&&c(t,["encodedVideo"],Jn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function Dg(l){const t={},o=u(l,["uri"]);o!=null&&c(t,["gcsUri"],o);const a=u(l,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Jn(a));const r=u(l,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cx(l,t){const o={},a=u(l,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),o}function _x(l){const t={},o=u(l,["config"]);return o!=null&&Cx(o,t),t}function Ax(l,t){const o={},a=u(l,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function xx(l){const t={},o=u(l,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(l,["config"]);return a!=null&&Ax(a,t),t}function Nx(l){const t={},o=u(l,["name"]);return o!=null&&c(t,["_url","name"],o),t}function Rx(l,t){const o={},a=u(l,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(l,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function Mx(l){const t={},o=u(l,["name"]);o!=null&&c(t,["name"],o);const a=u(l,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(l,["done"]);r!=null&&c(t,["done"],r);const f=u(l,["error"]);f!=null&&c(t,["error"],f);const p=u(l,["response"]);return p!=null&&c(t,["response"],Ix(p)),t}function bx(l){const t={},o=u(l,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(l,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(l,["config"]);return r!=null&&Rx(r,t),t}function Ix(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["parent"]);a!=null&&c(t,["parent"],a);const r=u(l,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function wx(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function Dx(l){const t={},o=u(l,["config"]);return o!=null&&wx(o,t),t}function Ux(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function Ug(l,t){const o={},a=u(l,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(l,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(l,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(l,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),o}function Lx(l){const t={},o=u(l,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(l,["config"]);return a!=null&&Ug(a,t),t}function qx(l){const t={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gx="Content-Type",Px="X-Server-Timeout",Hx="User-Agent",wu="x-goog-api-client",zx="1.31.0",Vx=`google-genai-sdk/${zx}`,kx="v1beta1",Bx="v1beta",Ph=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Fx{constructor(t){var o,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:kx,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:Bx,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(o))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const f=new AbortController,p=f.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>f.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return o&&o.extraBody!==null&&Ox(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Hh(r),new Nu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Hh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){var o;return ti(this,arguments,function*(){const r=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";for(;;){const{done:g,value:y}=yield Pe(r.read());if(g){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=f.decode(y,{stream:!0});try{const E=JSON.parse(h);if("error"in E){const C=JSON.parse(JSON.stringify(E.error)),A=C.status,U=C.code,P=`got status: ${A}. ${JSON.stringify(E)}`;if(U>=400&&U<600)throw new Oa({message:P,status:U})}}catch(E){if(E.name==="ApiError")throw E}p+=h;let v=p.match(Ph);for(;v;){const E=v[1];try{const C=new Response(E,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Pe(new Nu(C)),p=p.slice(v[0].length),v=p.match(Ph)}catch(C){throw new Error(`exception parsing stream chunk ${E}. ${C}`)}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=Vx+" "+this.clientOptions.userAgentExtra;return t[Hx]=o,t[wu]=o,t[Gx]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(Px,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),v=ee("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,o==null?void 0:o.httpOptions);return f.upload(t,E,this)}async uploadFileToFileSearchStore(t,o,a){var r;const f=this.clientOptions.uploader,p=await f.stat(o),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),E={};a!=null&&Ug(a,E);const C=await this.fetchUploadUrl(h,g,y,v,E,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(o,C,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,f,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Hh(l){var t;if(l===void 0)throw new Error("response is undefined");if(!l.ok){const o=l.status;let a;!((t=l.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await l.json():a={error:{message:await l.text(),code:l.status,status:l.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new Oa({message:r,status:o}):new Error(r)}}function Ox(l,t){if(!t||Object.keys(t).length===0)return;if(l.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof l.body=="string"&&l.body.length>0)try{const f=JSON.parse(l.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const g=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(o,t);l.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jx="mcp_used/unknown";let Yx=!1;function Lg(l){for(const t of l)if(Kx(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Yx}function qg(l){var t;const o=(t=l[wu])!==null&&t!==void 0?t:"";l[wu]=(o+` ${Jx}`).trimStart()}function Kx(l){return l!==null&&typeof l=="object"&&l instanceof Zu}function Qx(l,t=100){return ti(this,arguments,function*(){let a,r=0;for(;r<t;){const f=yield Pe(l.listTools({cursor:a}));for(const p of f.tools)yield yield Pe(p),r++;if(!f.nextCursor)break;a=f.nextCursor}})}class Zu{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Zu(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,oo(Qx(v))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const E=r;p.push(E);const C=E.name;if(f[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);f[C]=v}}catch(E){o={error:E}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),NS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Xx(l,t,o){const a=new vS;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class Zx{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=jx(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(b=>{h=b}),E=t.callbacks,C=function(){h({})},A=this.apiClient,U={onopen:C,onmessage:b=>{Xx(A,E.onmessage,b)},onerror:(o=E==null?void 0:E.onerror)!==null&&o!==void 0?o:function(b){},onclose:(a=E==null?void 0:E.onclose)!==null&&a!==void 0?a:function(b){}},P=this.webSocketFactory.create(y,Wx(p),U);P.connect(),await v;const k={setup:{model:Ne(this.apiClient,t.model)}};return P.send(JSON.stringify(k)),new $x(P,this.apiClient)}}class $x{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=__(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=C_(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(jl.PLAY)}pause(){this.sendPlaybackControl(jl.PAUSE)}stop(){this.sendPlaybackControl(jl.STOP)}resetContext(){this.sendPlaybackControl(jl.RESET_CONTEXT)}close(){this.conn.close()}}function Wx(l){const t={};return l.forEach((o,a)=>{t[a]=o}),t}function jx(l){const t=new Headers;for(const[o,a]of Object.entries(l))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function tN(l,t,o){const a=new yS;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const f=JSON.parse(r);if(l.isVertexAI()){const p=N_(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class nN{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new Zx(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,f,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();t.config&&t.config.tools&&Lg(t.config.tools)&&qg(E);const C=aN(E);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C,v);else{const ne=this.apiClient.getApiKey();let se="BidiGenerateContent",ge="key";ne!=null&&ne.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),se="BidiGenerateContentConstrained",ge="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${se}?${ge}=${ne}`}let A=()=>{};const U=new Promise(ne=>{A=ne}),P=t.callbacks,V=function(){var ne;(ne=P==null?void 0:P.onopen)===null||ne===void 0||ne.call(P),A({})},w=this.apiClient,k={onopen:V,onmessage:ne=>{tN(w,P.onmessage,ne)},onerror:(o=P==null?void 0:P.onerror)!==null&&o!==void 0?o:function(ne){},onclose:(a=P==null?void 0:P.onclose)!==null&&a!==void 0?a:function(ne){}},b=this.webSocketFactory.create(v,oN(C),k);b.connect(),await U;let X=Ne(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const ne=this.apiClient.getProject(),se=this.apiClient.getLocation();X=`projects/${ne}/locations/${se}/`+X}let j={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Pa.AUDIO]}:t.config.responseModalities=[Pa.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const le=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],Z=[];for(const ne of le)if(this.isCallableTool(ne)){const se=ne;Z.push(await se.tool())}else Z.push(ne);Z.length>0&&(t.config.tools=Z);const ce={model:X,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?j=S_(this.apiClient,ce):j=E_(this.apiClient,ce),delete j.config,b.send(JSON.stringify(j)),new iN(b,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const lN={turnComplete:!0};class iN{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Ht(o.turns),t.isVertexAI()||(a=a.map(r=>Ja(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(eN)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},lN),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:x_(t)}:o={realtimeInput:A_(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function oN(l){const t={};return l.forEach((o,a)=>{t[a]=o}),t}function aN(l){const t=new Headers;for(const[o,a]of Object.entries(l))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zh=10;function Vh(l){var t,o,a;if(!((t=l==null?void 0:l.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=l==null?void 0:l.tools)!==null&&o!==void 0?o:[])if(ni(p)){r=!0;break}if(!r)return!0;const f=(a=l==null?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function ni(l){return"callTool"in l&&typeof l.callTool=="function"}function sN(l){var t,o,a;return(a=(o=(t=l.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>ni(r)))!==null&&a!==void 0?a:!1}function kh(l){var t;const o=[];return!((t=l==null?void 0:l.config)===null||t===void 0)&&t.tools&&l.config.tools.forEach((a,r)=>{if(ni(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(r)}),o}function Bh(l){var t;return!(!((t=l==null?void 0:l.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rN extends yn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,f,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!sN(o)||Vh(o.config))return await this.generateContentInternal(y);const h=kh(o);if(h.length>0){const P=h.map(V=>`tools[${V}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${P}.`)}let v,E;const C=Ht(y.contents),A=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:zh;let U=0;for(;U<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const P=v.candidates[0].content,V=[];for(const w of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(ni(w)){const b=await w.callTool(v.functionCalls);V.push(...b)}U++,E={role:"user",parts:V},y.contents=Ht(y.contents),y.contents.push(P),y.contents.push(E),Bh(y.config)&&(C.push(P),C.push(E))}return Bh(y.config)&&(v.automaticFunctionCallingHistory=C),v},this.generateContentStream=async o=>{var a,r,f,p,g;if(this.maybeMoveToResponseJsonSchem(o),Vh(o.config)){const E=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(E)}const y=kh(o);if(y.length>0){const E=y.map(C=>`tools[${C}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(f=(r=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new ml(gn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,f,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(f=o.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const f=(o=t.config)===null||o===void 0?void 0:o.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>ni(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&Lg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),qg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var o,a,r;const f=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(ni(p)){const g=p,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(t){var o,a,r;const f=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:zh;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,E){var C,A;return ti(this,arguments,function*(){for(var U,P,V,w;g<f;){p&&(g++,p=!1);const j=yield Pe(h.processParamsMaybeAddMcpUsage(E)),le=yield Pe(h.generateContentStreamInternal(j)),Z=[],ce=[];try{for(var k=!0,b=(P=void 0,oo(le)),X;X=yield Pe(b.next()),U=X.done,!U;k=!0){w=X.value,k=!1;const ne=w;if(yield yield Pe(ne),ne.candidates&&(!((C=ne.candidates[0])===null||C===void 0)&&C.content)){ce.push(ne.candidates[0].content);for(const se of(A=ne.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(g<f&&se.functionCall){if(!se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(se.functionCall.name)){const ge=yield Pe(v.get(se.functionCall.name).callTool([se.functionCall]));Z.push(...ge)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${se.functionCall.name}`)}}}}catch(ne){P={error:ne}}finally{try{!k&&!U&&(V=b.return)&&(yield Pe(V.call(b)))}finally{if(P)throw P.error}}if(Z.length>0){p=!0;const ne=new io;ne.candidates=[{content:{role:"user",parts:Z}}],yield yield Pe(ne);const se=[];se.push(...ce),se.push({role:"user",parts:Z});const ge=Ht(E.contents).concat(se);E.contents=ge}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Lh(this.apiClient,t);return g=ee("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=Gh(v),C=new io;return Object.assign(C,E),C})}else{const h=Uh(this.apiClient,t);return g=ee("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=qh(v),C=new io;return Object.assign(C,E),C})}}async generateContentStreamInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Lh(this.apiClient,t);return g=ee("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(E){return ti(this,arguments,function*(){var C,A,U,P;try{for(var V=!0,w=oo(E),k;k=yield Pe(w.next()),C=k.done,!C;V=!0){P=k.value,V=!1;const b=P,X=Gh(yield Pe(b.json()));X.sdkHttpResponse={headers:b.headers};const j=new io;Object.assign(j,X),yield yield Pe(j)}}catch(b){A={error:b}}finally{try{!V&&!C&&(U=w.return)&&(yield Pe(U.call(w)))}finally{if(A)throw A.error}}})})}else{const h=Uh(this.apiClient,t);return g=ee("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(E){return ti(this,arguments,function*(){var C,A,U,P;try{for(var V=!0,w=oo(E),k;k=yield Pe(w.next()),C=k.done,!C;V=!0){P=k.value,V=!1;const b=P,X=qh(yield Pe(b.json()));X.sdkHttpResponse={headers:b.headers};const j=new io;Object.assign(j,X),yield yield Pe(j)}}catch(b){A={error:b}}finally{try{!V&&!C&&(U=w.return)&&(yield Pe(U.call(w)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=nA(this.apiClient,t);return g=ee("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=iA(v),C=new gh;return Object.assign(C,E),C})}else{const h=tA(this.apiClient,t);return g=ee("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=lA(v),C=new gh;return Object.assign(C,E),C})}}async generateImagesInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=hA(this.apiClient,t);return g=ee("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=yA(v),C=new yh;return Object.assign(C,E),C})}else{const h=mA(this.apiClient,t);return g=ee("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=gA(v),C=new yh;return Object.assign(C,E),C})}}async editImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=$_(this.apiClient,t);return f=ee("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=W_(y),v=new aS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=hx(this.apiClient,t);return f=ee("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=gx(y),v=new sS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=ZA(this.apiClient,t);return f=ee("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=$A(y),v=new rS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=lx(this.apiClient,t);return f=ee("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=ix(y),v=new uS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=LA(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Iu(v))}else{const h=UA(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>bu(v))}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=FA(this.apiClient,t);return g=ee("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=JA(v),C=new vh;return Object.assign(C,E),C})}else{const h=BA(this.apiClient,t);return g=ee("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=OA(v),C=new vh;return Object.assign(C,E),C})}}async update(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=px(this.apiClient,t);return g=ee("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Iu(v))}else{const h=dx(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>bu(v))}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=K_(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=X_(v),C=new Th;return Object.assign(C,E),C})}else{const h=Y_(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=Q_(v),C=new Th;return Object.assign(C,E),C})}}async countTokens(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=F_(this.apiClient,t);return g=ee("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=J_(v),C=new Eh;return Object.assign(C,E),C})}else{const h=B_(this.apiClient,t);return g=ee("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=O_(v),C=new Eh;return Object.assign(C,E),C})}}async computeTokens(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=q_(this.apiClient,t);return f=ee("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=G_(y),v=new cS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=_A(this.apiClient,t);return g=ee("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const E=SA(v),C=new Ha;return Object.assign(C,E),C})}else{const h=CA(this.apiClient,t);return g=ee("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const E=EA(v),C=new Ha;return Object.assign(C,E),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uN extends yn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=eS(t);return g=ee("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const h=jE(t);return g=ee("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=YE(t);return f=ee("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cN(l){const t={},o=u(l,["data"]);if(o!=null&&c(t,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function fN(l){const t={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>EN(f))),c(t,["parts"],r)}const a=u(l,["role"]);return a!=null&&c(t,["role"],a),t}function dN(l,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);o!==void 0&&f!=null&&c(o,["newSessionExpireTime"],f);const p=u(t,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],TN(l,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),a}function pN(l,t){const o={},a=u(t,["config"]);return a!=null&&c(o,["config"],dN(l,a,o)),o}function mN(l){const t={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(l,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function hN(l){const t={},o=u(l,["id"]);o!=null&&c(t,["id"],o);const a=u(l,["args"]);a!=null&&c(t,["args"],a);const r=u(l,["name"]);if(r!=null&&c(t,["name"],r),u(l,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(l,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function gN(l){const t={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function yN(l){const t={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(l,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function vN(l,t){const o={},a=u(l,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(l,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(l,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(l,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(l,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(l,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(l,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(l,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(l,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],Xu(E));const C=u(l,["thinkingConfig"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","thinkingConfig"],C);const A=u(l,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const U=u(l,["systemInstruction"]);t!==void 0&&U!=null&&c(t,["setup","systemInstruction"],fN(at(U)));const P=u(l,["tools"]);if(t!==void 0&&P!=null){let le=ai(P);Array.isArray(le)&&(le=le.map(Z=>CN(oi(Z)))),c(t,["setup","tools"],le)}const V=u(l,["sessionResumption"]);t!==void 0&&V!=null&&c(t,["setup","sessionResumption"],SN(V));const w=u(l,["inputAudioTranscription"]);t!==void 0&&w!=null&&c(t,["setup","inputAudioTranscription"],w);const k=u(l,["outputAudioTranscription"]);t!==void 0&&k!=null&&c(t,["setup","outputAudioTranscription"],k);const b=u(l,["realtimeInputConfig"]);t!==void 0&&b!=null&&c(t,["setup","realtimeInputConfig"],b);const X=u(l,["contextWindowCompression"]);t!==void 0&&X!=null&&c(t,["setup","contextWindowCompression"],X);const j=u(l,["proactivity"]);return t!==void 0&&j!=null&&c(t,["setup","proactivity"],j),o}function TN(l,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ne(l,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],vN(r,o)),o}function EN(l){const t={},o=u(l,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(l,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(l,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(l,["fileData"]);f!=null&&c(t,["fileData"],mN(f));const p=u(l,["functionCall"]);p!=null&&c(t,["functionCall"],hN(p));const g=u(l,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(l,["inlineData"]);y!=null&&c(t,["inlineData"],cN(y));const h=u(l,["text"]);h!=null&&c(t,["text"],h);const v=u(l,["thought"]);v!=null&&c(t,["thought"],v);const E=u(l,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const C=u(l,["videoMetadata"]);return C!=null&&c(t,["videoMetadata"],C),t}function SN(l){const t={},o=u(l,["handle"]);if(o!=null&&c(t,["handle"],o),u(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function CN(l){const t={},o=u(l,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(l,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(l,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(l,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(l,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleMaps"]);g!=null&&c(t,["googleMaps"],gN(g));const y=u(l,["googleSearch"]);y!=null&&c(t,["googleSearch"],yN(y));const h=u(l,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _N(l){const t=[];for(const o in l)if(Object.prototype.hasOwnProperty.call(l,o)){const a=l[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${o}.${f}`);t.push(...r)}else t.push(o)}return t.join(",")}function AN(l,t){let o=null;const a=l.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(l.bidiGenerateContentSetup=f,o=f):delete l.bidiGenerateContentSetup}else a!==void 0&&delete l.bidiGenerateContentSetup;const r=l.fieldMask;if(o){const f=_N(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?l.fieldMask=f:delete l.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?l.fieldMask=y.join(","):delete l.fieldMask}else delete l.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?l.fieldMask=r.join(","):delete l.fieldMask;return l}class xN extends yn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=pN(this.apiClient,t);f=ee("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=AN(g,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NN(l,t){const o={},a=u(l,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function RN(l){const t={},o=u(l,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(l,["config"]);return a!=null&&NN(a,t),t}function MN(l){const t={},o=u(l,["name"]);return o!=null&&c(t,["_url","name"],o),t}function bN(l,t){const o={},a=u(l,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(l,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function IN(l){const t={},o=u(l,["parent"]);o!=null&&c(t,["_url","parent"],o);const a=u(l,["config"]);return a!=null&&bN(a,t),t}function wN(l){const t={},o=u(l,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(l,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(l,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DN extends yn{constructor(t){super(),this.apiClient=t,this.list=async o=>new ml(gn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=MN(t);return f=ee("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=RN(t);r=ee("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IN(t);return f=ee("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=wN(y),v=new fS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UN extends yn{constructor(t,o=new DN(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new ml(gn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_x(t);return f=ee("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Nx(t);return f=ee("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=xx(t);r=ee("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Dx(t);return f=ee("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=Ux(y),v=new dS;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Lx(t);return f=ee("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=qx(y),v=new pS;return Object.assign(v,h),v})}}async importFile(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=bx(t);return f=ee("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=Mx(y),v=new Ou;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LN(l,t){const o={},a=u(l,["name"]);return a!=null&&c(o,["_url","name"],a),o}function qN(l,t){const o={},a=u(l,["name"]);return a!=null&&c(o,["_url","name"],a),o}function GN(l,t){const o={},a=u(l,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function PN(l,t){const o={},a=u(l,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function HN(l,t,o){const a={};if(u(l,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(l,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(l,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(l,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(l,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(l,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(l,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(l,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(l,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(l,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(l,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function zN(l,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=u(l,["validationDataset"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec"],Fh(A))}else if(r==="PREFERENCE_TUNING"){const A=u(l,["validationDataset"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec"],Fh(A))}const f=u(l,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(l,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=u(l,["epochCount"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(g==="PREFERENCE_TUNING"){const A=u(l,["epochCount"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=u(l,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=u(l,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=u(l,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(h==="PREFERENCE_TUNING"){const A=u(l,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=u(l,["adapterSize"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=u(l,["adapterSize"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(u(l,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(l,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=u(l,["labels"]);t!==void 0&&E!=null&&c(t,["labels"],E);const C=u(l,["beta"]);return t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],C),a}function VN(l,t){const o={},a=u(l,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(l,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(l,["trainingDataset"]);f!=null&&$N(f);const p=u(l,["config"]);return p!=null&&HN(p,o),o}function kN(l,t){const o={},a=u(l,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(l,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(l,["trainingDataset"]);f!=null&&WN(f,o,t);const p=u(l,["config"]);return p!=null&&zN(p,o,t),o}function BN(l,t){const o={},a=u(l,["name"]);return a!=null&&c(o,["_url","name"],a),o}function FN(l,t){const o={},a=u(l,["name"]);return a!=null&&c(o,["_url","name"],a),o}function ON(l,t,o){const a={},r=u(l,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(l,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(l,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function JN(l,t,o){const a={},r=u(l,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(l,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(l,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function YN(l,t){const o={},a=u(l,["config"]);return a!=null&&ON(a,o),o}function KN(l,t){const o={},a=u(l,["config"]);return a!=null&&JN(a,o),o}function QN(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(l,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Gg(g))),c(o,["tuningJobs"],p)}return o}function XN(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(l,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Du(g))),c(o,["tuningJobs"],p)}return o}function ZN(l,t){const o={},a=u(l,["name"]);a!=null&&c(o,["model"],a);const r=u(l,["name"]);return r!=null&&c(o,["endpoint"],r),o}function $N(l,t){const o={};if(u(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(l,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(l,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["examples","examples"],r)}return o}function WN(l,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(l,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(l,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(l,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(l,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(l,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Gg(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const f=u(l,["state"]);f!=null&&c(o,["state"],gg(f));const p=u(l,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(l,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=u(l,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const h=u(l,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(l,["description"]);v!=null&&c(o,["description"],v);const E=u(l,["baseModel"]);E!=null&&c(o,["baseModel"],E);const C=u(l,["_self"]);return C!=null&&c(o,["tunedModel"],ZN(C)),o}function Du(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const f=u(l,["state"]);f!=null&&c(o,["state"],gg(f));const p=u(l,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(l,["startTime"]);g!=null&&c(o,["startTime"],g);const y=u(l,["endTime"]);y!=null&&c(o,["endTime"],y);const h=u(l,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(l,["error"]);v!=null&&c(o,["error"],v);const E=u(l,["description"]);E!=null&&c(o,["description"],E);const C=u(l,["baseModel"]);C!=null&&c(o,["baseModel"],C);const A=u(l,["tunedModel"]);A!=null&&c(o,["tunedModel"],A);const U=u(l,["preTunedModel"]);U!=null&&c(o,["preTunedModel"],U);const P=u(l,["supervisedTuningSpec"]);P!=null&&c(o,["supervisedTuningSpec"],P);const V=u(l,["preferenceOptimizationSpec"]);V!=null&&c(o,["preferenceOptimizationSpec"],V);const w=u(l,["tuningDataStats"]);w!=null&&c(o,["tuningDataStats"],w);const k=u(l,["encryptionSpec"]);k!=null&&c(o,["encryptionSpec"],k);const b=u(l,["partnerModelTuningSpec"]);b!=null&&c(o,["partnerModelTuningSpec"],b);const X=u(l,["customBaseModel"]);X!=null&&c(o,["customBaseModel"],X);const j=u(l,["experiment"]);j!=null&&c(o,["experiment"],j);const le=u(l,["labels"]);le!=null&&c(o,["labels"],le);const Z=u(l,["outputUri"]);Z!=null&&c(o,["outputUri"],Z);const ce=u(l,["pipelineJob"]);ce!=null&&c(o,["pipelineJob"],ce);const ne=u(l,["serviceAccount"]);ne!=null&&c(o,["serviceAccount"],ne);const se=u(l,["tunedModelDisplayName"]);se!=null&&c(o,["tunedModelDisplayName"],se);const ge=u(l,["veoTuningSpec"]);return ge!=null&&c(o,["veoTuningSpec"],ge),o}function jN(l,t){const o={},a=u(l,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const f=u(l,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(l,["done"]);p!=null&&c(o,["done"],p);const g=u(l,["error"]);return g!=null&&c(o,["error"],g),o}function Fh(l,t){const o={},a=u(l,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const r=u(l,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eR extends yn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ml(gn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:xu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=FN(t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>Du(v))}else{const h=BN(t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>Gg(v))}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=KN(t);return g=ee("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=XN(v),C=new Sh;return Object.assign(C,E),C})}else{const h=YN(t);return g=ee("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=QN(v),C=new Sh;return Object.assign(C,E),C})}}async cancel(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=qN(t);return g=ee("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=PN(v),C=new Ch;return Object.assign(C,E),C})}else{const h=LN(t);return g=ee("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=GN(v),C=new Ch;return Object.assign(C,E),C})}}async tuneInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=kN(t,t);return f=ee("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Du(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=VN(t);return f=ee("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>jN(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tR{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const nR=1024*1024*8,lR=3,iR=1e3,oR=2,Va="x-goog-upload-status";async function aR(l,t,o){var a;const r=await Pg(l,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Va])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function sR(l,t,o){var a;const r=await Pg(l,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Va])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=cg(f),g=new Ju;return Object.assign(g,p),g}async function Pg(l,t,o){var a,r;let f=0,p=0,g=new Nu(new Response),y="upload";for(f=l.size;p<f;){const h=Math.min(nR,f-p),v=l.slice(p,p+h);p+h>=f&&(y+=", finalize");let E=0,C=iR;for(;E<lR&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Va]));)E++,await uR(C),C=C*oR;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Va])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function rR(l){return{size:l.size,type:l.type}}function uR(l){return new Promise(t=>setTimeout(t,l))}class cR{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await aR(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await sR(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await rR(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fR{create(t,o,a){return new dR(t,o,a)}}class dR{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oh="x-goog-api-key";class pR{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Oh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Oh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mR="gl-node/";class hR{constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=OE(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new pR(this.apiKey);this.apiClient=new Fx({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:mR+"web",uploader:new cR,downloader:new tR}),this.models=new rN(this.apiClient),this.live=new nN(this.apiClient,r,new fR),this.batches=new TC(this.apiClient),this.chats=new e_(this.models,this.apiClient),this.caches=new $C(this.apiClient),this.files=new c_(this.apiClient),this.operations=new uN(this.apiClient),this.authTokens=new xN(this.apiClient),this.tunings=new eR(this.apiClient),this.fileSearchStores=new UN(this.apiClient)}}var gR={};const Eu=[{id:1,question:"Cul es el propsito principal de una biblioteca?",options:["Comprar comida","Leer y tomar prestados libros","Jugar videojuegos","Dormir"],correctAnswer:1},{id:2,question:"Cmo debemos comportarnos en la biblioteca?",options:["Gritando fuerte","Corriendo por los pasillos","En silencio y con respeto","Comiendo dulces"],correctAnswer:2},{id:3,question:"Qu haces si daas un libro accidentalmente?",options:["Lo escondes","Lo tiras a la basura","Avisas al encargado","Culpas a otro compaero"],correctAnswer:2},{id:4,question:"Cul de estos NO es un libro?",options:["El Principito","Una revista de cmics","Una manzana","Una enciclopedia"],correctAnswer:2},{id:5,question:"Qu necesitas para llevarte un libro a casa?",options:["Dinero","Tu carnet o ID de biblioteca","Permiso de tus padres solamente","Nada, solo lo tomas"],correctAnswer:1}],yR=async l=>{const t=gR.API_KEY;if(!t)return console.warn("No API_KEY found. Returning fallback quiz."),Eu;try{const a=await new hR({apiKey:t}).models.generateContent({model:"gemini-2.5-flash",contents:`Generate a multiple-choice quiz with exactly 5 questions for primary school children about the book/topic: "${l}". If the topic is generic, generate general reading comprehension questions.`,config:{responseMimeType:"application/json",responseSchema:{type:ut.ARRAY,items:{type:ut.OBJECT,properties:{id:{type:ut.INTEGER},question:{type:ut.STRING},options:{type:ut.ARRAY,items:{type:ut.STRING},description:"Array of 4 possible answers"},correctAnswer:{type:ut.INTEGER,description:"Index of the correct answer (0-3)"}},required:["id","question","options","correctAnswer"]}}}});return a.text?JSON.parse(a.text):Eu}catch(o){return console.error("Failed to generate quiz with Gemini:",o),Eu}},vR=()=>{const{books:l}=pl(),[t,o]=D.useState(""),[a,r]=D.useState([]),[f,p]=D.useState(!1),[g,y]=D.useState("select"),[h,v]=D.useState([]),[E,C]=D.useState(0),A=async()=>{if(!t)return;const w=l.find(b=>b.id===t);if(!w)return;p(!0);const k=await yR(w.title);r(k),v(new Array(k.length).fill(-1)),p(!1),y("quiz")},U=(w,k)=>{const b=[...h];b[w]=k,v(b)},P=()=>{let w=0;a.forEach((k,b)=>{h[b]===k.correctAnswer&&w++}),C(w),y("result")},V=()=>{o(""),y("select"),C(0),v([])};return S.jsx(Fa,{children:S.jsxs("div",{className:"max-w-3xl mx-auto py-10",children:[g==="select"&&S.jsxs("div",{className:"bg-slate-800 rounded-3xl p-8 shadow-xl text-center border border-slate-700",children:[S.jsx("div",{className:"w-20 h-20 bg-purple-900/50 text-purple-400 rounded-full flex items-center justify-center mx-auto mb-6",children:S.jsx(nE,{size:40})}),S.jsx("h2",{className:"text-2xl font-bold font-display text-white mb-4",children:"Desafa tu mente!"}),S.jsx("p",{className:"text-slate-400 mb-8",children:"Selecciona un libro que hayas ledo y nuestra Inteligencia Artificial generar 5 preguntas para ti."}),S.jsx("div",{className:"mb-8",children:S.jsxs("select",{className:"w-full p-4 rounded-xl bg-slate-900 border border-slate-700 text-slate-200 outline-none focus:border-purple-500",value:t,onChange:w=>o(w.target.value),children:[S.jsx("option",{value:"",children:"-- Elige un libro --"}),l.map(w=>S.jsx("option",{value:w.id,children:w.title},w.id))]})}),S.jsx("button",{onClick:A,disabled:!t||f,className:"bg-purple-600 hover:bg-purple-500 text-white font-bold py-4 px-8 rounded-xl shadow-lg shadow-purple-900/50 transition-all w-full flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:f?S.jsxs(S.Fragment,{children:[S.jsx(pE,{className:"animate-spin"})," Generando preguntas con IA..."]}):"Comenzar Quiz"})]}),g==="quiz"&&S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl shadow-sm mb-6 flex justify-between items-center border border-slate-700",children:[S.jsx("span",{className:"font-bold text-slate-400",children:"Progreso"}),S.jsx("div",{className:"flex gap-2",children:a.map((w,k)=>S.jsx("div",{className:`h-2 w-8 rounded-full ${h[k]!==-1?"bg-purple-500":"bg-slate-700"}`},k))})]}),a.map((w,k)=>S.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-700",children:[S.jsxs("h3",{className:"text-lg font-bold text-white mb-4",children:[k+1,". ",w.question]}),S.jsx("div",{className:"grid gap-3",children:w.options.map((b,X)=>S.jsx("button",{onClick:()=>U(k,X),className:`text-left p-4 rounded-xl border-2 transition-all ${h[k]===X?"border-purple-500 bg-purple-900/30 text-purple-300 font-bold":"border-slate-700 bg-slate-900/50 text-slate-300 hover:border-slate-500 hover:bg-slate-700"}`,children:b},X))})]},w.id)),S.jsx("button",{onClick:P,disabled:h.includes(-1),className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-4 rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Ver Resultados"})]}),g==="result"&&S.jsxs("div",{className:"bg-slate-800 rounded-3xl p-8 shadow-xl text-center border border-slate-700",children:[S.jsx("div",{className:"mb-6",children:E===5?S.jsx(gm,{size:80,className:"mx-auto text-yellow-400"}):S.jsx(gm,{size:80,className:"mx-auto text-purple-400"})}),S.jsx("h2",{className:"text-4xl font-display font-bold text-white mb-2",children:"Tu Puntuacin"}),S.jsxs("p",{className:"text-6xl font-black text-purple-500 mb-8",children:[E," / 5"]}),S.jsx("div",{className:"space-y-4 mb-8 text-left",children:a.map((w,k)=>{const b=h[k]===w.correctAnswer;return S.jsx("div",{className:`p-4 rounded-xl border ${b?"border-green-800 bg-green-900/20":"border-red-800 bg-red-900/20"}`,children:S.jsxs("div",{className:"flex items-start gap-3",children:[b?S.jsx(_u,{className:"text-green-500 mt-1",size:20}):S.jsx(uE,{className:"text-red-500 mt-1",size:20}),S.jsxs("div",{children:[S.jsx("p",{className:"font-bold text-slate-200",children:w.question}),S.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Tu respuesta: ",w.options[h[k]]]}),!b&&S.jsxs("p",{className:"text-sm text-green-400 font-bold mt-1",children:["Correcta: ",w.options[w.correctAnswer]]})]})]})},k)})}),S.jsx("button",{onClick:V,className:"bg-purple-600 text-white font-bold py-3 px-8 rounded-xl hover:bg-purple-500 transition-colors",children:"Intentar otro"})]})]})})},TR=()=>{const{currentUser:l,changeMyPassword:t,toggleTwoFactor:o}=pl(),[a,r]=D.useState(""),[f,p]=D.useState(""),[g,y]=D.useState(""),[h,v]=D.useState(""),[E,C]=D.useState(""),[A,U]=D.useState(!1),P=k=>{if(k.preventDefault(),v(""),f!==g){v("Error: La nueva contrasea no coincide con la confirmacin.");return}const b=t(a,f);v(b.success?"Contrasea actualizada con xito!":`Error: ${b.message}`),b.success&&(r(""),p(""),y(""))},V=k=>{if(k.preventDefault(),E.length<4){alert("El PIN debe tener al menos 4 dgitos");return}o(!0,E),U(!1),C(""),alert("Verificacin en dos pasos activada.")},w=()=>{window.confirm("Seguro que quieres desactivar la verificacin en dos pasos?")&&o(!1)};return S.jsx(Fa,{children:S.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 pb-20",children:[S.jsxs("div",{className:"mb-6",children:[S.jsx("h1",{className:"text-3xl font-display font-bold text-white",children:"Configuracin de Cuenta"}),S.jsx("p",{className:"text-slate-400",children:"Gestiona tu seguridad y preferencias de acceso."})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 border border-slate-700 shadow-lg",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[S.jsx("div",{className:"p-2 bg-blue-900/30 rounded-lg",children:S.jsx(Bu,{className:"text-blue-400",size:24})}),S.jsx("h2",{className:"text-xl font-bold text-white",children:"Cambiar Contrasea"})]}),S.jsxs("form",{onSubmit:P,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-1",children:"Contrasea Actual"}),S.jsx("input",{type:"password",className:"w-full bg-slate-900 border border-slate-600 rounded-lg p-3 text-white focus:border-blue-500 outline-none",value:a,onChange:k=>r(k.target.value),placeholder:"Ingresa tu contrasea actual",required:!0})]}),S.jsxs("div",{className:"border-t border-slate-700 pt-4",children:[S.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-1",children:"Nueva Contrasea"}),S.jsx("input",{type:"password",className:"w-full bg-slate-900 border border-slate-600 rounded-lg p-3 text-white focus:border-blue-500 outline-none",value:f,onChange:k=>p(k.target.value),placeholder:"Nueva contrasea",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-1",children:"Confirmar Nueva Contrasea"}),S.jsx("input",{type:"password",className:"w-full bg-slate-900 border border-slate-600 rounded-lg p-3 text-white focus:border-blue-500 outline-none",value:g,onChange:k=>y(k.target.value),placeholder:"Repite la nueva contrasea",required:!0})]}),h&&S.jsx("div",{className:`p-3 rounded-lg text-sm font-bold ${h.includes("Error")?"bg-red-900/30 text-red-400":"bg-green-900/30 text-green-400"}`,children:h}),S.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg hover:shadow-blue-500/20",children:"Actualizar Contrasea"})]})]}),S.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 border border-slate-700 shadow-lg",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[S.jsx("div",{className:"p-2 bg-purple-900/30 rounded-lg",children:S.jsx(Ga,{className:"text-purple-400",size:24})}),S.jsx("h2",{className:"text-xl font-bold text-white",children:"Verificacin en Dos Pasos"})]}),S.jsx("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-700/50 mb-6",children:S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-white font-bold",children:"Estado del 2FA"}),S.jsx("p",{className:`text-sm ${l!=null&&l.twoFactorEnabled?"text-green-400":"text-slate-500"}`,children:l!=null&&l.twoFactorEnabled?"Activado":"Desactivado"})]}),l!=null&&l.twoFactorEnabled?S.jsx("div",{className:"bg-green-500/20 text-green-400 p-2 rounded-full",children:S.jsx(iE,{size:20})}):S.jsx("div",{className:"bg-slate-700 text-slate-500 p-2 rounded-full",children:S.jsx(NE,{size:20})})]})}),l!=null&&l.twoFactorEnabled?S.jsxs("div",{className:"text-center",children:[S.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Tu cuenta est protegida con un PIN."}),S.jsx("button",{onClick:w,className:"w-full bg-red-900/40 hover:bg-red-900/60 border border-red-800 text-red-300 font-bold py-3 rounded-xl transition-all",children:"Desactivar 2FA"})]}):A?S.jsxs("form",{onSubmit:V,className:"animate-in fade-in",children:[S.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-2",children:"Crea tu PIN de seguridad"}),S.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,className:"w-full bg-slate-900 border border-slate-600 rounded-lg p-3 text-white text-center text-2xl tracking-widest font-mono focus:border-purple-500 outline-none mb-4",placeholder:"0000",value:E,onChange:k=>C(k.target.value),autoFocus:!0}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("button",{type:"button",onClick:()=>{U(!1),C("")},className:"flex-1 bg-slate-700 text-white font-bold py-2 rounded-lg",children:"Cancelar"}),S.jsx("button",{className:"flex-1 bg-green-600 hover:bg-green-500 text-white font-bold py-2 rounded-lg",children:"Activar"})]})]}):S.jsxs("div",{className:"text-center",children:[S.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Aade una capa extra de seguridad. Te pediremos un PIN cada vez que inicies sesin."}),S.jsx("button",{onClick:()=>U(!0),className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg hover:shadow-purple-500/20",children:"Configurar 2FA"})]})]})]})]})})},ba=({children:l,allowedRoles:t})=>{const{currentUser:o,isLoading:a}=pl();return a?S.jsx("div",{className:"min-h-screen flex items-center justify-center text-primary-600",children:"Cargando BiblioKids..."}):o?t&&!t.includes(o.role)?o.role===de.ADMIN?S.jsx(Ia,{to:"/admin",replace:!0}):S.jsx(Ia,{to:"/dashboard",replace:!0}):S.jsx(S.Fragment,{children:l}):S.jsx(Ia,{to:"/login",replace:!0})},ER=()=>S.jsxs(fT,{children:[S.jsx(fl,{path:"/login",element:S.jsx(HE,{})}),S.jsx(fl,{path:"/dashboard",element:S.jsx(ba,{allowedRoles:[de.STUDENT,de.TEACHER,de.PARENT],children:S.jsx(zE,{})})}),S.jsx(fl,{path:"/quiz",element:S.jsx(ba,{allowedRoles:[de.STUDENT],children:S.jsx(vR,{})})}),S.jsx(fl,{path:"/admin/*",element:S.jsx(ba,{allowedRoles:[de.ADMIN],children:S.jsx(VE,{})})}),S.jsx(fl,{path:"/settings",element:S.jsx(ba,{children:S.jsx(TR,{})})}),S.jsx(fl,{path:"*",element:S.jsx(Ia,{to:"/login",replace:!0})})]}),SR=()=>S.jsx(KT,{children:S.jsx(LT,{children:S.jsx(ER,{})})}),Hg=document.getElementById("root");if(!Hg)throw new Error("Could not find root element to mount to");const CR=Tv.createRoot(Hg);CR.render(S.jsx(fv.StrictMode,{children:S.jsx(SR,{})}));
